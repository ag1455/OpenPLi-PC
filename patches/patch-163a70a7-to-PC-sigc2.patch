diff -ruN o/autogen.sh pc/autogen.sh
--- o/autogen.sh	2020-08-01 17:47:17.083612383 +0300
+++ pc/autogen.sh	1970-01-01 03:00:00.000000000 +0300
@@ -1,2 +0,0 @@
-#!/bin/sh
-autoreconf -i
diff -ruN o/configure.ac pc/configure.ac
--- o/configure.ac	2020-08-01 17:47:17.083612383 +0300
+++ pc/configure.ac	2020-11-01 12:15:22.762270427 +0300
@@ -1,4 +1,4 @@
-AC_INIT([enigma2],[4],[forum@openpli.org])
+AC_INIT([enigma2],[PC7.3],[forum@openpli.org])
 AM_INIT_AUTOMAKE([dist-bzip2 no-define tar-pax -Wno-portability])
 AC_CONFIG_HEADERS([enigma2_config.h])
 
@@ -31,7 +31,7 @@
 
 dnl versions of plugins-base
 PKG_CHECK_MODULES(TUXTXT, tuxbox-tuxtxt)
-PKG_CHECK_MODULES(BASE, [freetype2 fribidi glib-2.0 libdvbsi++ libpng libxml-2.0 sigc++-2.0 libssl libcrypto])
+PKG_CHECK_MODULES(BASE, [freetype2 fribidi glib-2.0 libdvbsi++ libpng libxml-2.0 sigc++-2.0 libssl libcrypto libnl-3.0])
 PKG_CHECK_MODULES(LIBDDVD, libdreamdvd, HAVE_LIBDDVD="yes", HAVE_LIBDDVD="no")
 AM_CONDITIONAL(HAVE_LIBDDVD, test "$HAVE_LIBDDVD" = "yes")
 PKG_CHECK_MODULES(AVAHI, avahi-client)
@@ -43,6 +43,8 @@
 AC_SUBST(LIBJPEG_LIBS)
 AC_CHECK_LIB([ungif], [DGifOpen], [LIBGIF_LIBS="-lungif"], [AC_CHECK_LIB([gif], [DGifOpen], [LIBGIF_LIBS="-lgif"], [AC_MSG_ERROR([Could not find libgif or libungif])])])
 AC_SUBST(LIBGIF_LIBS)
+AC_CHECK_LIB([xmlccwrap], [exit], [LIBXMLCCWRAP_LIBS="-lxmlccwrap"], [AC_MSG_ERROR([Could not find libxmlccwrap])])
+AC_SUBST(LIBXMLCCWRAP_LIBS)
 
 AC_ARG_WITH(crashlogemail,
 	[  --with-crashlogemail=crash log email address],
@@ -110,6 +112,16 @@
 fi
 AM_CONDITIONAL(HAVE_LIBXINE, test "$with_libxine" = "yes")
 
+AC_ARG_WITH(xlib,
+	AS_HELP_STRING([--with-xlib],[use xlib, yes or no]),
+	[with_xlib=$withval],[with_xlib=no])
+if test "$with_xlib" = "yes"; then
+	PKG_CHECK_MODULES(LIBXINE, libxine)
+	PKG_CHECK_MODULES(X11, x11)
+	AC_DEFINE([WITH_XLIB],[1],[Define to 1 if you want to use xlib])
+fi
+AM_CONDITIONAL(HAVE_XLIB, test "$with_xlib" = "yes")
+
 AC_ARG_WITH(debug,
 	AS_HELP_STRING([--without-debug],[disable debugging code]),
 	[with_debug="$withval"],[with_debug="yes"])
@@ -245,7 +257,7 @@
 
 CPPFLAGS="$CPPFLAGS $PYTHON_CPPFLAGS"
 CFLAGS="$CFLAGS -Wall"
-CXXFLAGS="$CXXFLAGS -Wall -flto $BASE_CFLAGS $ENIGMA2_CFLAGS $PTHREAD_CFLAGS $OPENMP_CFLAGS $ALSA_CFLAGS"
+CXXFLAGS="$CXXFLAGS -Wall $BASE_CFLAGS $ENIGMA2_CFLAGS $PTHREAD_CFLAGS $OPENMP_CFLAGS $ALSA_CFLAGS"
 
 AC_CONFIG_FILES([
 Makefile
diff -ruN o/data/keymap.xml pc/data/keymap.xml
--- o/data/keymap.xml	2020-08-24 13:46:09.551546342 +0300
+++ pc/data/keymap.xml	2020-11-01 12:15:22.762270427 +0300
@@ -37,7 +37,6 @@
 	<map context="HelpActions">
 		<key id="KEY_HELP" mapto="displayHelp" flags="b" />
 		<!-- Keyboard specific buttons -->
-		<key id="KEY_F1" mapto="displayHelp" flags="b" />
 	</map>
 
 	<map context="NavigationActions">
@@ -212,6 +211,39 @@
 		<key id="KEY_PAGEDOWN" mapto="pageDown" flags="mr" />
 		<key id="KEY_CHANNELUP" mapto="pageUp" flags="mr" />
 		<key id="KEY_CHANNELDOWN" mapto="pageDown" flags="mr" />
+		<key id="KEY_EPG" mapto="e" flags="mr" />
+		<key id="KEY_RECORD" mapto="r" flags="mr" />
+		<key id="KEY_TV" mapto="t" flags="mr" />
+		<key id="KEY_INFO" mapto="i" flags="mr" />
+		<key id="KEY_PLAYPAUSE" mapto="p" flags="mr" />
+		<key id="KEY_VOLUMEUP" mapto="+" flags="mr" />
+		<key id="KEY_OK" mapto="ok" flags="mr" />
+		<key id="KEY_ENTER" mapto="ok" flags="mr" />
+		<key id="KEY_AUDIO" mapto="a" flags="mr" />
+		<key id="KEY_RADIO" mapto="d" flags="mr" />
+		<key id="KEY_VIDEO" mapto="v" flags="mr" />
+		<key id="KEY_MUTE" mapto="m" flags="mr" />
+		<key id="KEY_VOLUMEDOWN" mapto="-" flags="mr" />
+		<key id="KEY_MENU" mapto="Space" flags="mr" />
+		<key id="KEY_RED" mapto="F1" flags="mr" />
+		<key id="KEY_GREEN" mapto="F2" flags="mr" />
+		<key id="KEY_YELLOW" mapto="F3" flags="mr" />
+		<key id="KEY_BLUE" mapto="F4" flags="mr" />
+		<key id="KEY_INFO" mapto="F5" flags="mr" />
+		<key id="KEY_EPG" mapto="F6" flags="mr" />
+		<key id="KEY_POWER" mapto="F10" flags="mr" />
+<!--		<key id="KEY_UP" mapto="keyUp" flags="mr" />
+		<key id="KEY_DOWN" mapto="keyDown" flags="mr" />-->
+		<key id="1" mapto="1" flags="mr" />
+		<key id="2" mapto="2" flags="mr" />
+		<key id="3" mapto="3" flags="mr" />
+		<key id="4" mapto="4" flags="mr" />
+		<key id="5" mapto="5" flags="mr" />
+		<key id="6" mapto="6" flags="mr" />
+		<key id="7" mapto="7" flags="mr" />
+		<key id="8" mapto="8" flags="mr" />
+		<key id="9" mapto="9" flags="mr" />
+		<key id="0" mapto="0" flags="mr" />
 	</map>
 
 	<map context="SetupActions">
@@ -219,8 +251,6 @@
 		<key id="KEY_OK" mapto="ok" flags="m" />
 		<key id="KEY_EXIT" mapto="cancel" flags="m" />
 		<key id="KEY_ESC" mapto="cancel" flags="m" />
-		<key id="KEY_LEFT" mapto="left" flags="mr" />
-		<key id="KEY_RIGHT" mapto="right" flags="mr" />
 		<key id="KEY_RED" mapto="cancel" flags="m" />
 		<key id="KEY_GREEN" mapto="save" flags="m" />
 		<key id="KEY_MUTE" mapto="deleteForward" flags="mr" />
@@ -679,8 +709,6 @@
 		<key id="KEY_RIGHT" mapto="rightRepeated" flags="r" />
 		<key id="KEY_LEFT" mapto="leftUp" flags="b" />
 		<key id="KEY_RIGHT" mapto="rightUp" flags="b" />
-		<key id="KEY_UP" mapto="upUp" flags="b" />
-		<key id="KEY_DOWN" mapto="downUp" flags="b" />
 		<key id="KEY_PREVIOUS" mapto="moveUp" flags="m" />
 		<key id="KEY_NEXT" mapto="moveDown" flags="m" />
 	</map>
diff -ruN o/data/menu.xml pc/data/menu.xml
--- o/data/menu.xml	2020-08-01 17:47:17.126610895 +0300
+++ pc/data/menu.xml	2020-11-01 12:15:22.762270427 +0300
@@ -35,9 +35,8 @@
 			</menu>
 			<menu weight="5" level="0" text="System" entryID="system_selection">
 				<id val="system"/>
-				<menu level="0" text="Audio / Video" entryID="video_selection">
+				<menu level="0" text="Other A/V settings" entryID="video_selection">
 					<id val="video"/>
-					<item level="0" entryID="av_setup"><setup id="avsetup"/></item>
 					<item level="2" entryID="subtitle_setup"><setup id="subtitlesetup"/></item>
 					<item level="0" entryID="autolanguage_setup"><setup id="autolanguagesetup"/></item>
 				</menu>
@@ -80,21 +79,13 @@
 				<item weight="10" level="0" text="Common Interface" entryID="ci_setup" requires="CommonInterface"><screen module="Ci" screen="CiSelection"/></item>
 			</menu>
 			<item weight="15" level="0" text="Parental control" entryID="parental_setup"><screen module="ParentalControlSetup" screen="ParentalControlSetup"/></item>
-			<item weight="15" level="0" text="Factory reset" entryID="factory_reset"><screen module="FactoryReset" screen="FactoryReset"/></item>
-			<item weight="15" level="0" text="Flash image" entryID="flash_image" requires="canFlashWithOfgwrite" ><screen module="FlashImage" screen="SelectImage"/></item>
-			<item weight="15" level="0" text="Software update" entryID="software_update"><screen module="SoftwareUpdate" screen="UpdatePlugin"/></item>
 		</menu>
 		<menu text="Standby / restart" entryID="standby_restart_list">
 			<id val="shutdown"/>
 			<item text="Sleep timer" entryID="sleep"><screen module="SleepTimerEdit" screen="SleepTimerEdit"/></item>
 			<item text="Standby" entryID="standby"><screen module="Standby" screen="Standby"/></item>
 			<item text="Restart" entryID="restart"><screen module="Standby" screen="TryQuitMainloop">2</screen></item>
-			<item text="Multiboot image selector" entryID="multiboot" requires="canMultiBoot"><screen module="FlashImage" screen="MultibootSelection">1</screen></item>
-			<item text="Restart enigma" requires="InDebugMode" entryID="restart_enigma_debug"><screen module="Standby" screen="TryQuitMainloop">6</screen></item>
-			<item text="Restart enigma" requires="!InDebugMode" entryID="restart_enigma"><screen module="Standby" screen="TryQuitMainloop">3</screen></item>
-			<item text="Restart enigma in standard mode" requires="InDebugMode" entryID="restart_enigma"><screen module="Standby" screen="TryQuitMainloop">3</screen></item>
-			<item text="Restart enigma in debug mode" requires="!InDebugMode" entryID="restart_enigma_debug"><screen module="Standby" screen="TryQuitMainloop">6</screen></item>
-			<item text="Deep standby" requires="DeepstandbySupport" entryID="deep_standby"><screen module="Standby" screen="TryQuitMainloop">1</screen></item>
-			<item text="Shutdown" requires="!DeepstandbySupport" entryID="deep_standby"><screen module="Standby" screen="TryQuitMainloop">1</screen></item>
+			<item text="Quit" entryID="restart_enigma"><screen module="Standby" screen="TryQuitMainloop">3</screen></item>
+			<item text="Shutdown" requires="DeepstandbySupport" entryID="deep_standby"><screen module="Standby" screen="TryQuitMainloop">1</screen></item>
 		</menu>
 </menu>
diff -ruN o/data/setup.xml pc/data/setup.xml
--- o/data/setup.xml	2020-10-08 17:00:52.518646103 +0300
+++ pc/data/setup.xml	2020-11-01 12:15:22.762270427 +0300
@@ -3,9 +3,6 @@
 		<item level="0" text="Time zone area" description="Select your time zone area or region.">config.timezone.area</item>
 		<item level="0" text="Time zone" description="Select the time zone within the area or region.">config.timezone.val</item>
 	</setup>
-	<setup key="avsetup">
-		<!-- this is just a placeholder, the Videomode plugin implements this submenu -->
-	</setup>
 	<setup key="usage" title="Customize">
 		<item level="1" text="Sort order for menu entries" description="This option allows you to hide and sort menu entries. When selecting user you can change order and hide menu items via the blue button. With the user defined hidden the blue button is not shown in the menus">config.usage.menu_sort_mode</item>
 		<item level="1" text="Sort order for setup entries" description="This option allows you to alphabetically sort setup menu entries.">config.usage.sort_settings</item>
@@ -249,4 +246,14 @@
 		<item level="0" text="Show picons in channel selection list" description="Configure if service picons will be shown in the channel selection list.">config.usage.service_icon_enable</item>
 		<item level="0" text="Enable HDMI-CEC" description="When enabled, HDMI-CEC is enabled with standard configuration" requires="HasHDMI-CEC">config.hdmicec.enabled</item>
 	</setup>
+	<setup key="pc" title="PC settings">
+		<item level="0" text="Fullscreen default">config.pc.default_fullscreen</item>
+		<item level="1" text="Zoom enable">config.pc.zoom_enable</item>
+ 		<item level="2" text="Zoom aspect 4:3 of X (%)">config.pc.image4_3_zoom_x</item>
+ 		<item level="2" text="Zoom aspect 4:3 of Y (%)">config.pc.image4_3_zoom_y</item>
+ 		<item level="2" text="Zoom aspect 16:9 of X (%)">config.pc.image16_9_zoom_x</item>
+ 		<item level="2" text="Zoom aspect 16:9 of Y (%)">config.pc.image16_9_zoom_y</item>
+		<!--item level="0" text="TV resolution width ">config.pc.initial_window_width</item>
+		<item level="0" text="TV resolution height">config.pc.initial_window_height</item-->
+	</setup>
 </setupxml>
diff -ruN o/lib/base/condVar.cpp pc/lib/base/condVar.cpp
--- o/lib/base/condVar.cpp	1970-01-01 03:00:00.000000000 +0300
+++ pc/lib/base/condVar.cpp	2020-11-01 12:15:22.763270446 +0300
@@ -0,0 +1,240 @@
+/*
+ * condVar.cpp: Mutexes, conditional vars.
+ *
+ * See the main source file 'vdr.c' for copyright information and
+ * how to reach the author.
+ *
+ * $Id: thread.c 4.14 2018/03/05 22:38:10 kls Exp $
+ */
+
+#include <lib/base/condVar.h>
+
+#if !defined(max)
+#define max(a, b)       ((a) > (b) ? (a) : (b))
+#endif
+
+static bool GetAbsTime(struct timespec *Abstime, int MillisecondsFromNow)
+{
+  struct timeval now;
+  if (gettimeofday(&now, NULL) == 0) {           // get current time
+     now.tv_sec  += MillisecondsFromNow / 1000;  // add full seconds
+     now.tv_usec += (MillisecondsFromNow % 1000) * 1000;  // add microseconds
+     if (now.tv_usec >= 1000000) {               // take care of an overflow
+        now.tv_sec++;
+        now.tv_usec -= 1000000;
+        }
+     Abstime->tv_sec = now.tv_sec;          // seconds
+     Abstime->tv_nsec = now.tv_usec * 1000; // nano seconds
+     return true;
+     }
+  return false;
+}
+
+// --- cCondWait -------------------------------------------------------------
+
+cCondWait::cCondWait(void)
+{
+  signaled = false;
+  pthread_mutex_init(&mutex, NULL);
+  pthread_cond_init(&cond, NULL);
+}
+
+cCondWait::~cCondWait()
+{
+  pthread_cond_broadcast(&cond); // wake up any sleepers
+  pthread_cond_destroy(&cond);
+  pthread_mutex_destroy(&mutex);
+}
+
+void cCondWait::SleepMs(int TimeoutMs)
+{
+  cCondWait w;
+  w.Wait(max(TimeoutMs, 3)); // making sure the time is >2ms to avoid a possible busy wait
+}
+
+bool cCondWait::Wait(int TimeoutMs)
+{
+  pthread_mutex_lock(&mutex);
+  if (!signaled) {
+     if (TimeoutMs) {
+        struct timespec abstime;
+        if (GetAbsTime(&abstime, TimeoutMs)) {
+           while (!signaled) {
+                 if (pthread_cond_timedwait(&cond, &mutex, &abstime) == ETIMEDOUT)
+                    break;
+                 }
+           }
+        }
+     else
+        pthread_cond_wait(&cond, &mutex);
+     }
+  bool r = signaled;
+  signaled = false;
+  pthread_mutex_unlock(&mutex);
+  return r;
+}
+
+void cCondWait::Signal(void)
+{
+  pthread_mutex_lock(&mutex);
+  signaled = true;
+  pthread_cond_broadcast(&cond);
+  pthread_mutex_unlock(&mutex);
+}
+
+// --- cCondVar --------------------------------------------------------------
+
+cCondVar::cCondVar(void)
+{
+  pthread_cond_init(&cond, 0);
+}
+
+cCondVar::~cCondVar()
+{
+  pthread_cond_broadcast(&cond); // wake up any sleepers
+  pthread_cond_destroy(&cond);
+}
+
+void cCondVar::Wait(cMutex &Mutex)
+{
+  if (Mutex.locked) {
+     int locked = Mutex.locked;
+     Mutex.locked = 0; // have to clear the locked count here, as pthread_cond_wait
+                       // does an implicit unlock of the mutex
+     pthread_cond_wait(&cond, &Mutex.mutex);
+     Mutex.locked = locked;
+     }
+}
+
+bool cCondVar::TimedWait(cMutex &Mutex, int TimeoutMs)
+{
+  bool r = true; // true = condition signaled, false = timeout
+
+  if (Mutex.locked) {
+     struct timespec abstime;
+     if (GetAbsTime(&abstime, TimeoutMs)) {
+        int locked = Mutex.locked;
+        Mutex.locked = 0; // have to clear the locked count here, as pthread_cond_timedwait
+                          // does an implicit unlock of the mutex.
+        if (pthread_cond_timedwait(&cond, &Mutex.mutex, &abstime) == ETIMEDOUT)
+           r = false;
+        Mutex.locked = locked;
+        }
+     }
+  return r;
+}
+
+void cCondVar::Broadcast(void)
+{
+  pthread_cond_broadcast(&cond);
+}
+// --- cMutex ----------------------------------------------------------------
+
+cMutex::cMutex(void)
+{
+  locked = 0;
+  pthread_mutexattr_t attr;
+  pthread_mutexattr_init(&attr);
+  pthread_mutexattr_settype(&attr, PTHREAD_MUTEX_ERRORCHECK_NP);
+  pthread_mutex_init(&mutex, &attr);
+}
+
+cMutex::~cMutex()
+{
+  pthread_mutex_destroy(&mutex);
+}
+
+void cMutex::Lock(void)
+{
+  pthread_mutex_lock(&mutex);
+  locked++;
+}
+
+void cMutex::Unlock(void)
+{
+  if (!--locked)
+     pthread_mutex_unlock(&mutex);
+}
+
+// --- cMutexLock ------------------------------------------------------------
+
+cMutexLock::cMutexLock(cMutex *Mutex)
+{
+  mutex = NULL;
+  locked = false;
+  Lock(Mutex);
+}
+
+cMutexLock::~cMutexLock()
+{
+  if (mutex && locked)
+     mutex->Unlock();
+}
+
+bool cMutexLock::Lock(cMutex *Mutex)
+{
+  if (Mutex && !mutex) {
+     mutex = Mutex;
+     Mutex->Lock();
+     locked = true;
+     return true;
+     }
+  return false;
+}
+
+// --- cTimeMs ---------------------------------------------------------------
+
+cTimeMs::cTimeMs(int Ms)
+{
+  Set(Ms);
+}
+
+uint64_t cTimeMs::Now(void)
+{
+#if _POSIX_TIMERS > 0 && defined(_POSIX_MONOTONIC_CLOCK)
+#define MIN_RESOLUTION 5 // ms
+  static bool initialized = false;
+  static bool monotonic = false;
+  struct timespec tp;
+  if (!initialized) {
+     // check if monotonic timer is available and provides enough accurate resolution:
+     if (clock_getres(CLOCK_MONOTONIC, &tp) == 0) {
+      // long Resolution = tp.tv_nsec;
+        // require a minimum resolution:
+        if (tp.tv_sec == 0 && tp.tv_nsec <= MIN_RESOLUTION * 1000000) {
+           if (clock_gettime(CLOCK_MONOTONIC, &tp) == 0) {
+              monotonic = true;
+           }
+        }
+     }
+     initialized = true;
+  }
+  if (monotonic) {
+     if (clock_gettime(CLOCK_MONOTONIC, &tp) == 0)
+        return (uint64_t(tp.tv_sec)) * 1000 + tp.tv_nsec / 1000000;
+     monotonic = false;
+     // fall back to gettimeofday()
+  }
+#else
+#  warning Posix monotonic clock not available
+#endif
+  struct timeval t;
+  if (gettimeofday(&t, NULL) == 0)
+     return (uint64_t(t.tv_sec)) * 1000 + t.tv_usec / 1000;
+  return 0;
+}
+
+void cTimeMs::Set(int Ms)
+{
+  begin = Now() + Ms;
+}
+
+bool cTimeMs::TimedOut(void)
+{
+  return Now() >= begin;
+}
+
+uint64_t cTimeMs::Elapsed(void)
+{
+  return Now() - begin;
+}
diff -ruN o/lib/base/condVar.h pc/lib/base/condVar.h
--- o/lib/base/condVar.h	1970-01-01 03:00:00.000000000 +0300
+++ pc/lib/base/condVar.h	2020-11-01 12:15:22.764270464 +0300
@@ -0,0 +1,64 @@
+#ifndef __base_condVar_h
+#define __base_condVar_h
+
+#include <pthread.h>
+
+class cMutex {
+  friend class cCondVar;
+private:
+  pthread_mutex_t mutex;
+  int locked;
+public:
+  cMutex(void);
+  ~cMutex();
+  void Lock(void);
+  void Unlock(void);
+  };
+
+class cCondVar {
+private:
+  pthread_cond_t cond;
+public:
+  cCondVar(void);
+  ~cCondVar();
+  void Wait(cMutex &Mutex);
+  bool TimedWait(cMutex &Mutex, int TimeoutMs);
+  void Broadcast(void);
+  };
+
+class cCondWait {
+private:
+  pthread_mutex_t mutex;
+  pthread_cond_t cond;
+  bool signaled;
+public:
+  cCondWait(void);
+  ~cCondWait();
+  static void SleepMs(int TimeoutMs);
+  bool Wait(int TimeoutMs = 0);
+  void Signal(void);
+  };
+
+class cMutexLock {
+private:
+  cMutex *mutex;
+  bool locked;
+public:
+  cMutexLock(cMutex *Mutex = NULL);
+  ~cMutexLock();
+  bool Lock(cMutex *Mutex);
+  };
+
+class cTimeMs {
+private:
+  uint64_t begin;
+public:
+  cTimeMs(int Ms = 0);
+      ///< Creates a timer with ms resolution and an initial timeout of Ms.
+  static uint64_t Now(void);
+  void Set(int Ms = 0);
+  bool TimedOut(void);
+  uint64_t Elapsed(void);
+  };
+
+#endif
diff -ruN o/lib/base/Makefile.inc pc/lib/base/Makefile.inc
--- o/lib/base/Makefile.inc	2020-08-01 17:47:17.143610306 +0300
+++ pc/lib/base/Makefile.inc	2020-11-01 12:15:22.784270832 +0300
@@ -24,7 +24,9 @@
 	base/thread.cpp \
 	base/httpsstream.cpp \
 	base/httpstream.cpp \
-	base/wrappers.cpp
+	base/wrappers.cpp \
+	base/tsRingbuffer.cpp \
+	base/condVar.cpp
 
 EXTRA_DIST += \
 	base/eenv.cpp.in
@@ -59,4 +61,6 @@
 	base/thread.h \
 	base/httpsstream.h \
 	base/httpstream.h \
-	base/wrappers.h
+	base/wrappers.h \
+	base/tsRingbuffer.h \
+	base/condVar.h
diff -ruN o/lib/base/rawfile.cpp pc/lib/base/rawfile.cpp
--- o/lib/base/rawfile.cpp	2020-08-01 17:47:17.147610168 +0300
+++ pc/lib/base/rawfile.cpp	2020-11-01 12:15:22.785270851 +0300
@@ -3,6 +3,7 @@
 #include <fcntl.h>
 #include <lib/base/rawfile.h>
 #include <lib/base/eerror.h>
+#include <lib/gdi/xineLib.h>
 
 DEFINE_REF(eRawFile);
 
@@ -37,6 +38,13 @@
 	return m_fd;
 }
 
+void eRawFile::setfd(int fd)
+{
+	close();
+	m_nrfiles = 1;
+	m_fd = fd;
+}
+
 off_t eRawFile::lseek_internal(off_t offset)
 {
 //	eDebug("[eRawFile] lseek: %lld, %d", offset, whence);
@@ -175,3 +183,124 @@
 {
 	return m_last_offset;
 }
+
+#define KILOBYTE(n) ((n) * 1024)
+#define MEGABYTE(n) ((n) * 1024LL * 1024LL)
+#define AUDIO_STREAM_S   0xC0
+#define AUDIO_STREAM_E   0xDF
+#define VIDEO_STREAM_S   0xE0
+#define VIDEO_STREAM_E   0xEF
+
+eDecryptRawFile::eDecryptRawFile(int packetsize)
+ : eRawFile(packetsize)
+{
+	ringBuffer = new cRingBufferLinear(KILOBYTE(8192),TS_SIZE,true,"IN-TS");
+	ringBuffer->SetTimeouts(100,100);
+	bs_size = dvbcsa_bs_batch_size();
+	delivered=false;
+	lastPacketsCount = 0;
+	stream_correct = false;
+}
+
+eDecryptRawFile::~eDecryptRawFile()
+{
+	delete ringBuffer;
+}
+
+void eDecryptRawFile::setDemux(ePtr<eDVBDemux> _demux) {
+	demux = _demux;
+}
+
+uint8_t* eDecryptRawFile::getPackets(int &packetsCount) {
+	int Count=0;
+	if(delivered) {
+		ringBuffer->Del(lastPacketsCount*TS_SIZE);
+		delivered=false;
+	}
+	packetsCount = 0;
+
+	if (ringBuffer->Available()<bs_size*TS_SIZE)
+		return NULL;
+
+	uint8_t* p=ringBuffer->Get(Count);
+	if (Count>KILOBYTE(16))
+		Count = KILOBYTE(16);
+
+	if(p && Count>=TS_SIZE) {
+		if(*p!=TS_SYNC_BYTE) {
+			for(int i=1; i<Count; i++) {
+				if(p[i]==TS_SYNC_BYTE && (i+TS_SIZE==Count || (i+TS_SIZE>Count && p[i+TS_SIZE]==TS_SYNC_BYTE))) {
+					Count=i;
+					break;
+				}
+				ringBuffer->Del(Count);
+				eDebug("ERROR: skipped %d bytes to sync on TS packet", Count);
+				return NULL;
+			}
+		}
+		if(!demux->decrypt(p, Count, packetsCount)) {
+			cCondWait::SleepMs(20);
+			return NULL;
+		}
+		lastPacketsCount = packetsCount;
+		delivered=true;
+		return p;
+	}
+
+	return NULL;
+}
+
+ssize_t eDecryptRawFile::read(off_t offset, void *buf, size_t count)
+{
+	eSingleLocker l(m_lock);
+	int ret = 0;
+
+	while (ringBuffer->Available()<KILOBYTE(32)) {
+		ret = ringBuffer->Read(m_fd, KILOBYTE(16));
+		if (ret<0)
+			break;
+	}
+
+	int packetsCount = 0;
+
+	uint8_t *data = getPackets(packetsCount);
+
+	ret = -EBUSY;
+	if (data && packetsCount>0) {
+		if (!stream_correct) {
+			for (int i=0;i<packetsCount;i++) {
+				unsigned char* packet = data+i*TS_SIZE;
+				int adaptation_field_exist = (packet[3]&0x30)>>4;
+				unsigned char* wsk;
+				int len;
+
+				if (adaptation_field_exist==3) {
+					wsk = packet+5+packet[4];
+					len = 183-packet[4];
+				} else {
+					wsk = packet+4;
+					len = 184;
+				}
+
+				if (len>4 && wsk[0]==0 && wsk[1]==0 && wsk[2]==1
+						&& ((wsk[3]>=VIDEO_STREAM_S && wsk[3]<=VIDEO_STREAM_E)
+						|| (wsk[3]>=AUDIO_STREAM_S && wsk[3]<=AUDIO_STREAM_E)) ) {
+					stream_correct = true;
+					printf("**************** I HAVE PES (%02X)\n", wsk[3]);
+					ret = (packetsCount-i)*TS_SIZE;
+					memcpy(buf, packet, (packetsCount-i)*TS_SIZE);
+// When channel descramble, then start xineLib-playVideo()
+					cXineLib *xineLib = cXineLib::getInstance();
+					xineLib->setScrambled(false);
+					xineLib->playVideo();
+					break;
+				}
+			}
+		} else {
+			ret = packetsCount*TS_SIZE;
+			memcpy(buf, data, ret);
+		}
+	}
+
+	return ret;
+}
diff -ruN o/lib/base/rawfile.h pc/lib/base/rawfile.h
--- o/lib/base/rawfile.h	2020-08-01 17:47:17.147610168 +0300
+++ pc/lib/base/rawfile.h	2020-11-01 12:15:22.794271016 +0300
@@ -3,23 +3,27 @@
 
 #include <string>
 #include <lib/base/itssource.h>
+#include <lib/base/tsRingbuffer.h>
+#include <lib/dvb/edvbdemux.h>
 
 class eRawFile: public iTsSource
 {
 	DECLARE_REF(eRawFile);
-	eSingleLock m_lock;
 public:
 	eRawFile(int packetsize = 188);
 	~eRawFile();
 	int open(const char *filename);
+	void setfd(int fd);
 
 	// iTsSource
 	ssize_t read(off_t offset, void *buf, size_t count);
 	off_t length();
 	off_t offset();
 	int valid();
-private:
+protected:
+	eSingleLock m_lock;
 	int m_fd;
+private:
 	int m_nrfiles;
 	off_t m_splitsize;
 	off_t m_totallength;
@@ -36,4 +40,22 @@
 	int openFileUncached(int nr);
 };
 
+class eDecryptRawFile: public eRawFile
+{
+public:
+	eDecryptRawFile(int packetsize = 188);
+	~eDecryptRawFile();
+	void setDemux(ePtr<eDVBDemux> demux);
+	ssize_t read(off_t offset, void *buf, size_t count);
+private:
+	ePtr<eDVBDemux> demux;
+	cRingBufferLinear *ringBuffer;
+	int bs_size;
+	bool delivered;
+	int lastPacketsCount;
+	bool stream_correct;
+
+	uint8_t* getPackets(int &packetsCount);
+};
+
 #endif
diff -ruN o/lib/base/tsRingbuffer.cpp pc/lib/base/tsRingbuffer.cpp
--- o/lib/base/tsRingbuffer.cpp	1970-01-01 03:00:00.000000000 +0300
+++ pc/lib/base/tsRingbuffer.cpp	2020-11-01 12:15:22.795271035 +0300
@@ -0,0 +1,333 @@
+/*
+ * tsRingbuffer.cpp: A ring buffer
+ *
+ * See the main source file 'vdr.c' for copyright information and
+ * how to reach the author.
+ *
+ * Parts of this file were inspired by the 'ringbuffy.c' from the
+ * LinuxDVB driver (see linuxtv.org).
+ *
+ * $Id: TsRingbuffer.c 4.2 2017/03/19 12:43:36 kls Exp $
+ */
+
+#include <lib/base/tsRingbuffer.h>
+#include <stdlib.h>
+#include <unistd.h>
+
+// --- cRingBuffer -----------------------------------------------------------
+
+#define OVERFLOWREPORTDELTA 5 // seconds between reports
+#define PERCENTAGEDELTA     10
+#define PERCENTAGETHRESHOLD 70
+
+cRingBuffer::cRingBuffer(int Size, bool Statistics)
+{
+  size = Size;
+  statistics = Statistics;
+  maxFill = 0;
+  lastPercent = 0;
+  putTimeout = getTimeout = 0;
+  lastOverflowReport = 0;
+  overflowCount = overflowBytes = 0;
+}
+
+cRingBuffer::~cRingBuffer()
+{
+  if (statistics)
+     printf("buffer stats: %d (%d%%) used\n", maxFill, (maxFill * 100 / (size - 1)));
+//     printf("buffer stats: %d\n", maxFill, maxFill * 100 / (size - 1));
+}
+
+void cRingBuffer::UpdatePercentage(int Fill)
+{
+  if (Fill > maxFill)
+     maxFill = Fill;
+  int percent = Fill * 100 / (Size() - 1) / PERCENTAGEDELTA * PERCENTAGEDELTA; // clamp down to nearest quantum
+  if (percent != lastPercent) {
+    if ((percent >= PERCENTAGETHRESHOLD && percent > lastPercent) || (percent < PERCENTAGETHRESHOLD && lastPercent >= PERCENTAGETHRESHOLD)) {
+      printf("buffer usage: %d%%\n", percent);
+      lastPercent = percent;
+    }
+  }
+}
+
+void cRingBuffer::WaitForPut(void)
+{
+  if (putTimeout)
+     readyForPut.Wait(putTimeout);
+}
+
+void cRingBuffer::WaitForGet(void)
+{
+  if (getTimeout)
+     readyForGet.Wait(getTimeout);
+}
+
+void cRingBuffer::EnablePut(void)
+{
+  if (putTimeout && Free() > Size() / 10)
+     readyForPut.Signal();
+}
+
+void cRingBuffer::EnableGet(void)
+{
+  if (getTimeout && Available() > Size() / 10)
+     readyForGet.Signal();
+}
+
+void cRingBuffer::SetTimeouts(int PutTimeout, int GetTimeout)
+{
+  putTimeout = PutTimeout;
+  getTimeout = GetTimeout;
+}
+
+void cRingBuffer::ReportOverflow(int Bytes)
+{
+  overflowCount++;
+  overflowBytes += Bytes;
+  if (time(NULL) - lastOverflowReport > OVERFLOWREPORTDELTA) {
+     printf("ERROR: %d ring buffer overflow%s (%d bytes dropped)\n", overflowCount, overflowCount > 1 ? "s" : "", overflowBytes);
+     overflowCount = overflowBytes = 0;
+     lastOverflowReport = time(NULL);
+     }
+}
+
+// --- cRingBufferLinear -----------------------------------------------------
+
+#ifdef DEBUGRINGBUFFERS
+#define MAXRBLS 30
+#define DEBUGRBLWIDTH 45
+
+cRingBufferLinear *cRingBufferLinear::RBLS[MAXRBLS] = { NULL };
+
+void cRingBufferLinear::AddDebugRBL(cRingBufferLinear *RBL)
+{
+  for (int i = 0; i < MAXRBLS; i++) {
+      if (!RBLS[i]) {
+         RBLS[i] = RBL;
+         break;
+         }
+      }
+}
+
+void cRingBufferLinear::DelDebugRBL(cRingBufferLinear *RBL)
+{
+  for (int i = 0; i < MAXRBLS; i++) {
+      if (RBLS[i] == RBL) {
+         RBLS[i] = NULL;
+         break;
+         }
+      }
+}
+
+void cRingBufferLinear::PrintDebugRBL(void)
+{
+  bool printed = false;
+  for (int i = 0; i < MAXRBLS; i++) {
+      cRingBufferLinear *p = RBLS[i];
+      if (p) {
+         printed = true;
+         int lh = p->lastHead;
+         int lt = p->lastTail;
+         int h = lh * DEBUGRBLWIDTH / p->Size();
+         int t = lt * DEBUGRBLWIDTH / p->Size();
+         char buf[DEBUGRBLWIDTH + 10];
+         memset(buf, '-', DEBUGRBLWIDTH);
+         if (lt <= lh)
+            memset(buf + t, '*', max(h - t, 1));
+         else {
+            memset(buf, '*', h);
+            memset(buf + t, '*', DEBUGRBLWIDTH - t);
+            }
+         buf[t] = '<';
+         buf[h] = '>';
+         buf[DEBUGRBLWIDTH] = 0;
+         printf("%2d %s %8d %8d %s\n", i, buf, p->lastPut, p->lastGet, p->description);
+         }
+      }
+  if (printed)
+     printf("\n");
+  }
+#endif
+
+cRingBufferLinear::cRingBufferLinear(int Size, int Margin, bool Statistics, const char *Description)
+:cRingBuffer(Size, Statistics)
+{
+  description = Description ? strdup(Description) : NULL;
+  tail = head = margin = Margin;
+  gotten = 0;
+  buffer = NULL;
+  if (Size > 1) { // 'Size - 1' must not be 0!
+     if (Margin <= Size / 2) {
+        buffer = MALLOC(uchar, Size);
+        if (!buffer)
+           printf("ERROR: can't allocate ring buffer (size=%d)\n", Size);
+        Clear();
+        }
+     else
+        printf("ERROR: invalid margin for ring buffer (%d > %d)\n", Margin, Size / 2);
+     }
+  else
+     printf("ERROR: invalid size for ring buffer (%d)\n", Size);
+#ifdef DEBUGRINGBUFFERS
+  lastHead = head;
+  lastTail = tail;
+  lastPut = lastGet = -1;
+  AddDebugRBL(this);
+#endif
+}
+
+cRingBufferLinear::~cRingBufferLinear()
+{
+#ifdef DEBUGRINGBUFFERS
+  DelDebugRBL(this);
+#endif
+  free(buffer);
+  free(description);
+}
+
+int cRingBufferLinear::DataReady(const uchar *Data, int Count)
+{
+  return Count >= margin ? Count : 0;
+}
+
+int cRingBufferLinear::Available(void)
+{
+  int diff = head - tail;
+  return (diff >= 0) ? diff : Size() + diff - margin;
+}
+
+void cRingBufferLinear::Clear(void)
+{
+  int Head = head;
+  tail = Head;
+#ifdef DEBUGRINGBUFFERS
+  lastHead = Head;
+  lastTail = tail;
+  lastPut = lastGet = -1;
+#endif
+  maxFill = 0;
+  EnablePut();
+}
+
+int cRingBufferLinear::Read(int FileHandle, int Max)
+{
+  int Tail = tail;
+  int diff = Tail - head;
+  int free = (diff > 0) ? diff - 1 : Size() - head;
+  if (Tail <= margin)
+     free--;
+  int Count = -1;
+  errno = EAGAIN;
+  if (free > 0) {
+     if (0 < Max && Max < free)
+        free = Max;
+     Count = read(FileHandle, buffer + head, free);
+     if (Count > 0) {
+        int Head = head + Count;
+        if (Head >= Size())
+           Head = margin;
+        head = Head;
+        if (statistics) {
+           int fill = head - Tail;
+           if (fill < 0)
+              fill = Size() + fill;
+           else if (fill >= Size())
+              fill = Size() - 1;
+           UpdatePercentage(fill);
+           }
+        }
+     }
+#ifdef DEBUGRINGBUFFERS
+  lastHead = head;
+  lastPut = Count;
+#endif
+  EnableGet();
+  if (free == 0)
+     WaitForPut();
+  return Count;
+}
+
+int cRingBufferLinear::Put(const uchar *Data, int Count)
+{
+  if (Count > 0) {
+     int Tail = tail;
+     int rest = Size() - head;
+     int diff = Tail - head;
+     int free = ((Tail < margin) ? rest : (diff > 0) ? diff : Size() + diff - margin) - 1;
+     if (statistics) {
+        int fill = Size() - free - 1 + Count;
+        if (fill >= Size())
+           fill = Size() - 1;
+        UpdatePercentage(fill);
+        }
+     if (free > 0) {
+        if (free < Count)
+           Count = free;
+        if (Count >= rest) {
+           memcpy(buffer + head, Data, rest);
+           if (Count - rest)
+              memcpy(buffer + margin, Data + rest, Count - rest);
+           head = margin + Count - rest;
+           }
+        else {
+           memcpy(buffer + head, Data, Count);
+           head += Count;
+           }
+        }
+     else
+        Count = 0;
+#ifdef DEBUGRINGBUFFERS
+     lastHead = head;
+     lastPut = Count;
+#endif
+     EnableGet();
+     if (Count == 0)
+        WaitForPut();
+     }
+  return Count;
+}
+
+uchar *cRingBufferLinear::Get(int &Count)
+{
+  int Head = head;
+  int rest = Size() - tail;
+  if (rest < margin && Head < tail) {
+     int t = margin - rest;
+     memcpy(buffer + t, buffer + tail, rest);
+     tail = t;
+     rest = Head - tail;
+     }
+  int diff = Head - tail;
+  int cont = (diff >= 0) ? diff : Size() + diff - margin;
+  if (cont > rest)
+     cont = rest;
+  uchar *p = buffer + tail;
+  if ((cont = DataReady(p, cont)) > 0) {
+     Count = gotten = cont;
+     return p;
+     }
+  WaitForGet();
+  return NULL;
+}
+
+void cRingBufferLinear::Del(int Count)
+{
+  if (Count > gotten) {
+     printf("ERROR: invalid Count in cRingBufferLinear::Del: %d (limited to %d)\n", Count, gotten);
+     Count = gotten;
+     }
+  if (Count > 0) {
+     int Tail = tail;
+     Tail += Count;
+     gotten -= Count;
+     if (Tail >= Size())
+        Tail = margin;
+     tail = Tail;
+     EnablePut();
+     }
+#ifdef DEBUGRINGBUFFERS
+  lastTail = tail;
+  lastGet = Count;
+#endif
+}
diff -ruN o/lib/base/tsRingbuffer.h pc/lib/base/tsRingbuffer.h
--- o/lib/base/tsRingbuffer.h	1970-01-01 03:00:00.000000000 +0300
+++ pc/lib/base/tsRingbuffer.h	2020-11-01 12:15:22.795271035 +0300
@@ -0,0 +1,106 @@
+/*
+ * tsRingbuffer.h: A ring buffer
+ *
+ * See the main source file 'vdr.c' for copyright information and
+ * how to reach the author.
+ *
+ * $Id: tsRingbuffer.h 4.2 2017/03/19 13:11:39 kls Exp $
+ */
+
+#ifndef __RINGBUFFER_H
+#define __RINGBUFFER_H
+#define MALLOC(type, size)  (type *)malloc(sizeof(type) * (size))
+
+#include <lib/base/condVar.h>
+
+typedef unsigned char uchar;
+
+ssize_t safe_read(int filedes, void *buffer, size_t size);
+
+class cRingBuffer {
+private:
+  cCondWait readyForPut, readyForGet;
+  int putTimeout;
+  int getTimeout;
+  int size;
+  time_t lastOverflowReport;
+  int overflowCount;
+  int overflowBytes;
+protected:
+  int maxFill;//XXX
+  int lastPercent;
+  bool statistics;//XXX
+  void UpdatePercentage(int Fill);
+  void WaitForPut(void);
+  void WaitForGet(void);
+  void EnablePut(void);
+  void EnableGet(void);
+  virtual void Clear(void) = 0;
+  virtual int Available(void) = 0;
+  virtual int Free(void) { return Size() - Available() - 1; }
+  int Size(void) { return size; }
+public:
+  cRingBuffer(int Size, bool Statistics = false);
+  virtual ~cRingBuffer();
+  void SetTimeouts(int PutTimeout, int GetTimeout);
+  void ReportOverflow(int Bytes);
+  };
+
+class cRingBufferLinear : public cRingBuffer {
+//#define DEBUGRINGBUFFERS
+#ifdef DEBUGRINGBUFFERS
+private:
+  int lastHead, lastTail;
+  int lastPut, lastGet;
+  static cRingBufferLinear *RBLS[];
+  static void AddDebugRBL(cRingBufferLinear *RBL);
+  static void DelDebugRBL(cRingBufferLinear *RBL);
+public:
+  static void PrintDebugRBL(void);
+#endif
+private:
+  int margin, head, tail;
+  int gotten;
+  uchar *buffer;
+  char *description;
+protected:
+  virtual int DataReady(const uchar *Data, int Count);
+    ///< By default a ring buffer has data ready as soon as there are at least
+    ///< 'margin' bytes available. A derived class can reimplement this function
+    ///< if it has other conditions that define when data is ready.
+    ///< The return value is either 0 if there is not yet enough data available,
+    ///< or the number of bytes from the beginning of Data that are "ready".
+public:
+  cRingBufferLinear(int Size, int Margin = 0, bool Statistics = false, const char *Description = NULL);
+    ///< Creates a linear ring buffer.
+    ///< The buffer will be able to hold at most Size-Margin-1 bytes of data, and will
+    ///< be guaranteed to return at least Margin bytes in one consecutive block.
+    ///< The optional Description is used for debugging only.
+  virtual ~cRingBufferLinear();
+  virtual int Available(void);
+  virtual int Free(void) { return Size() - Available() - 1 - margin; }
+  virtual void Clear(void);
+    ///< Immediately clears the ring buffer.
+    ///< This function may safely be called from the reading thread without additional
+    ///< locking. If called from the writing thread, proper locking must be used.
+  int Read(int FileHandle, int Max = 0);
+    ///< Reads at most Max bytes from FileHandle and stores them in the
+    ///< ring buffer. If Max is 0, reads as many bytes as possible.
+    ///< Only one actual read() call is done.
+    ///< Returns the number of bytes actually read and stored, or
+    ///< an error value from the actual read() call.
+  int Put(const uchar *Data, int Count);
+    ///< Puts at most Count bytes of Data into the ring buffer.
+    ///< Returns the number of bytes actually stored.
+  uchar *Get(int &Count);
+    ///< Gets data from the ring buffer.
+    ///< The data will remain in the buffer until a call to Del() deletes it.
+    ///< Returns a pointer to the data, and stores the number of bytes
+    ///< actually available in Count. If the returned pointer is NULL, Count has no meaning.
+  void Del(int Count);
+    ///< Deletes at most Count bytes from the ring buffer.
+    ///< Count must be less or equal to the number that was returned by a previous
+    ///< call to Get().
+  };
+
+#endif
diff -ruN o/lib/driver/avswitch.cpp pc/lib/driver/avswitch.cpp
--- o/lib/driver/avswitch.cpp	2020-08-01 17:47:17.147610168 +0300
+++ pc/lib/driver/avswitch.cpp	2020-11-01 12:15:22.807271256 +0300
@@ -9,6 +9,7 @@
 #include <lib/base/eerror.h>
 #include <lib/base/ebase.h>
 #include <lib/driver/avswitch.h>
+#include <lib/gdi/xineLib.h>
 
 eAVSwitch *eAVSwitch::instance = 0;
 
@@ -48,11 +49,11 @@
 	int val=0;
 	if (m_fp_fd >= 0)
 	{
-		CFile f("/proc/stb/fp/vcr_fns", "r");
+		CFile f("/usr/local/e2/etc/stb/fp/vcr_fns", "r");
 		if (f)
 		{
 			if (fscanf(f, "%d", &val) != 1)
-				eDebug("[eAVSwitch] read /proc/stb/fp/vcr_fns failed: %m");
+				eDebug("[eAVSwitch] read /usr/local/e2/etc/stb/fp/vcr_fns failed: %m");
 		}
 		else if (ioctl(m_fp_fd, FP_IOCTL_GET_VCR, &val) < 0)
 			eDebug("[eAVSwitch] FP_GET_VCR failed: %m");
@@ -69,12 +70,12 @@
 	}
 	else
 	{
-		CFile f("/proc/stb/fp/events", "r");
+		CFile f("/usr/local/e2/etc/stb/fp/events", "r");
 		if (f)
 		{
 			int events;
 			if (fscanf(f, "%d", &events) != 1)
-				eDebug("[eAVSwitch] read /proc/stb/fp/events failed: %m");
+				eDebug("[eAVSwitch] read /usr/local/e2/etc/stb/fp/events failed: %m");
 			else if (events & FP_EVENT_VCR_SB_CHANGED)
 				/* emit */ vcr_sb_notifier(getVCRSlowBlanking());
 		}
@@ -103,14 +104,14 @@
 bool eAVSwitch::haveScartSwitch()
 {
 	char tmp[255];
-	int fd = open("/proc/stb/avs/0/input_choices", O_RDONLY);
+	int fd = open("/usr/local/e2/etc/stb/avs/0/input_choices", O_RDONLY);
 	if(fd < 0) {
-		eDebug("[eAVSwitch] cannot open /proc/stb/avs/0/input_choices: %m");
+		eDebug("[eAVSwitch] cannot open /usr/local/e2/etc/stb/avs/0/input_choices: %m");
 		return false;
 	}
 	if (read(fd, tmp, 255) < 1)
 	{
-		eDebug("[eAVSwitch] failed to read data from /proc/stb/avs/0/input_choices: %m");
+		eDebug("[eAVSwitch] failed to read data from /usr/local/e2/etc/stb/avs/0/input_choices: %m");
 		return false;
 	}
 	close(fd);
@@ -131,8 +132,8 @@
 
 	m_active = val == 0;
 
-	if((fd = open("/proc/stb/avs/0/input", O_WRONLY)) < 0) {
-		eDebug("[eAVSwitch] cannot open /proc/stb/avs/0/input: %m");
+	if((fd = open("/usr/local/e2/etc/stb/avs/0/input", O_WRONLY)) < 0) {
+		eDebug("[eAVSwitch] cannot open /usr/local/e2/etc/stb/avs/0/input: %m");
 		return;
 	}
 
@@ -158,7 +159,7 @@
 	const char *fmt = "";
 	int fd;
 
-	if (access("/proc/stb/avs/0/colorformat", W_OK))
+	if (access("/usr/local/e2/etc/stb/avs/0/colorformat", W_OK))
 		return;  // no colorformat file...
 
 	switch (format) {
@@ -170,8 +171,8 @@
 	if (*fmt == '\0')
 		return; // invalid format
 
-	if ((fd = open("/proc/stb/avs/0/colorformat", O_WRONLY)) < 0) {
-		eDebug("[eAVSwitch] cannot open /proc/stb/avs/0/colorformat: %m");
+	if((fd = open("/usr/local/e2/etc/stb/avs/0/colorformat", O_WRONLY)) < 0) {
+		eDebug("[eAVSwitch] cannot open /usr/local/e2/etc/stb/avs/0/colorformat: %m");
 		return;
 	}
 
@@ -184,6 +185,9 @@
 
 void eAVSwitch::setAspectRatio(int ratio)
 {
+	cXineLib *xineLib = cXineLib::getInstance();
+	cXineLib::getInstance()->setAspectRatio(ratio);
+
 	/*
 	0-4:3 Letterbox
 	1-4:3 PanScan
@@ -197,8 +201,8 @@
 	const char *policy[] = {"letterbox", "panscan", "bestfit", "panscan", "letterbox", "panscan", "letterbox"};
 
 	int fd;
-	if((fd = open("/proc/stb/video/aspect", O_WRONLY)) < 0) {
-		eDebug("[eAVSwitch] cannot open /proc/stb/video/aspect: %m");
+	if((fd = open("/usr/local/e2/etc/stb/video/aspect", O_WRONLY)) < 0) {
+		eDebug("[eAVSwitch] cannot open /usr/local/e2/etc/stb/video/aspect: %m");
 		return;
 	}
 //	eDebug("set aspect to %s", aspect[ratio]);
@@ -208,8 +212,8 @@
 	}
 	close(fd);
 
-	if((fd = open("/proc/stb/video/policy", O_WRONLY)) < 0) {
-		eDebug("[eAVSwitch] cannot open /proc/stb/video/policy: %m");
+	if((fd = open("/usr/local/e2/etc/stb/video/policy", O_WRONLY)) < 0) {
+		eDebug("[eAVSwitch] cannot open /usr/local/e2/etc/stb/video/policy: %m");
 		return;
 	}
 //	eDebug("set ratio to %s", policy[ratio]);
@@ -231,14 +235,14 @@
 
 	if (mode == 2)
 	{
-		int fd1 = open("/proc/stb/video/videomode_50hz", O_WRONLY);
+		int fd1 = open("/usr/local/e2/etc/stb/video/videomode_50hz", O_WRONLY);
 		if(fd1 < 0) {
-			eDebug("[eAVSwitch] cannot open /proc/stb/video/videomode_50hz: %m");
+			eDebug("[eAVSwitch] cannot open /usr/local/e2/etc/stb/video/videomode_50hz: %m");
 			return;
 		}
-		int fd2 = open("/proc/stb/video/videomode_60hz", O_WRONLY);
+		int fd2 = open("/usr/local/e2/etc/stb/video/videomode_60hz", O_WRONLY);
 		if(fd2 < 0) {
-			eDebug("[eAVSwitch] cannot open /proc/stb/video/videomode_60hz: %m");
+			eDebug("[eAVSwitch] cannot open /usr/local/e2/etc/stb/video/videomode_60hz: %m");
 			close(fd1);
 			return;
 		}
@@ -255,9 +259,9 @@
 	}
 	else
 	{
-		int fd = open("/proc/stb/video/videomode", O_WRONLY);
+		int fd = open("/usr/local/e2/etc/stb/video/videomode", O_WRONLY);
 		if(fd < 0) {
-			eDebug("[eAVSwitch] cannot open /proc/stb/video/videomode: %m");
+			eDebug("[eAVSwitch] cannot open /usr/local/e2/etc/stb/video/videomode: %m");
 			return;
 		}
 		switch(mode) {
@@ -285,8 +289,8 @@
 void eAVSwitch::setWSS(int val) // 0 = auto, 1 = auto(4:3_off)
 {
 	int fd;
-	if((fd = open("/proc/stb/denc/0/wss", O_WRONLY)) < 0) {
-		eDebug("[eAVSwitch] cannot open /proc/stb/denc/0/wss: %m");
+	if((fd = open("/usr/local/e2/etc/stb/denc/0/wss", O_WRONLY)) < 0) {
+		eDebug("[eAVSwitch] cannot open /usr/local/e2/etc/stb/denc/0/wss: %m");
 		return;
 	}
 	const char *wss[] = {
@@ -302,5 +306,41 @@
 	close(fd);
 }
 
+void eAVSwitch::setPolicy43(int mode) {
+	cXineLib *xineLib = cXineLib::getInstance();
+	cXineLib::getInstance()->setPolicy43(mode);
+}
+
+void eAVSwitch::setPolicy169(int mode) {
+	cXineLib *xineLib = cXineLib::getInstance();
+	cXineLib::getInstance()->setPolicy169(mode);
+}
+
+void eAVSwitch::setZoom(int zoom43_x, int zoom43_y, int zoom169_x, int zoom169_y) {
+	cXineLib *xineLib = cXineLib::getInstance();
+	cXineLib::getInstance()->setZoom(zoom43_x, zoom43_y, zoom169_x, zoom169_y);
+}
+
+void eAVSwitch::updateScreen() {
+	cXineLib *xineLib = cXineLib::getInstance();
+	cXineLib::getInstance()->adjust_policy();
+}
+
+void eAVSwitch::setDeinterlace(int global, int sd, int hd)
+{
+	cXineLib *xineLib = cXineLib::getInstance();
+	cXineLib::getInstance()->setDeinterlace(global, sd, hd);
+}
+
+void eAVSwitch::setSDfeatures(int sharpness, int noise) {
+	cXineLib *xineLib = cXineLib::getInstance();
+	cXineLib::getInstance()->setSDfeatures(sharpness, noise);
+}
+
+void eAVSwitch::setBufMetronom(int hevc, int avc, int mpeg2) {
+        cXineLib *xineLib = cXineLib::getInstance();
+        cXineLib::getInstance()->setBufMetronom(hevc, avc, mpeg2);
+}
+
 //FIXME: correct "run/startlevel"
 eAutoInitP0<eAVSwitch> init_avswitch(eAutoInitNumbers::rc, "AVSwitch Driver");
diff -ruN o/lib/driver/avswitch.h pc/lib/driver/avswitch.h
--- o/lib/driver/avswitch.h	2020-08-01 17:47:17.147610168 +0300
+++ pc/lib/driver/avswitch.h	2020-11-01 12:15:22.808271274 +0300
@@ -29,9 +29,16 @@
 	int getVCRSlowBlanking();
 	void setColorFormat(int format);
 	void setAspectRatio(int ratio);
+	void setPolicy43(int mode);
+	void setPolicy169(int mode);
+	void setZoom(int zoom43_x, int zoom43_y, int zoom169_x, int zoom169_y);
+	void updateScreen();
 	void setVideomode(int mode);
 	void setInput(int val);
 	void setWSS(int val);
+	void setDeinterlace(int global, int sd, int hd);
+	void setSDfeatures(int sharpness, int noise);
+	void setBufMetronom(int hevc, int avc, int mpeg2);
 	bool isActive();
 	PSignal1<void, int> vcr_sb_notifier;
 };
diff -ruN o/lib/driver/Makefile.inc pc/lib/driver/Makefile.inc
--- o/lib/driver/Makefile.inc	2020-08-01 17:47:17.147610168 +0300
+++ pc/lib/driver/Makefile.inc	2020-11-01 12:15:22.817271440 +0300
@@ -31,3 +31,12 @@
 	driver/rcsdl.cpp \
 	driver/rcsdl.h
 endif
+
+if HAVE_XLIB
+driver_libenigma_driver_a_SOURCES += \
+	driver/rclirc.cpp \
+	driver/rclirc.h \
+	driver/rcxlib.cpp \
+	driver/rcxlib.h
+endif
+
diff -ruN o/lib/driver/misc_options.cpp pc/lib/driver/misc_options.cpp
--- o/lib/driver/misc_options.cpp	2020-08-01 17:47:17.148610133 +0300
+++ pc/lib/driver/misc_options.cpp	2020-11-01 12:15:22.821271514 +0300
@@ -22,10 +22,10 @@
 {
 	if (state == m_12V_output_state)
 		return 0;
-	int fd = open("/proc/stb/misc/12V_output", O_WRONLY);
+	int fd = open("/usr/local/e2/etc/stb/misc/12V_output", O_WRONLY);
 	if (fd < 0)
 	{
-		eDebug("[Misc_Options] cannot open /proc/stb/misc/12V_output: %m");
+		eDebug("[Misc_Options] cannot open /usr/local/e2/etc/stb/misc/12V_output: %m");
 		return -1;
 	}
 	const char *str=0;
@@ -41,10 +41,10 @@
 
 bool Misc_Options::detected_12V_output()
 {
-	int fd = open("/proc/stb/misc/12V_output", O_WRONLY);
+	int fd = open("/usr/local/e2/etc/stb/misc/12V_output", O_WRONLY);
 	if (fd < 0)
 	{
-		eDebug("[Misc_Options] 12Vdetect cannot open /proc/stb/misc/12V_output: %m");
+		eDebug("[Misc_Options] 12Vdetect cannot open /usr/local/e2/etc/stb/misc/12V_output: %m");
 		return false;
 	}
 	close(fd);
diff -ruN o/lib/driver/rcconsole.cpp pc/lib/driver/rcconsole.cpp
--- o/lib/driver/rcconsole.cpp	2020-08-01 17:47:17.148610133 +0300
+++ pc/lib/driver/rcconsole.cpp	2020-11-01 12:15:22.825271587 +0300
@@ -111,4 +111,6 @@
 	}
 };
 
+#ifndef WITH_XLIB
 eAutoInitP0<eRCConsoleInit> init_rcconsole(eAutoInitNumbers::rc+1, "Console RC Driver");
+#endif
diff -ruN o/lib/driver/rcinput.cpp pc/lib/driver/rcinput.cpp
--- o/lib/driver/rcinput.cpp	2020-08-01 17:47:17.148610133 +0300
+++ pc/lib/driver/rcinput.cpp	2020-11-01 12:15:22.826271606 +0300
@@ -208,6 +208,7 @@
 	}
 };
 
+#ifndef WITH_XLIB
 eAutoInitP0<eInputDeviceInit> init_rcinputdev(eAutoInitNumbers::rc+1, "input device driver");
 
 void addInputDevice(const char* filename)
@@ -219,3 +220,4 @@
 {
 	init_rcinputdev->remove(filename);
 }
+#endif
diff -ruN o/lib/driver/rclirc.cpp pc/lib/driver/rclirc.cpp
--- o/lib/driver/rclirc.cpp	1970-01-01 03:00:00.000000000 +0300
+++ pc/lib/driver/rclirc.cpp	2020-11-01 12:15:22.826271606 +0300
@@ -0,0 +1,586 @@
+/*
+ * LIRC support based on LIRC for VDR, which was written by
+ * Carsten Koch.
+ *
+ */
+
+#include <netinet/in.h>
+#include <sys/socket.h>
+#include <lib/driver/rclirc.h>
+#include <lib/base/init.h>
+#include <lib/base/init_num.h>
+#include <lib/base/condVar.h>
+#include <lib/driver/input_fake.h>
+
+
+static tKey keyTable[] = { // "Up" and "Down" must be the first two keys!
+	{ KEY_RESERVED,         "KEY_RESERVED"         },
+	{ KEY_ESC,              "KEY_ESC"              },
+	{ KEY_1,                "KEY_1"                },
+	{ KEY_2,                "KEY_2"                },
+	{ KEY_3,                "KEY_3"                },
+	{ KEY_4,                "KEY_4"                },
+	{ KEY_5,                "KEY_5"                },
+	{ KEY_6,                "KEY_6"                },
+	{ KEY_7,                "KEY_7"                },
+	{ KEY_8,                "KEY_8"                },
+	{ KEY_9,                "KEY_9"                },
+	{ KEY_0,                "KEY_0"                },
+	{ KEY_MINUS,            "KEY_MINUS"            },
+	{ KEY_EQUAL,            "KEY_EQUAL"            },
+	{ KEY_BACKSPACE,        "KEY_BACKSPACE"        },
+	{ KEY_TAB,              "KEY_TAB"              },
+	{ KEY_Q,                "KEY_Q"                },
+	{ KEY_W,                "KEY_W"                },
+	{ KEY_E,                "KEY_E"                },
+	{ KEY_R,                "KEY_R"                },
+	{ KEY_T,                "KEY_T"                },
+	{ KEY_Y,                "KEY_Y"                },
+	{ KEY_U,                "KEY_U"                },
+	{ KEY_I,                "KEY_I"                },
+	{ KEY_O,                "KEY_O"                },
+	{ KEY_P,                "KEY_P"                },
+	{ KEY_LEFTBRACE,        "KEY_LEFTBRACE"        },
+	{ KEY_RIGHTBRACE,       "KEY_RIGHTBRACE"       },
+	{ KEY_ENTER,            "KEY_ENTER"            },
+	{ KEY_LEFTCTRL,         "KEY_LEFTCTRL"         },
+	{ KEY_A,                "KEY_A"                },
+	{ KEY_S,                "KEY_S"                },
+	{ KEY_D,                "KEY_D"                },
+	{ KEY_F,                "KEY_F"                },
+	{ KEY_G,                "KEY_G"                },
+	{ KEY_H,                "KEY_H"                },
+	{ KEY_J,                "KEY_J"                },
+	{ KEY_K,                "KEY_K"                },
+	{ KEY_L,                "KEY_L"                },
+	{ KEY_SEMICOLON,        "KEY_SEMICOLON"        },
+	{ KEY_APOSTROPHE,       "KEY_APOSTROPHE"       },
+	{ KEY_GRAVE,            "KEY_GRAVE"            },
+	{ KEY_LEFTSHIFT,        "KEY_LEFTSHIFT"        },
+	{ KEY_BACKSLASH,        "KEY_BACKSLASH"        },
+	{ KEY_Z,                "KEY_Z"                },
+	{ KEY_X,                "KEY_X"                },
+	{ KEY_C,                "KEY_C"                },
+	{ KEY_V,                "KEY_V"                },
+	{ KEY_B,                "KEY_B"                },
+	{ KEY_N,                "KEY_N"                },
+	{ KEY_M,                "KEY_M"                },
+	{ KEY_COMMA,            "KEY_COMMA"            },
+	{ KEY_DOT,              "KEY_DOT"              },
+	{ KEY_SLASH,            "KEY_SLASH"            },
+	{ KEY_RIGHTSHIFT,       "KEY_RIGHTSHIFT"       },
+	{ KEY_KPASTERISK,       "KEY_KPASTERISK"       },
+	{ KEY_LEFTALT,          "KEY_LEFTALT"          },
+	{ KEY_SPACE,            "KEY_SPACE"            },
+	{ KEY_CAPSLOCK,         "KEY_CAPSLOCK"         },
+	{ KEY_F1,               "KEY_F1"               },
+	{ KEY_F2,               "KEY_F2"               },
+	{ KEY_F3,               "KEY_F3"               },
+	{ KEY_F4,               "KEY_F4"               },
+	{ KEY_F5,               "KEY_F5"               },
+	{ KEY_F6,               "KEY_F6"               },
+	{ KEY_F7,               "KEY_F7"               },
+	{ KEY_F8,               "KEY_F8"               },
+	{ KEY_F9,               "KEY_F9"               },
+	{ KEY_F10,              "KEY_F10"              },
+	{ KEY_NUMLOCK,          "KEY_NUMLOCK"          },
+	{ KEY_SCROLLLOCK,       "KEY_SCROLLLOCK"       },
+	{ KEY_KP7,              "KEY_KP7"              },
+	{ KEY_KP8,              "KEY_KP8"              },
+	{ KEY_KP9,              "KEY_KP9"              },
+	{ KEY_KPMINUS,          "KEY_KPMINUS"          },
+	{ KEY_KP4,              "KEY_KP4"              },
+	{ KEY_KP5,              "KEY_KP5"              },
+	{ KEY_KP6,              "KEY_KP6"              },
+	{ KEY_KP1,              "KEY_KP1"              },
+	{ KEY_KP2,              "KEY_KP2"              },
+	{ KEY_KP3,              "KEY_KP3"              },
+	{ KEY_KP0,              "KEY_KP0"              },
+	{ KEY_KPDOT,            "KEY_KPDOT"            },
+	{ KEY_ZENKAKUHANKAKU,   "KEY_ZENKAKUHANKAKU"   },
+	{ KEY_102ND,            "KEY_102ND"            },
+	{ KEY_F11,              "KEY_F11"              },
+	{ KEY_F12,              "KEY_F12"              },
+	{ KEY_RO,               "KEY_RO"               },
+	{ KEY_KATAKANA,         "KEY_KATAKANA"         },
+	{ KEY_HIRAGANA,         "KEY_HIRAGANA"         },
+	{ KEY_HENKAN,           "KEY_HENKAN"           },
+	{ KEY_KATAKANAHIRAGANA, "KEY_KATAKANAHIRAGANA" },
+	{ KEY_MUHENKAN,         "KEY_MUHENKAN"         },
+	{ KEY_KPJPCOMMA,        "KEY_KPJPCOMMA"        },
+	{ KEY_KPENTER,          "KEY_KPENTER"          },
+	{ KEY_RIGHTCTRL,        "KEY_RIGHTCTRL"        },
+	{ KEY_KPSLASH,          "KEY_KPSLASH"          },
+	{ KEY_SYSRQ,            "KEY_SYSRQ"            },
+	{ KEY_RIGHTALT,         "KEY_RIGHTALT"         },
+	{ KEY_LINEFEED,         "KEY_LINEFEED"         },
+	{ KEY_HOME,             "KEY_HOME"             },
+	{ KEY_UP,               "KEY_UP"               },
+	{ KEY_PAGEUP,           "KEY_PAGEUP"           },
+	{ KEY_LEFT,             "KEY_LEFT"             },
+	{ KEY_RIGHT,            "KEY_RIGHT"            },
+	{ KEY_END,              "KEY_END"              },
+	{ KEY_DOWN,             "KEY_DOWN"             },
+	{ KEY_PAGEDOWN,         "KEY_PAGEDOWN"         },
+	{ KEY_INSERT,           "KEY_INSERT"           },
+	{ KEY_DELETE,           "KEY_DELETE"           },
+	{ KEY_MACRO,            "KEY_MACRO"            },
+	{ KEY_MUTE,             "KEY_MUTE"             },
+	{ KEY_VOLUMEDOWN,       "KEY_VOLUMEDOWN"       },
+	{ KEY_VOLUMEUP,         "KEY_VOLUMEUP"         },
+	{ KEY_POWER,            "KEY_POWER"            },
+	{ KEY_KPEQUAL,          "KEY_KPEQUAL"          },
+	{ KEY_KPPLUSMINUS,      "KEY_KPPLUSMINUS"      },
+	{ KEY_PAUSE,            "KEY_PAUSE"            },
+	{ KEY_SCALE,            "KEY_SCALE"            },
+	{ KEY_KPCOMMA,          "KEY_KPCOMMA"          },
+	{ KEY_HANGEUL,          "KEY_HANGEUL"          },
+	{ KEY_HANGUEL,          "KEY_HANGUEL"          },
+	{ KEY_HANJA,            "KEY_HANJA"            },
+	{ KEY_YEN,              "KEY_YEN"              },
+	{ KEY_LEFTMETA,         "KEY_LEFTMETA"         },
+	{ KEY_RIGHTMETA,        "KEY_RIGHTMETA"        },
+	{ KEY_COMPOSE,          "KEY_COMPOSE"          },
+	{ KEY_STOP,             "KEY_STOP"             },
+	{ KEY_AGAIN,            "KEY_AGAIN"            },
+	{ KEY_PROPS,            "KEY_PROPS"            },
+	{ KEY_UNDO,             "KEY_UNDO"             },
+	{ KEY_FRONT,            "KEY_FRONT"            },
+	{ KEY_COPY,             "KEY_COPY"             },
+	{ KEY_OPEN,             "KEY_OPEN"             },
+	{ KEY_PASTE,            "KEY_PASTE"            },
+	{ KEY_FIND,             "KEY_FIND"             },
+	{ KEY_CUT,              "KEY_CUT"              },
+	{ KEY_HELP,             "KEY_HELP"             },
+	{ KEY_MENU,             "KEY_MENU"             },
+	{ KEY_CALC,             "KEY_CALC"             },
+	{ KEY_SETUP,            "KEY_SETUP"            },
+	{ KEY_SLEEP,            "KEY_SLEEP"            },
+	{ KEY_WAKEUP,           "KEY_WAKEUP"           },
+	{ KEY_FILE,             "KEY_FILE"             },
+	{ KEY_SENDFILE,         "KEY_SENDFILE"         },
+	{ KEY_DELETEFILE,       "KEY_DELETEFILE"       },
+	{ KEY_XFER,             "KEY_XFER"             },
+	{ KEY_PROG1,            "KEY_PROG1"            },
+	{ KEY_PROG2,            "KEY_PROG2"            },
+	{ KEY_WWW,              "KEY_WWW"              },
+	{ KEY_MSDOS,            "KEY_MSDOS"            },
+	{ KEY_COFFEE,           "KEY_COFFEE"           },
+	{ KEY_SCREENLOCK,       "KEY_SCREENLOCK"       },
+	{ KEY_DIRECTION,        "KEY_DIRECTION"        },
+	{ KEY_CYCLEWINDOWS,     "KEY_CYCLEWINDOWS"     },
+	{ KEY_MAIL,             "KEY_MAIL"             },
+	{ KEY_BOOKMARKS,        "KEY_BOOKMARKS"        },
+	{ KEY_COMPUTER,         "KEY_COMPUTER"         },
+	{ KEY_BACK,             "KEY_BACK"             },
+	{ KEY_FORWARD,          "KEY_FORWARD"          },
+	{ KEY_CLOSECD,          "KEY_CLOSECD"          },
+	{ KEY_EJECTCD,          "KEY_EJECTCD"          },
+	{ KEY_EJECTCLOSECD,     "KEY_EJECTCLOSECD"     },
+	{ KEY_NEXTSONG,         "KEY_NEXTSONG"         },
+	{ KEY_PLAYPAUSE,        "KEY_PLAYPAUSE"        },
+	{ KEY_PREVIOUSSONG,     "KEY_PREVIOUSSONG"     },
+	{ KEY_STOPCD,           "KEY_STOPCD"           },
+	{ KEY_RECORD,           "KEY_RECORD"           },
+	{ KEY_REWIND,           "KEY_REWIND"           },
+	{ KEY_PHONE,            "KEY_PHONE"            },
+	{ KEY_ISO,              "KEY_ISO"              },
+	{ KEY_CONFIG,           "KEY_CONFIG"           },
+	{ KEY_HOMEPAGE,         "KEY_HOMEPAGE"         },
+	{ KEY_REFRESH,          "KEY_REFRESH"          },
+	{ KEY_EXIT,             "KEY_EXIT"             },
+	{ KEY_MOVE,             "KEY_MOVE"             },
+	{ KEY_EDIT,             "KEY_EDIT"             },
+	{ KEY_SCROLLUP,         "KEY_SCROLLUP"         },
+	{ KEY_SCROLLDOWN,       "KEY_SCROLLDOWN"       },
+	{ KEY_KPLEFTPAREN,      "KEY_KPLEFTPAREN"      },
+	{ KEY_KPRIGHTPAREN,     "KEY_KPRIGHTPAREN"     },
+	{ KEY_NEW,              "KEY_NEW"              },
+	{ KEY_REDO,             "KEY_REDO"             },
+	{ KEY_F13,              "KEY_F13"              },
+	{ KEY_F14,              "KEY_F14"              },
+	{ KEY_F15,              "KEY_F15"              },
+	{ KEY_F16,              "KEY_F16"              },
+	{ KEY_F17,              "KEY_F17"              },
+	{ KEY_F18,              "KEY_F18"              },
+	{ KEY_F19,              "KEY_F19"              },
+	{ KEY_F20,              "KEY_F20"              },
+	{ KEY_F21,              "KEY_F21"              },
+	{ KEY_F22,              "KEY_F22"              },
+	{ KEY_F23,              "KEY_F23"              },
+	{ KEY_F24,              "KEY_F24"              },
+	{ KEY_PLAYCD,           "KEY_PLAYCD"           },
+	{ KEY_PAUSECD,          "KEY_PAUSECD"          },
+	{ KEY_PROG3,            "KEY_PROG3"            },
+	{ KEY_PROG4,            "KEY_PROG4"            },
+	{ KEY_DASHBOARD,        "KEY_DASHBOARD"        },
+	{ KEY_SUSPEND,          "KEY_SUSPEND"          },
+	{ KEY_CLOSE,            "KEY_CLOSE"            },
+	{ KEY_PLAY,             "KEY_PLAY"             },
+	{ KEY_FASTFORWARD,      "KEY_FASTFORWARD"      },
+	{ KEY_BASSBOOST,        "KEY_BASSBOOST"        },
+	{ KEY_PRINT,            "KEY_PRINT"            },
+	{ KEY_HP,               "KEY_HP"               },
+	{ KEY_CAMERA,           "KEY_CAMERA"           },
+	{ KEY_SOUND,            "KEY_SOUND"            },
+	{ KEY_QUESTION,         "KEY_QUESTION"         },
+	{ KEY_EMAIL,            "KEY_EMAIL"            },
+	{ KEY_CHAT,             "KEY_CHAT"             },
+	{ KEY_SEARCH,           "KEY_SEARCH"           },
+	{ KEY_CONNECT,          "KEY_CONNECT"          },
+	{ KEY_FINANCE,          "KEY_FINANCE"          },
+	{ KEY_SPORT,            "KEY_SPORT"            },
+	{ KEY_SHOP,             "KEY_SHOP"             },
+	{ KEY_ALTERASE,         "KEY_ALTERASE"         },
+	{ KEY_CANCEL,           "KEY_CANCEL"           },
+	{ KEY_BRIGHTNESSDOWN,   "KEY_BRIGHTNESSDOWN"   },
+	{ KEY_BRIGHTNESSUP,     "KEY_BRIGHTNESSUP"     },
+	{ KEY_MEDIA,            "KEY_MEDIA"            },
+	{ KEY_SWITCHVIDEOMODE,  "KEY_SWITCHVIDEOMODE"  },
+	{ KEY_KBDILLUMTOGGLE,   "KEY_KBDILLUMTOGGLE"   },
+	{ KEY_KBDILLUMDOWN,     "KEY_KBDILLUMDOWN"     },
+	{ KEY_KBDILLUMUP,       "KEY_KBDILLUMUP"       },
+	{ KEY_SEND,             "KEY_SEND"             },
+	{ KEY_REPLY,            "KEY_REPLY"            },
+	{ KEY_FORWARDMAIL,      "KEY_FORWARDMAIL"      },
+	{ KEY_SAVE,             "KEY_SAVE"             },
+	{ KEY_DOCUMENTS,        "KEY_DOCUMENTS"        },
+	{ KEY_BATTERY,          "KEY_BATTERY"          },
+	{ KEY_BLUETOOTH,        "KEY_BLUETOOTH"        },
+	{ KEY_WLAN,             "KEY_WLAN"             },
+	{ KEY_UWB,              "KEY_UWB"              },
+	{ KEY_UNKNOWN,          "KEY_UNKNOWN"          },
+	{ KEY_VIDEO_NEXT,       "KEY_VIDEO_NEXT"       },
+	{ KEY_VIDEO_PREV,       "KEY_VIDEO_PREV"       },
+	{ KEY_BRIGHTNESS_CYCLE, "KEY_BRIGHTNESS_CYCLE" },
+	{ KEY_BRIGHTNESS_ZERO,  "KEY_BRIGHTNESS_ZERO"  },
+	{ KEY_DISPLAY_OFF,      "KEY_DISPLAY_OFF"      },
+	{ KEY_WIMAX,            "KEY_WIMAX"            },
+//	{ KEY_RFKILL,           "KEY_RFKILL"           },
+
+	{ KEY_OK,               "KEY_OK"               },
+	{ KEY_SELECT,           "KEY_SELECT"           },
+	{ KEY_GOTO,             "KEY_GOTO"             },
+	{ KEY_CLEAR,            "KEY_CLEAR"            },
+	{ KEY_POWER2,           "KEY_POWER2"           },
+	{ KEY_OPTION,           "KEY_OPTION"           },
+	{ KEY_INFO,             "KEY_INFO"             },
+	{ KEY_TIME,             "KEY_TIME"             },
+	{ KEY_VENDOR,           "KEY_VENDOR"           },
+	{ KEY_ARCHIVE,          "KEY_ARCHIVE"          },
+	{ KEY_PROGRAM,          "KEY_PROGRAM"          },
+	{ KEY_CHANNEL,          "KEY_CHANNEL"          },
+	{ KEY_FAVORITES,        "KEY_FAVORITES"        },
+	{ KEY_EPG,              "KEY_EPG"              },
+	{ KEY_PVR,              "KEY_PVR"              },
+	{ KEY_MHP,              "KEY_MHP"              },
+	{ KEY_LANGUAGE,         "KEY_LANGUAGE"         },
+	{ KEY_TITLE,            "KEY_TITLE"            },
+	{ KEY_SUBTITLE,         "KEY_SUBTITLE"         },
+	{ KEY_ANGLE,            "KEY_ANGLE"            },
+	{ KEY_ZOOM,             "KEY_ZOOM"             },
+	{ KEY_MODE,             "KEY_MODE"             },
+	{ KEY_KEYBOARD,         "KEY_KEYBOARD"         },
+	{ KEY_SCREEN,           "KEY_SCREEN"           },
+	{ KEY_PC,               "KEY_PC"               },
+	{ KEY_TV,               "KEY_TV"               },
+	{ KEY_TV2,              "KEY_TV2"              },
+	{ KEY_VCR,              "KEY_VCR"              },
+	{ KEY_VCR2,             "KEY_VCR2"             },
+	{ KEY_SAT,              "KEY_SAT"              },
+	{ KEY_SAT2,             "KEY_SAT2"             },
+	{ KEY_CD,               "KEY_CD"               },
+	{ KEY_TAPE,             "KEY_TAPE"             },
+	{ KEY_RADIO,            "KEY_RADIO"            },
+	{ KEY_TUNER,            "KEY_TUNER"            },
+	{ KEY_PLAYER,           "KEY_PLAYER"           },
+	{ KEY_TEXT,             "KEY_TEXT"             },
+	{ KEY_DVD,              "KEY_DVD"              },
+	{ KEY_AUX,              "KEY_AUX"              },
+	{ KEY_MP3,              "KEY_MP3"              },
+	{ KEY_AUDIO,            "KEY_AUDIO"            },
+	{ KEY_VIDEO,            "KEY_VIDEO"            },
+	{ KEY_DIRECTORY,        "KEY_DIRECTORY"        },
+	{ KEY_LIST,             "KEY_LIST"             },
+	{ KEY_MEMO,             "KEY_MEMO"             },
+	{ KEY_CALENDAR,         "KEY_CALENDAR"         },
+	{ KEY_RED,              "KEY_RED"              },
+	{ KEY_GREEN,            "KEY_GREEN"            },
+	{ KEY_YELLOW,           "KEY_YELLOW"           },
+	{ KEY_BLUE,             "KEY_BLUE"             },
+	{ KEY_CHANNELUP,        "KEY_CHANNELUP"        },
+	{ KEY_CHANNELDOWN,      "KEY_CHANNELDOWN"      },
+	{ KEY_FIRST,            "KEY_FIRST"            },
+	{ KEY_LAST,             "KEY_LAST"             },
+	{ KEY_AB,               "KEY_AB"               },
+	{ KEY_PLAY,             "KEY_PLAY"             },
+	{ KEY_RESTART,          "KEY_RESTART"          },
+	{ KEY_SLOW,             "KEY_SLOW"             },
+	{ KEY_SHUFFLE,          "KEY_SHUFFLE"          },
+	{ KEY_FASTFORWARD,      "KEY_FASTFORWARD"      },
+	{ KEY_PREVIOUS,         "KEY_PREVIOUS"         },
+	{ KEY_NEXT,             "KEY_NEXT"             },
+	{ KEY_DIGITS,           "KEY_DIGITS"           },
+	{ KEY_TEEN,             "KEY_TEEN"             },
+	{ KEY_TWEN,             "KEY_TWEN"             },
+	{ KEY_BREAK,            "KEY_BREAK"            },
+
+	{ 0,                    NULL                   },
+};
+
+/*
+ * eLircInputDevice
+ */
+
+eLircInputDevice::eLircInputDevice(eRCDriver *driver) : eRCDevice("Lirc", driver), m_escape(false), m_unicode(0)
+{}
+
+eLircInputDevice::~eLircInputDevice()
+{}
+
+void eLircInputDevice::handleCode(long arg)
+{
+	const lircEvent* event = (const lircEvent*)arg;
+	int code, flags;
+
+	if (event->repeat == true) {
+		flags = eRCKey::flagRepeat;
+	} else if (event->release == true) {
+		flags = eRCKey::flagBreak;
+	} else {
+		flags = eRCKey::flagMake;
+	}
+
+	code = translateKey(event->name);
+
+	//eDebug("LIRC name=%s code=%d flags=%d", event->name, code, flags);
+	input->keyPressed(eRCKey(this, code, flags));
+	if (flags == eRCKey::flagMake) {
+		flags = eRCKey::flagBreak;
+		eDebug("LIRC name=%s code=%d flags=%d", event->name, code, flags);
+		input->keyPressed(eRCKey(this, code, flags));
+		flags = eRCKey::flagMake;
+	}
+
+}
+
+const char *eLircInputDevice::getDescription() const
+{
+	return "Lirc";
+}
+
+int eLircInputDevice::translateKey(const char* name)
+{
+	if (name==NULL)
+	{
+		eDebug("LIRC: translateKey ERROR");
+		return KEY_RESERVED;
+	}
+
+	for (int i=0;keyTable[i].name!=NULL;i++)
+	{
+		if (!strcmp(name, keyTable[i].name))
+		{
+			//printf("FOUND KEY CODE FOR %s: %04X\n", name, keyTable[i].code);
+			return keyTable[i].code;
+		}
+	}
+
+	eDebug("LIRC: unhandled key name: %s", name);
+	return KEY_RESERVED;
+}
+
+/*
+ * eLircInputDriver
+ */
+
+#define REPEATDELAY 350 // ms
+#define REPEATFREQ 100 // ms
+#define REPEATTIMEOUT 500 // ms
+#define RECONNECTDELAY 3000 // ms
+
+static bool fileReady(int FileDes, int TimeoutMs)
+{
+	fd_set set;
+	struct timeval timeout;
+	FD_ZERO(&set);
+	FD_SET(FileDes, &set);
+	if (TimeoutMs >= 0) {
+		if (TimeoutMs < 100)
+			TimeoutMs = 100;
+		timeout.tv_sec  = TimeoutMs / 1000;
+		timeout.tv_usec = (TimeoutMs % 1000) * 1000;
+	}
+	return select(FD_SETSIZE, &set, NULL, NULL, (TimeoutMs >= 0) ? &timeout : NULL) > 0 && FD_ISSET(FileDes, &set);
+}
+
+static ssize_t safe_read(int filedes, void *buffer, size_t size)
+{
+	for (;;) {
+//printf("AAread1\n");
+		ssize_t p = read(filedes, buffer, size);
+//printf("AAread2\n");
+		if (p < 0 && errno == EINTR) {
+			continue;
+		}
+		return p;
+	}
+}
+
+void eLircInputDriver::pumpEvent(const lircEvent &event)
+{
+	keyPressed(event);
+}
+
+eLircInputDriver *eLircInputDriver::instance;
+
+bool eLircInputDriver::Connect(void)
+{
+	if ((f = socket(AF_UNIX, SOCK_STREAM, 0)) >= 0) {
+		if (connect(f, (struct sockaddr *)&addr, sizeof(addr)) >= 0)
+ 			return true;
+		eDebug("Lirc: Connect to %s error !!!", addr.sun_path);
+		close(f);
+		f = -1;
+	}
+	else
+		eDebug("Lirc: Connect to %s error !!!", addr.sun_path);
+
+	return false;
+}
+
+eLircInputDriver::eLircInputDriver() : eRCDriver(eRCInput::getInstance()), m_pump(eApp, 1)
+{
+	ASSERT(instance == 0);
+	instance = this;
+
+	CONNECT(m_pump.recv_msg, eLircInputDriver::pumpEvent);
+
+	addr.sun_family = AF_UNIX;
+	strcpy(addr.sun_path, "/var/run/lirc/lircd");
+	if (Connect()) {
+		run();
+		return;
+	}
+	f = -1;
+}
+
+eLircInputDriver::~eLircInputDriver()
+{
+	instance = 0;
+
+	int fh = f;
+	f = -1;
+
+	thread_stop = true;
+	sendSignal(SIGINT);
+	kill();
+
+	if (fh >= 0)
+		close(fh);
+}
+
+void eLircInputDriver::thread()
+{
+	cTimeMs FirstTime;
+	cTimeMs LastTime;
+	char buf[LIRC_BUFFER_SIZE];
+	char LastKeyName[LIRC_KEY_BUF] = "";
+	bool repeat = false;
+	int timeout = -1;
+	lircEvent event;
+
+	hasStarted();
+	thread_stop = false;
+
+	while (!thread_stop && f>=0) {
+		bool ready = fileReady(f, timeout);
+		int ret = ready ? safe_read(f, buf, sizeof(buf)) : -1;
+
+		if (ready && ret <= 0 ) {
+			eDebug("ERROR: lircd connection broken, trying to reconnect every %.1f seconds", float(RECONNECTDELAY) / 1000);
+			close(f);
+			f = -1;
+			while (!thread_stop && f < 0) {
+				cCondWait::SleepMs(RECONNECTDELAY);
+				if (Connect()) {
+					eDebug("reconnected to lircd");
+					break;
+				}
+			}
+		}
+
+		if (ready && ret > 21) {
+			int count;
+			char KeyName[LIRC_KEY_BUF];
+			if (sscanf(buf, "%*x %x %29s", &count, KeyName) != 2) { // '29' in '%29s' is LIRC_KEY_BUF-1!
+				eDebug("ERROR: unparseable lirc command: %s", buf);
+				continue;
+			}
+			if (count == 0) {
+				if (strcmp(KeyName, LastKeyName) == 0 && FirstTime.Elapsed() < REPEATDELAY)
+					continue; // skip keys coming in too fast
+				if (repeat) {
+					event.name = LastKeyName;
+					event.repeat = false;
+					event.release = true;
+					m_pump.send(event);
+				}
+				strcpy(LastKeyName, KeyName);
+				repeat = false;
+				FirstTime.Set();
+				timeout = -1;
+			}
+			else {
+				if (LastTime.Elapsed() < REPEATFREQ)
+					continue; // repeat function kicks in after a short delay (after last key instead of first key)
+				if (FirstTime.Elapsed() < REPEATDELAY)
+					continue; // skip keys coming in too fast (for count != 0 as well)
+				repeat = true;
+				timeout = REPEATDELAY;
+			}
+			LastTime.Set();
+			event.name = KeyName;
+			event.repeat = repeat;
+			event.release = false;
+			m_pump.send(event);
+		}
+		else if (repeat) { // the last one was a repeat, so let's generate a release
+			if (LastTime.Elapsed() >= REPEATTIMEOUT) {
+				event.name = LastKeyName;
+				event.repeat = false;
+				event.release = true;
+				m_pump.send(event);
+				repeat = false;
+				*LastKeyName = 0;
+				timeout = -1;
+			}
+		}
+	}
+}
+
+void eLircInputDriver::keyPressed(const lircEvent &event)
+{
+	if (!enabled || input->islocked())
+		return;
+
+	std::list<eRCDevice*>::iterator i(listeners.begin());
+	while (i != listeners.end()) {
+		(*i)->handleCode((long)&event);
+		++i;
+	}
+}
+
+class eRCLircInit
+{
+private:
+	eLircInputDriver driver;
+	eLircInputDevice device;
+
+public:
+	eRCLircInit(): driver(), device(&driver)
+	{
+	}
+};
+
+eAutoInitP0<eRCLircInit> init_rcLirc(eAutoInitNumbers::rc+1, "Lirc RC Driver");
diff -ruN o/lib/driver/rclirc.h pc/lib/driver/rclirc.h
--- o/lib/driver/rclirc.h	1970-01-01 03:00:00.000000000 +0300
+++ pc/lib/driver/rclirc.h	2020-11-01 12:15:22.826271606 +0300
@@ -0,0 +1,56 @@
+#ifndef __lib_driver_rclirc_h
+#define __lib_driver_rclirc_h
+
+#include <sys/un.h>
+#include <lib/driver/rc.h>
+#include <lib/base/thread.h>
+#include <lib/base/message.h>
+
+struct tKey {
+	uint16_t    code;
+	const char  *name;
+};
+
+struct lircEvent {
+	const char  *name;
+	bool        repeat;
+	bool        release;
+};
+
+class eLircInputDevice : public eRCDevice
+{
+private:
+	bool m_escape;
+	unsigned int m_unicode;
+	int translateKey(const char* name);
+
+public:
+	eLircInputDevice(eRCDriver *driver);
+	~eLircInputDevice();
+
+	virtual void handleCode(long arg);
+	virtual const char *getDescription() const;
+};
+
+class eLircInputDriver : public eRCDriver, public eThread
+{
+private:
+	enum { LIRC_KEY_BUF = 108, LIRC_BUFFER_SIZE = 128 };
+	static eLircInputDriver *instance;
+	eFixedMessagePump<lircEvent> m_pump;
+	void pumpEvent(const lircEvent &keyEvent);
+	int f;
+	struct sockaddr_un addr;
+	virtual void thread();
+	bool thread_stop;
+	bool Connect(void);
+
+public:
+	eLircInputDriver();
+	~eLircInputDriver();
+
+	static eLircInputDriver *getInstance() { return instance; }
+	void keyPressed(const lircEvent &keyEvent);
+};
+
+#endif
diff -ruN o/lib/driver/rcxlib.cpp pc/lib/driver/rcxlib.cpp
--- o/lib/driver/rcxlib.cpp	1970-01-01 03:00:00.000000000 +0300
+++ pc/lib/driver/rcxlib.cpp	2020-11-01 12:15:22.827271624 +0300
@@ -0,0 +1,215 @@
+#include <lib/driver/rcxlib.h>
+#include <lib/base/init.h>
+#include <lib/base/init_num.h>
+#include <lib/driver/input_fake.h>
+
+/*
+ * eXlibInputDevice
+ */
+
+eXlibInputDevice::eXlibInputDevice(eRCDriver *driver) : eRCDevice("Xlib", driver), m_escape(false), m_unicode(0)
+{
+}
+
+eXlibInputDevice::~eXlibInputDevice()
+{
+}
+
+void eXlibInputDevice::handleCode(long arg)
+{
+	const XKeyEvent* event = (const XKeyEvent*)arg;
+//	int km = input->getKeyboardMode();
+	int code, flags;
+
+	if (event->type == KeyPress) {
+		//m_unicode = key->unicode;
+		flags = eRCKey::flagMake;
+	} else {
+		flags = eRCKey::flagBreak;
+	}
+
+	if (1/*km == eRCInput::kmNone*/) {
+		//eDebug("eRCInput::kmNone\n");
+		code = translateKey(event->keycode);
+	} else {
+		eDebug("eRCInput::kmNone NO\n");
+		// ASCII keys should only generate key press events
+		if (flags == eRCKey::flagBreak)
+			return;
+
+		/*eDebug("unicode=%04x scancode=%02x", m_unicode, key->scancode);
+		if (m_unicode & 0xff80) {
+			eDebug("SDL: skipping unicode character");
+			return;
+		}
+		code = m_unicode & ~0xff80;
+		// unicode not set...!? use key symbol
+		if (code == 0) {
+			// keysym is ascii
+			if (key >= 128) {
+				eDebug("SDL: cannot emulate ASCII");
+				return;
+			}
+			eDebug("SDL: emulate ASCII");
+			code = key;
+		}
+		if (km == eRCInput::kmAscii) {
+			// skip ESC c or ESC '[' c
+			if (m_escape) {
+				if (code != '[')
+					m_escape = false;
+				return;
+			}
+
+			if (code == SDLK_ESCAPE)
+				m_escape = true;
+
+			if ((code < SDLK_SPACE) ||
+			    (code == 0x7e) ||	// really?
+			    (code == SDLK_DELETE))
+				return;
+		}*/
+		flags |= eRCKey::flagAscii;
+	}
+
+	//eDebug("SDL code=%d flags=%d", code, flags);
+	input->keyPressed(eRCKey(this, code, flags));
+}
+
+const char *eXlibInputDevice::getDescription() const
+{
+	return "Xlib";
+}
+
+int eXlibInputDevice::translateKey(int key)
+{
+
+	switch (key) {
+	case 9:
+		return KEY_ESC;
+	case 10:
+		return KEY_1;
+	case 11:
+		return KEY_2;
+	case 12:
+		return KEY_3;
+	case 13:
+		return KEY_4;
+	case 14:
+		return KEY_5;
+	case 15:
+		return KEY_6;
+	case 16:
+		return KEY_7;
+	case 17:
+		return KEY_8;
+	case 18:
+		return KEY_9;
+	case 19:
+		return KEY_0;
+	case 26: // E
+		return KEY_EPG;
+	case 27: // R
+		return KEY_RECORD;
+	case 28: // T
+		return KEY_TV;
+	case 31: // I
+		return KEY_INFO;
+	case 33: // P
+		return KEY_PLAYPAUSE;
+	case 36:
+		return KEY_OK;
+	case 38: // A
+		return KEY_AUDIO;
+	case 40: // D
+		return KEY_RADIO;
+	case 55: // V
+		return KEY_VIDEO;
+	case 111:
+		return KEY_UP;
+	case 113:
+		return KEY_LEFT;
+	case 114:
+		return KEY_RIGHT;
+	case 116:
+		return KEY_DOWN;
+	case 58: // M
+		return KEY_MUTE;
+	case 65: // SPACE
+		return KEY_MENU;
+	case 67:
+		return KEY_RED;
+	case 68:
+		return KEY_GREEN;
+	case 69:
+		return KEY_YELLOW;
+	case 70:
+		return KEY_BLUE;
+	case 71: //F5
+		return KEY_INFO;
+	case 72: //F6
+		return KEY_EPG;
+	case 82:
+	case 61: // -
+		return KEY_VOLUMEDOWN;
+	case 86:
+	case 35: // +
+		return KEY_VOLUMEUP;
+	case 112: // Page Up
+		return KEY_CHANNELUP;
+	case 117: // Page Down
+		return KEY_CHANNELDOWN;
+	case	76: //F10
+		return KEY_POWER;
+	default:
+		eDebug("unhandled KEYBOARD keycode: %d", key);
+		return KEY_RESERVED;
+	}
+
+}
+
+/*
+ * eXlibInputDriver
+ */
+
+eXlibInputDriver *eXlibInputDriver::instance;
+
+eXlibInputDriver::eXlibInputDriver() : eRCDriver(eRCInput::getInstance())
+{
+	ASSERT(instance == 0);
+	instance = this;
+}
+
+eXlibInputDriver::~eXlibInputDriver()
+{
+	instance = 0;
+}
+
+void eXlibInputDriver::keyPressed(const XKeyEvent &keyEvent)
+{
+	/*eDebug("km=%d enabled=%d locked=%d",
+		input->getKeyboardMode(), enabled, input->islocked());*/
+
+	if (!enabled || input->islocked())
+		return;
+
+	std::list<eRCDevice*>::iterator i(listeners.begin());
+	while (i != listeners.end()) {
+		(*i)->handleCode((long)&keyEvent);
+		++i;
+	}
+}
+
+class eRCXlibInit
+{
+private:
+	eXlibInputDriver driver;
+	eXlibInputDevice device;
+
+public:
+	eRCXlibInit(): driver(), device(&driver)
+	{
+	}
+};
+
+eAutoInitP0<eRCXlibInit> init_rcXlib(eAutoInitNumbers::rc+1, "Xlib RC Driver");
diff -ruN o/lib/driver/rcxlib.h pc/lib/driver/rcxlib.h
--- o/lib/driver/rcxlib.h	1970-01-01 03:00:00.000000000 +0300
+++ pc/lib/driver/rcxlib.h	2020-11-01 12:15:22.827271624 +0300
@@ -0,0 +1,35 @@
+#ifndef __lib_driver_rcxlib_h
+#define __lib_driver_rcxlib_h
+
+#include <lib/driver/rc.h>
+#include <X11/Xlib.h>
+
+class eXlibInputDevice : public eRCDevice
+{
+private:
+	bool m_escape;
+	unsigned int m_unicode;
+	int translateKey(int key);
+
+public:
+	eXlibInputDevice(eRCDriver *driver);
+	~eXlibInputDevice();
+
+	virtual void handleCode(long arg);
+	virtual const char *getDescription() const;
+};
+
+class eXlibInputDriver : public eRCDriver
+{
+private:
+	static eXlibInputDriver *instance;
+
+public:
+	eXlibInputDriver();
+	~eXlibInputDriver();
+
+	static eXlibInputDriver *getInstance() { return instance; }
+	void keyPressed(const XKeyEvent &keyEvent);
+};
+
+#endif
diff -ruN o/lib/dvb/ca_connector.cpp pc/lib/dvb/ca_connector.cpp
--- o/lib/dvb/ca_connector.cpp	1970-01-01 03:00:00.000000000 +0300
+++ pc/lib/dvb/ca_connector.cpp	2020-11-01 12:15:22.827271624 +0300
@@ -0,0 +1,123 @@
+#include <lib/dvb/ca_connector.h>
+#include <lib/dvb/dvb.h>
+#include <lib/actions/action.h>
+#include <lib/base/init.h>
+#include <lib/base/init_num.h>
+
+caConnector *caConnector::instance;
+
+DEFINE_REF(caConnector)
+
+caConnector::caConnector()
+{
+	int family;
+	struct nl_msg *msg;
+	
+	sock = nl_socket_alloc();
+	genl_connect(sock);
+
+	family = genl_ctrl_resolve(sock, "CA_SEND");
+	if (family<0) {
+		eDebug("Cannot resolve family name of generic netlink socket");
+		return;
+	}
+
+	ca_policy[ATTR_CA_SIZE].type = NLA_U32;
+	ca_policy[ATTR_CA_NUM].type = NLA_U16;
+	ca_policy[ATTR_CA_DESCR].type = NLA_UNSPEC;
+	ca_policy[ATTR_CA_PID].type = NLA_UNSPEC;
+
+	ASSERT(instance == 0);
+	instance = this;
+
+	msg = nlmsg_alloc();
+	genlmsg_put(msg, NL_AUTO_PID, NL_AUTO_SEQ, family, 0, NLM_F_ECHO,
+			CMD_ASK_CA_SIZE, 1);
+	nl_send_auto_complete(sock, msg);
+	nl_socket_modify_cb(sock, NL_CB_VALID, NL_CB_CUSTOM, parse_cb, NULL);
+	nl_recvmsgs_default(sock);
+	nlmsg_free(msg);
+	nl_socket_modify_cb(sock, NL_CB_VALID, NL_CB_CUSTOM, parse_cb, NULL);
+	nl_socket_disable_seq_check(sock);
+
+	run();
+}
+
+caConnector::~caConnector()
+{
+	instance = 0;
+	abort_badly();
+	kill();
+
+	nl_close(sock);
+	nl_socket_free(sock);
+}
+
+void caConnector::thread()
+{
+	hasStarted();
+
+	while (1) {
+		nl_recvmsgs_default(sock);
+	}
+}
+
+int caConnector::parse_cb(struct nl_msg *msg, void *arg) {
+	caConnector *connector = caConnector::getInstance();
+	ePtr<eDVBResourceManager> res_mgr;
+	int ret;
+
+	eDVBResourceManager::getInstance(res_mgr);
+	if (!res_mgr) {
+		eDebug("no resource manager !!!!!!!");
+		return -1;
+	}
+
+	struct nlmsghdr *nlh = nlmsg_hdr(msg);
+	struct nlattr *attrs[ATTR_MAX+1];
+
+	genlmsg_parse(nlh, 0, attrs, ATTR_MAX, connector->ca_policy);
+
+	if (attrs[ATTR_CA_SIZE]) {
+		uint32_t value = nla_get_u32(attrs[ATTR_CA_SIZE]);
+		connector->ca_size = value;
+	}
+	if (attrs[ATTR_CA_NUM] && attrs[ATTR_CA_DESCR]) {
+		unsigned short ca_num = nla_get_u16(attrs[ATTR_CA_NUM]);
+		ca_descr_t *ca = (ca_descr_t*)nla_data(attrs[ATTR_CA_DESCR]);
+		eDebug("CA_SET_DESCR ca_num %04X, idx %d, parity %d, cw %02X...%02X", ca_num, ca->index,
+				ca->parity, ca->cw[0], ca->cw[7]);
+
+		ePtr<eDVBDemux> demux;
+		ret = res_mgr->getAdapterDemux(demux, (ca_num>>8)&0xFF, ca_num&0xFF);
+		if (ret) {
+			eDebug("caConnector: DEMUX NOT FOUND !!");
+			return -1;
+		}
+
+		if(!demux->setCaDescr(ca,0)) {
+			eDebug("CA_SET_DESCR failed (%s). Expect a black screen.",strerror(errno));
+		}
+	}
+	if (attrs[ATTR_CA_NUM] && attrs[ATTR_CA_PID]) {
+		unsigned short ca_num = nla_get_u16(attrs[ATTR_CA_NUM]);
+		ca_pid_t *ca_pid = (ca_pid_t*)nla_data(attrs[ATTR_CA_PID]);
+
+		eDebug("CA_PID ca_num %04X, pid %04X, index %d", ca_num, ca_pid->pid, ca_pid->index);
+		
+		ePtr<eDVBDemux> demux;
+		ret = res_mgr->getAdapterDemux(demux, (ca_num>>8)&0xFF, ca_num&0xFF);
+		if (ret) {
+			eDebug("caConnector: DEMUX NOT FOUND !!");
+			return -1;
+		}
+
+		if(!demux->setCaPid(ca_pid)) {
+			eDebug("CA_SET_PID failed");
+		}
+	}
+
+	return 0;
+}
+
+eAutoInitPtr<caConnector> init_caConnector(eAutoInitNumbers::dvb-1, "caConnector");
diff -ruN o/lib/dvb/ca_connector.h pc/lib/dvb/ca_connector.h
--- o/lib/dvb/ca_connector.h	1970-01-01 03:00:00.000000000 +0300
+++ pc/lib/dvb/ca_connector.h	2020-11-01 12:15:22.827271624 +0300
@@ -0,0 +1,50 @@
+#ifndef __lib_dvb_ca_connector_h
+#define __lib_dvb_ca_connector_h
+
+#include "../dvbsoftwareca/ca.h"
+#include <lib/base/thread.h>
+#include <netlink/netlink.h>
+#include <netlink/genl/genl.h>
+#include <netlink/genl/ctrl.h>
+
+#include <lib/gdi/gmaindc.h>
+#include <lib/dvb/idvb.h>
+
+// attributes
+enum {
+	ATTR_UNSPEC,
+	ATTR_CA_SIZE,
+	ATTR_CA_NUM,
+	ATTR_CA_DESCR,
+	ATTR_CA_PID,
+        __ATTR_MAX
+};
+#define ATTR_MAX (__ATTR_MAX - 1)
+
+// commands
+enum {
+	CMD_UNSPEC,
+	CMD_ASK_CA_SIZE,
+	CMD_SET_CW,
+	CMD_SET_PID,
+	CMD_MAX
+};
+
+class caConnector: public eThread, sigc::trackable
+{
+	DECLARE_REF(caConnector);
+private:
+	int ca_size;
+	struct nla_policy ca_policy[ATTR_MAX + 1];
+	struct nl_sock *sock;
+	static caConnector *instance;
+
+	virtual void thread();
+	static int parse_cb(struct nl_msg *msg, void *arg);
+	static caConnector *getInstance() { return instance; }
+public:
+	caConnector();
+	~caConnector();
+};
+
+#endif
diff -ruN o/lib/dvb/decoder.cpp pc/lib/dvb/decoder.cpp
--- o/lib/dvb/decoder.cpp	2020-08-01 17:47:17.149610099 +0300
+++ pc/lib/dvb/decoder.cpp	2020-11-01 12:15:22.828271643 +0300
@@ -7,6 +7,7 @@
 #include <linux/dvb/audio.h>
 #include <linux/dvb/video.h>
 #include <linux/dvb/dmx.h>
+#include <lib/gdi/xineLib.h>
 
 #include <unistd.h>
 #include <fcntl.h>
@@ -28,16 +29,11 @@
 	:m_demux(demux), m_dev(dev)
 {
 	char filename[128];
-	sprintf(filename, "/dev/dvb/adapter%d/audio%d", demux ? demux->adapter : 0, dev);
 	m_fd = ::open(filename, O_RDWR | O_CLOEXEC);
-	if (m_fd < 0)
-		eWarning("[eDVBAudio] %s: %m", filename);
 	if (demux)
 	{
 		sprintf(filename, "/dev/dvb/adapter%d/demux%d", demux->adapter, demux->demux);
 		m_fd_demux = ::open(filename, O_RDWR | O_CLOEXEC);
-		if (m_fd_demux < 0)
-			eWarning("[eDVBAudio] %s: %m", filename);
 	}
 	else
 	{
@@ -52,8 +48,27 @@
 #endif
 }
 
-int eDVBAudio::startPid(int pid, int type)
+#define STREAM_SPU_BITMAP_HDMV                    0x90 /* Presentation Graphics */
+#define ISO_13818_AUDIO                           0x04 /* ISO/IEC 13818-3 Audi */
+#define STREAM_VIDEO_VC1                          0xEA /* VC-1 Video */
+#define HDMV_AUDIO_80_PCM                         0x80 /* BluRay PCM */
+#define STREAM_AUDIO_AC3                          0x81 /* ?????????? */
+#define HDMV_AUDIO_82_DTS                         0x82 /* DTS */
+#define HDMV_AUDIO_83_TRUEHD                      0x83 /* Dolby TrueHD, primary audio */
+#define HDMV_AUDIO_84_EAC3                        0x84 /* Dolby Digital plus, primary audio */
+#define HDMV_AUDIO_85_DTS_HRA                     0x85 /* DTS-HRA */
+#define HDMV_AUDIO_86_DTS_HD_MA                   0x86 /* DTS-HD Master audio */
+#define ISO_IEC_13818_7_ADTS_AAC_MPEG2_LOWER      0x0F /* AAC 'Xtra TV'. ISO/IEC 13818-7 Audio with ADTS transport sytax */
+#define ISO_14496_PART3_AUDIO                     0x11 /* ISO/IEC 14496-3 Audio with LATM transport syntax */
+//#define   ISO_11172_AUDIO                         0x03 /* ISO/IEC 11172 Audio */
+//#define ISO_IEC_13818_7_ADTS_AAC                  0x2B /* ?????????? */
+//#define ISO_IEC_13818_7_ADTS_AAC_AES_128_CBC      0xCF /* ?????????? */
+//#define AAC_LATM                                  0x11 /* ?????????? */
+
+int eDVBAudio::startPid(int pid, int type, bool mode)
 {
+	cXineLib *xineLib = cXineLib::getInstance();
+
 	if (m_fd_demux >= 0)
 	{
 		dmx_pes_filter_params pes;
@@ -81,70 +96,57 @@
 		if (::ioctl(m_fd_demux, DMX_SET_PES_FILTER, &pes) < 0)
 		{
 			eDebugNoNewLine("failed: %m\n");
-			return -errno;
 		}
 		eDebugNoNewLine("ok\n");
 		eDebugNoNewLineStart("[eDVBAudio%d] DEMUX_START ", m_dev);
 		if (::ioctl(m_fd_demux, DMX_START) < 0)
 		{
 			eDebugNoNewLine("failed: %m\n");
-			return -errno;
 		}
 		eDebugNoNewLine("ok\n");
 	}
 
-	if (m_fd >= 0)
-	{
-		int bypass = 0;
+		int xine_type = 0;
 
 		switch (type)
 		{
 		case aMPEG:
-			bypass = 1;
+			xine_type = ISO_13818_AUDIO;
 			break;
 		case aAC3:
 		case aAC4: /* FIXME: AC4 most probably will use other bypass value */
-			bypass = 0;
+			xine_type = STREAM_AUDIO_AC3;
 			break;
 		case aDTS:
-			bypass = 2;
+			xine_type = HDMV_AUDIO_82_DTS;
 			break;
 		case aAAC:
-			bypass = 8;
+			xine_type = ISO_IEC_13818_7_ADTS_AAC_MPEG2_LOWER;
 			break;
 		case aAACHE:
-			bypass = 9;
+			xine_type = ISO_14496_PART3_AUDIO;
 			break;
 		case aLPCM:
-			bypass = 6;
+			xine_type = HDMV_AUDIO_80_PCM;
 			break;
 		case aDTSHD:
-			bypass = 0x10;
+			xine_type = HDMV_AUDIO_86_DTS_HD_MA;
 			break;
 		case aDRA:
-			bypass = 0x40;
+			/* xine_type = ? */
 			break;
 		case aDDP:
-#ifdef DREAMBOX
-		bypass = 7;
-#else
-		bypass = 0x22;
-#endif
-		break;
+			xine_type = HDMV_AUDIO_84_EAC3;
+			break;
 		}
 
-		eDebugNoNewLineStart("[eDVBAudio%d] AUDIO_SET_BYPASS bypass=%d ", m_dev, bypass);
-		if (::ioctl(m_fd, AUDIO_SET_BYPASS_MODE, bypass) < 0)
-			eDebugNoNewLine("failed: %m\n");
-		else
-			eDebugNoNewLine("ok\n");
+		xineLib->setAudioType(pid, xine_type);
+
 		freeze();  // why freeze here?!? this is a problem when only a pid change is requested... because of the unfreeze logic in Decoder::setState
-		eDebugNoNewLineStart("[eDVBAudio%d] AUDIO_PLAY ", m_dev);
-		if (::ioctl(m_fd, AUDIO_PLAY) < 0)
-			eDebugNoNewLine("failed: %m\n");
-		else
-			eDebugNoNewLine("ok\n");
-	}
+
+		/* Radio mode */
+		if (mode)
+			xineLib->playVideo();
 	return 0;
 }
 
@@ -170,14 +172,11 @@
 
 void eDVBAudio::flush()
 {
-	if (m_fd >= 0)
-	{
 		eDebugNoNewLineStart("[eDVBAudio%d] AUDIO_CLEAR_BUFFER ", m_dev);
 		if (::ioctl(m_fd, AUDIO_CLEAR_BUFFER) < 0)
 			eDebugNoNewLine("failed: %m\n");
 		else
 			eDebugNoNewLine("ok\n");
-	}
 }
 
 void eDVBAudio::freeze()
@@ -252,24 +251,13 @@
 	m_width(-1), m_height(-1), m_framerate(-1), m_aspect(-1), m_progressive(-1), m_gamma(-1)
 {
 	char filename[128];
-	sprintf(filename, "/dev/dvb/adapter%d/video%d", demux ? demux->adapter : 0, dev);
 	m_fd = ::open(filename, O_RDWR | O_CLOEXEC);
-	if (m_fd < 0)
-		eWarning("[eDVBVideo] %s: %m", filename);
-	else
-	{
-		eDebug("[eDVBVideo] Video Device: %s", filename);
-		m_sn = eSocketNotifier::create(eApp, m_fd, eSocketNotifier::Priority);
-		CONNECT(m_sn->activated, eDVBVideo::video_event);
-	}
+	m_sn = eSocketNotifier::create(eApp, m_fd, eSocketNotifier::Priority);
+	CONNECT(m_sn->activated, eDVBVideo::video_event);
 	if (demux)
 	{
 		sprintf(filename, "/dev/dvb/adapter%d/demux%d", demux->adapter, demux->demux);
 		m_fd_demux = ::open(filename, O_RDWR | O_CLOEXEC);
-		if (m_fd_demux < 0)
-			eWarning("[eDVBVideo] %s: %m", filename);
-		else
-			eDebug("[eDVBVideo] demux device: %s", filename);
 	}
 	else
 	{
@@ -313,11 +301,12 @@
 #define VIDEO_STREAMTYPE_H265_HEVC 7
 #define VIDEO_STREAMTYPE_AVS 16
 
-int eDVBVideo::startPid(int pid, int type)
+int eDVBVideo::startPid(int pid, int type, bool is_pvr)
 {
-	if (m_fd >= 0)
+	int streamtype = VIDEO_STREAMTYPE_MPEG2;
+
+	if (is_pvr)
 	{
-		int streamtype = VIDEO_STREAMTYPE_MPEG2;
 		switch (type)
 		{
 		default:
@@ -346,11 +335,7 @@
 			break;
 		}
 
-		eDebugNoNewLineStart("[eDVBVideo%d] VIDEO_SET_STREAMTYPE %d - ", m_dev, streamtype);
-		if (::ioctl(m_fd, VIDEO_SET_STREAMTYPE, streamtype) < 0)
-			eDebugNoNewLine("failed: %m\n");
-		else
-			eDebugNoNewLine("ok\n");
+		type = streamtype;
 	}
 
 	if (m_fd_demux >= 0)
@@ -379,38 +364,37 @@
 		if (::ioctl(m_fd_demux, DMX_SET_PES_FILTER, &pes) < 0)
 		{
 			eDebugNoNewLine("failed: %m\n");
-			return -errno;
 		}
 		eDebugNoNewLine("ok\n");
 		eDebugNoNewLineStart("[eDVBVideo%d] DEMUX_START ", m_dev);
 		if (::ioctl(m_fd_demux, DMX_START) < 0)
 		{
 			eDebugNoNewLine("failed: %m\n");
-			return -errno;
 		}
 		eDebugNoNewLine("ok\n");
 	}
 
-	if (m_fd >= 0)
-	{
+		cXineLib *xineLib = cXineLib::getInstance();
+
+		eDebug("**************** VIDEO SET STREAMTYPE: (%x)", type);
+		xineLib->setVideoType(pid, type);
+
 		freeze();  // why freeze here?!? this is a problem when only a pid change is requested... because of the unfreeze logic in Decoder::setState
-		eDebugNoNewLineStart("[eDVBVideo%d] VIDEO_PLAY ", m_dev);
-		if (::ioctl(m_fd, VIDEO_PLAY) < 0)
-			eDebugNoNewLine("failed: %m\n");
-		else
-			eDebugNoNewLine("ok\n");
-	}
+
+		eDebug("**************** VIDEO PLAY");
+		xineLib->playVideo();
+
 	return 0;
 }
 
 void eDVBVideo::stop()
 {
+	cXineLib *xineLib = cXineLib::getInstance();
+	xineLib->stopVideo();
+
 	if (m_fd_demux >= 0)
 	{
 		eDebugNoNewLineStart("[eDVBVideo%d] DEMUX_STOP  ", m_dev);
-		if (::ioctl(m_fd_demux, DMX_STOP) < 0)
-			eDebugNoNewLine("failed: %m\n");
-		else
 			eDebugNoNewLine("ok\n");
 	}
 
@@ -438,6 +422,10 @@
 
 void eDVBVideo::freeze()
 {
+	cXineLib *xineLib = cXineLib::getInstance();
+	xineLib->VideoPause();
+	eDebug("VIDEO_FREEZE");
+
 	if (m_fd >= 0)
 	{
 		eDebugNoNewLineStart("[eDVBVideo%d] VIDEO_FREEZE ", m_dev);
@@ -450,6 +438,10 @@
 
 void eDVBVideo::unfreeze()
 {
+	cXineLib *xineLib = cXineLib::getInstance();
+	xineLib->VideoResume();
+	eDebug("VIDEO_CONTINUE");
+
 	if (m_fd >= 0)
 	{
 		eDebugNoNewLineStart("[eDVBVideo%d] VIDEO_CONTINUE ", m_dev);
@@ -492,11 +484,13 @@
 
 int eDVBVideo::getPTS(pts_t &now)
 {
-	if (m_fd >= 0)
+	cXineLib *xineLib = cXineLib::getInstance();
+
+	if (xineLib->getPTS(now) >= 0)
 	{
-		int ret = ::ioctl(m_fd, VIDEO_GET_PTS, &now);
+		int ret = xineLib->getPTS(now);
 		if (ret < 0)
-			eDebug("[eDVBVideo%d] VIDEO_GET_PTS failed: %m", m_dev);
+			eDebug("VIDEO_GET_PTS failed: %m");
 		return ret;
 	}
 	return 0;
@@ -508,7 +502,6 @@
 		::close(m_fd);
 	if (m_fd_demux >= 0)
 		::close(m_fd_demux);
-	eDebug("[eDVBVideo%d] destroy", m_dev);
 }
 
 void eDVBVideo::video_event(int)
@@ -638,7 +631,7 @@
 		if (m_progressive == -1)
 		{
 			char tmp[64];
-			sprintf(tmp, "/proc/stb/vmpeg/%d/progressive", m_dev);
+			sprintf(tmp, "/usr/local/e2/etc/stb/vmpeg/%d/progressive", m_dev);
 			CFile::parseIntHex(&m_progressive, tmp);
 		}
 	}
@@ -669,7 +662,7 @@
 		if (m_gamma == -1)
 		{
 			char tmp[64];
-			sprintf(tmp, "/proc/stb/vmpeg/%d/gamma", m_dev);
+			sprintf(tmp, "/usr/local/e2/etc/stb/vmpeg/%d/gamma", m_dev);
 			CFile::parseIntHex(&m_gamma, tmp);
 		}
 	}
@@ -881,7 +874,7 @@
 		if ((m_apid >= 0) && (m_apid < 0x1FFF) && !noaudio)
 		{
 			m_audio = new eDVBAudio(m_demux, m_decoder);
-			if (m_audio->startPid(m_apid, m_atype))
+			if (m_audio->startPid(m_apid, m_atype, m_is_radio))
 				res = -1;
 		}
 		m_changed &= ~changeAudio;
@@ -892,8 +885,16 @@
 		{
 			m_video = new eDVBVideo(m_demux, m_decoder);
 			m_video->connectEvent(sigc::mem_fun(*this, &eTSMPEGDecoder::video_event), m_video_event_conn);
-			if (m_video->startPid(m_vpid, m_vtype))
-				res = -1;
+			if (m_vstreamtype != 0)
+			{
+				if (m_video->startPid(m_vpid, m_vstreamtype, m_is_pvr))
+					res = -1;
+			}
+			else
+			{
+				if (m_video->startPid(m_vpid, m_vtype, m_is_pvr))
+					res = -1;
+			}
 		}
 		m_changed &= ~changeVideo;
 	}
@@ -963,7 +964,7 @@
 {
 	if (delay != m_pcm_delay )
 	{
-		if (CFile::writeIntHex("/proc/stb/audio/audio_delay_pcm", delay*90) >= 0)
+		if (CFile::writeIntHex("/usr/local/e2/etc/stb/audio/audio_delay_pcm", delay*90) >= 0)
 		{
 			m_pcm_delay = delay;
 			return 0;
@@ -976,7 +977,7 @@
 {
 	if ( delay != m_ac3_delay )
 	{
-		if (CFile::writeIntHex("/proc/stb/audio/audio_delay_bitstream", delay*90) >= 0)
+		if (CFile::writeIntHex("/usr/local/e2/etc/stb/audio/audio_delay_bitstream", delay*90) >= 0)
 		{
 			m_ac3_delay = delay;
 			return 0;
@@ -998,7 +999,7 @@
 
 eTSMPEGDecoder::eTSMPEGDecoder(eDVBDemux *demux, int decoder)
 	: m_demux(demux),
-		m_vpid(-1), m_vtype(-1), m_apid(-1), m_atype(-1), m_pcrpid(-1), m_textpid(-1),
+		m_vpid(-1), m_vtype(-1), m_apid(-1), m_atype(-1), m_pcrpid(-1), m_textpid(-1), m_vstreamtype(-1), m_is_pvr(false), m_is_radio(false),
 		m_changed(0), m_decoder(decoder), m_video_clip_fd(-1), m_showSinglePicTimer(eTimer::create(eApp))
 {
 	if (m_demux)
@@ -1009,7 +1010,6 @@
 	m_state = stateStop;
 
 	char filename[128];
-	sprintf(filename, "/dev/dvb/adapter%d/audio%d", m_demux ? m_demux->adapter : 0, m_decoder);
 	m_has_audio = !access(filename, W_OK);
 
 	if (m_demux && m_decoder == 0)	// Tuxtxt caching actions only on primary decoder
@@ -1027,27 +1027,33 @@
 		eTuxtxtApp::getInstance()->freeCache();
 }
 
-RESULT eTSMPEGDecoder::setVideoPID(int vpid, int type)
+RESULT eTSMPEGDecoder::setVideoPID(int vpid, int type, int streamtype)
 {
-	if ((m_vpid != vpid) || (m_vtype != type))
+	printf("eTSMPEGDecoder setVideoPID %d\n", vpid);
+	if ((m_vpid != vpid) || (m_vtype != type) || (m_vstreamtype != streamtype))
 	{
 		m_changed |= changeVideo;
 		m_vpid = vpid;
 		m_vtype = type;
+		m_vstreamtype = streamtype;
+		
+		if (m_vstreamtype == 0)
+			m_is_pvr = true;
+		else
+			m_is_pvr = false;
 	}
 	return 0;
 }
 
-RESULT eTSMPEGDecoder::setAudioPID(int apid, int type)
+RESULT eTSMPEGDecoder::setAudioPID(int apid, int type, bool amode)
 {
-	/* do not set an audio pid on decoders without audio support */
-	if (!m_has_audio) apid = -1;
-
+	printf("eTSMPEGDecoder setAudioPID %d\n", apid);
 	if ((m_apid != apid) || (m_atype != type))
 	{
 		m_changed |= changeAudio;
 		m_atype = type;
 		m_apid = apid;
+		m_is_radio = amode;
 	}
 	return 0;
 }
@@ -1239,8 +1245,6 @@
 		{
 			struct stat s;
 			fstat(f, &s);
-			if (m_video_clip_fd == -1)
-				m_video_clip_fd = open("/dev/dvb/adapter0/video0", O_WRONLY);
 			if (m_video_clip_fd >= 0)
 			{
 				bool seq_end_avail = false;
diff -ruN o/lib/dvb/decoder.h pc/lib/dvb/decoder.h
--- o/lib/dvb/decoder.h	2020-08-01 17:47:17.149610099 +0300
+++ pc/lib/dvb/decoder.h	2020-11-01 12:15:22.844271937 +0300
@@ -3,6 +3,7 @@
 
 #include <lib/base/object.h>
 #include <lib/dvb/demux.h>
+#include <lib/gdi/gxlibdc.h>
 
 class eSocketNotifier;
 
@@ -18,7 +19,7 @@
 	enum { aMonoLeft, aStereo, aMonoRight };
 	void setChannel(int channel);
 	void stop();
-	int startPid(int pid, int type);
+	int startPid(int pid, int type, bool mode);
 	void flush();
 	void freeze();
 	void unfreeze();
@@ -43,7 +44,7 @@
 	enum { UNKNOWN = -1, MPEG2, MPEG4_H264, VC1 = 3, MPEG4_Part2, VC1_SM, MPEG1, H265_HEVC, AVS = 16 };
 	eDVBVideo(eDVBDemux *demux, int dev);
 	void stop();
-	int startPid(int pid, int type=MPEG2);
+	int startPid(int pid, int type=MPEG2, bool is_pvr=false);
 	void flush();
 	void freeze();
 	int setSlowMotion(int repeat);
@@ -99,7 +100,8 @@
 	ePtr<eDVBVideo> m_video;
 	ePtr<eDVBPCR> m_pcr;
 	ePtr<eDVBTText> m_text;
-	int m_vpid, m_vtype, m_apid, m_atype, m_pcrpid, m_textpid;
+	int m_vpid, m_vtype, m_apid, m_atype, m_pcrpid, m_textpid, m_vstreamtype;
+	bool m_is_pvr, m_is_radio;
 	enum
 	{
 		changeVideo = 1,
@@ -126,8 +128,8 @@
 	enum { pidNone = -1 };
 	eTSMPEGDecoder(eDVBDemux *demux, int decoder);
 	virtual ~eTSMPEGDecoder();
-	RESULT setVideoPID(int vpid, int type);
-	RESULT setAudioPID(int apid, int type);
+	RESULT setVideoPID(int vpid, int type, int streamtype);
+	RESULT setAudioPID(int apid, int type, bool amode);
 	RESULT setAudioChannel(int channel);
 	int getAudioChannel();
 	RESULT setPCMDelay(int delay);
diff -ruN o/lib/dvb/decsa.cpp pc/lib/dvb/decsa.cpp
--- o/lib/dvb/decsa.cpp	1970-01-01 03:00:00.000000000 +0300
+++ pc/lib/dvb/decsa.cpp	2020-11-01 12:15:22.844271937 +0300
@@ -0,0 +1,247 @@
+/*
+ * Based on "Softcam plugin to VDR (C++)"
+ */
+
+#include <lib/dvb/decsa.h>
+
+static bool CheckNull(const unsigned char *data, int len)
+{
+  while(--len>=0)
+    if(data[len])
+      return false;
+  return true;
+}
+
+cDeCSA::cDeCSA(int _adapter, int _demux)
+  :stall(MAX_STALL_MS)
+{
+  adapter = _adapter;
+  demux = _demux;
+
+  cs=dvbcsa_bs_batch_size();
+  cs_tsbbatch_even = (dvbcsa_bs_batch_s *) malloc((cs + 1) * sizeof(struct dvbcsa_bs_batch_s));
+  cs_tsbbatch_odd = (dvbcsa_bs_batch_s *) malloc((cs + 1) * sizeof(struct dvbcsa_bs_batch_s));
+  memset(cs_key_even, 0, sizeof(cs_key_even));
+  memset(cs_key_odd, 0, sizeof(cs_key_odd));
+  memset(pidmap, 0, sizeof(pidmap));
+
+  ResetState();
+}
+
+cDeCSA::~cDeCSA()
+{
+  for(int i=0; i<MAX_CSA_IDX; i++) {
+    if (cs_key_even[i])
+      dvbcsa_bs_key_free(cs_key_even[i]);
+    if (cs_key_odd[i])
+      dvbcsa_bs_key_free(cs_key_odd[i]);
+  }
+  free(cs_tsbbatch_even);
+  free(cs_tsbbatch_odd);
+}
+
+void cDeCSA::ResetState(void)
+{
+  printf("adapter%d/demux%d: reset state", adapter, demux);
+  memset(even_odd,0,sizeof(even_odd));
+  memset(flags,0,sizeof(flags));
+//  memset(usedPids,0,sizeof(usedPids));
+  lastData=0;
+}
+
+bool cDeCSA::GetKeyStruct(int idx)
+{
+  if (!cs_key_even[idx])
+    cs_key_even[idx] = dvbcsa_bs_key_alloc();
+  if (!cs_key_odd[idx])
+    cs_key_odd[idx] = dvbcsa_bs_key_alloc();
+  return (cs_key_even[idx] != 0) && (cs_key_odd[idx] != 0);
+}
+
+bool cDeCSA::SetDescr(ca_descr_t *ca_descr, bool initial)
+{
+  cMutexLock lock(&mutex);
+
+  int idx=ca_descr->index;
+  if(idx<MAX_CSA_IDX && GetKeyStruct(idx)) {
+    if(!initial && ca_descr->parity==(even_odd[idx]&0x40)>>6) {
+      if(flags[idx] & (ca_descr->parity?FL_ODD_GOOD:FL_EVEN_GOOD)) {
+        printf("adapter%d/demux%d idx %d: %s key in use (%d ms)", adapter, demux ,idx,ca_descr->parity?"odd":"even",MAX_REL_WAIT);
+        if(wait.TimedWait(mutex,MAX_REL_WAIT))
+          printf("adapter%d/demux%d idx %d: successfully waited for release\n", adapter, demux, idx);
+        else
+          printf("adapter%d/demux%d idx %d: timed out. setting anyways\n", adapter, demux, idx);
+      }
+      else
+        printf("adapter%d/demux%d idx %d: late key set...\n", adapter, demux, idx);
+    }
+    if(ca_descr->parity==0) {
+      dvbcsa_bs_key_set(ca_descr->cw, cs_key_even[idx]);
+
+      if(!CheckNull(ca_descr->cw,8))
+        flags[idx] |= FL_EVEN_GOOD|FL_ACTIVITY;
+      else
+        printf("adapter%d/demux%d idx %d: zero even CW\n", adapter, demux, idx);
+      wait.Broadcast();
+    } else {
+      dvbcsa_bs_key_set(ca_descr->cw, cs_key_odd[idx]);
+
+      if(!CheckNull(ca_descr->cw,8))
+        flags[idx] |= FL_ODD_GOOD|FL_ACTIVITY;
+      else
+        printf("adapter%d/demux%d idx%d: zero odd CW\n", adapter, demux, idx);
+      wait.Broadcast();
+    }
+  }
+
+  return true;
+}
+
+bool cDeCSA::SetCaPid(ca_pid_t *ca_pid)
+{
+  cMutexLock lock(&mutex);
+
+  if(ca_pid->index<MAX_CSA_IDX && ca_pid->pid<MAX_CSA_PIDS) {
+
+    pidmap[ca_pid->pid] = ca_pid->index;
+    printf("adapter%d/demux%d idx %d: set pid %04x\n", adapter, demux, ca_pid->index, ca_pid->pid);
+    //printf("adapter%d/demux%d idx %d: udedPids %d\n", adapter, demux, idx, usedPids[idx]);
+  }
+
+  return true;
+}
+
+unsigned char ts_packet_get_payload_offset(unsigned char *ts_packet)
+{
+  if (ts_packet[0] != TS_SYNC_BYTE)
+    return 0;
+
+  unsigned char adapt_field   = (ts_packet[3] &~ 0xDF) >> 5; // 11x11111
+  unsigned char payload_field = (ts_packet[3] &~ 0xEF) >> 4; // 111x1111
+
+  if (!adapt_field && !payload_field)     // Not allowed
+    return 0;
+
+  if (adapt_field)
+  {
+    unsigned char adapt_len = ts_packet[4];
+    if (payload_field && adapt_len > 182) // Validity checks
+      return 0;
+    if (!payload_field && adapt_len > 183)
+      return 0;
+    if (adapt_len + 4 > TS_SIZE)  // adaptation field takes the whole packet
+      return 0;
+    return 4 + 1 + adapt_len;     // ts header + adapt_field_len_byte + adapt_field_len
+  }
+  else
+  {
+    return 4; // No adaptation, data starts directly after TS header
+  }
+}
+
+bool cDeCSA::Decrypt(unsigned char *data, int len, int& packetsCount)
+{
+  cMutexLock lock(&mutex);
+//  printf("Begin Decrypting %d\n", len);
+  if (!cs_tsbbatch_even || !cs_tsbbatch_odd)
+  {
+    printf("Error allocating memory for DeCSA\n");
+    return false;
+  }
+
+  int ccs = 0, currIdx=-1;
+  int payload_len, offset;
+  int cs_fill_even = 0;
+  int cs_fill_odd = 0;
+  len-=(TS_SIZE-1);
+  int l;
+  int packets=0;
+
+  for(l=0; l<len; l+=TS_SIZE) {
+    if (data[l] != TS_SYNC_BYTE)
+    {                           // let higher level cope with that
+      break;
+    }
+    unsigned int ev_od=data[l+3]&0xC0;
+    if(ev_od==0x80 || ev_od==0xC0) { // encrypted
+      offset = ts_packet_get_payload_offset(data + l);
+      payload_len = TS_SIZE - offset;
+      int idx=pidmap[((data[l+1]<<8)+data[l+2])&(MAX_CSA_PIDS-1)];
+      if(currIdx<0 || idx==currIdx) { // same or no index
+        data[l + 3] &= 0x3F;
+        currIdx=idx;
+        if(ccs == 0 && ev_od!=even_odd[idx]) {
+//          if (cryptedPackets==0) {
+            even_odd[idx]=ev_od;
+            wait.Broadcast();
+            printf("adapter%d/demux%d idx %d: change to %s key\n", adapter, demux, idx, (ev_od&0x40)?"odd":"even");
+          
+            bool doWait=false;
+            if(ev_od&0x40) {
+              flags[idx]&=~FL_EVEN_GOOD;
+              if(!(flags[idx]&FL_ODD_GOOD)) doWait=true;
+            }
+            else {
+              flags[idx]&=~FL_ODD_GOOD;
+              if(!(flags[idx]&FL_EVEN_GOOD)) doWait=true;
+            }
+            if(doWait) {
+              printf("adapter%d/demux%d idx %d: %s key not ready (%d ms)\n",
+                  adapter, demux, idx, (ev_od&0x40)?"odd":"even", MAX_KEY_WAIT);
+              if(flags[idx]&FL_ACTIVITY) {
+                flags[idx]&=~FL_ACTIVITY;
+                if(wait.TimedWait(mutex,MAX_KEY_WAIT))
+                  printf("adapter%d/demux%d idx %d: successfully waited for key\n", adapter, demux, idx);
+                else
+                  printf("adapter%d/demux%d idx %d: timed out. proceeding anyways\n", adapter, demux, idx);
+              } else
+                printf("adapter%d/demux%d idx %d: not active. wait skipped\n", adapter, demux, idx);
+            }
+//          } else {
+//            break;
+//          }
+        }
+      }
+//      else
+//        break;
+
+      if (((ev_od & 0x40) >> 6) == 0) {
+          cs_tsbbatch_even[cs_fill_even].data = &data[l + offset];
+          cs_tsbbatch_even[cs_fill_even].len = payload_len;
+          cs_fill_even++;
+      } else {
+          cs_tsbbatch_odd[cs_fill_odd].data = &data[l + offset];
+          cs_tsbbatch_odd[cs_fill_odd].len = payload_len;
+          cs_fill_odd++;
+      }
+
+      if(++ccs >= cs)
+        break;
+    }
+
+    packets++;
+  }
+
+  if (GetKeyStruct(currIdx)) {
+   if (cs_fill_even)
+    {
+      cs_tsbbatch_even[cs_fill_even].data = NULL;
+      dvbcsa_bs_decrypt(cs_key_even[currIdx], cs_tsbbatch_even, 184);
+      cs_fill_even = 0;
+    }
+    if (cs_fill_odd)
+    {
+      cs_tsbbatch_odd[cs_fill_odd].data = NULL;
+      dvbcsa_bs_decrypt(cs_key_odd[currIdx], cs_tsbbatch_odd, 184);
+      cs_fill_odd = 0;
+    }
+    stall.Set(MAX_STALL_MS);
+
+  }
+
+  packetsCount = packets;
+
+  return true;
+}
+
+
diff -ruN o/lib/dvb/decsa.h pc/lib/dvb/decsa.h
--- o/lib/dvb/decsa.h	1970-01-01 03:00:00.000000000 +0300
+++ pc/lib/dvb/decsa.h	2020-11-01 12:15:22.844271937 +0300
@@ -0,0 +1,50 @@
+#ifndef __dvb_decsa_h
+#define __dvb_decsa_h
+
+#include "../dvbsoftwareca/ca.h"
+#include <lib/base/condVar.h>
+
+extern "C" {
+#include <dvbcsa/dvbcsa.h>
+}
+
+#define TS_SIZE          188
+#define TS_SYNC_BYTE     0x47
+
+#define MAX_REL_WAIT 100 // time to wait if key in used on set
+#define MAX_KEY_WAIT 500 // time to wait if key not ready on change
+#define MAX_STALL_MS 70
+
+#define MAX_CSA_PIDS 8192
+#define MAX_CSA_IDX  16
+#define FL_EVEN_GOOD 1
+#define FL_ODD_GOOD  2
+#define FL_ACTIVITY  4
+
+class cDeCSA {
+private:
+  int cs;
+  unsigned char *lastData;
+  unsigned char pidmap[MAX_CSA_PIDS];
+  unsigned int even_odd[MAX_CSA_IDX], flags[MAX_CSA_IDX], usedPids[MAX_CSA_IDX];
+  cMutex mutex;
+  cCondVar wait;
+  cTimeMs stall;
+  int adapter, demux;
+  struct dvbcsa_bs_key_s *cs_key_even[MAX_CSA_IDX];
+  struct dvbcsa_bs_key_s *cs_key_odd[MAX_CSA_IDX];
+  struct dvbcsa_bs_batch_s *cs_tsbbatch_even;
+  struct dvbcsa_bs_batch_s *cs_tsbbatch_odd;
+
+  bool GetKeyStruct(int idx);
+  void ResetState(void);
+public:
+  cDeCSA(int _adapter, int _demux);
+  ~cDeCSA();
+  bool Decrypt(unsigned char *data, int len, int& packetsCount);
+
+  bool SetDescr(ca_descr_t *ca_descr, bool initial);
+  bool SetCaPid(ca_pid_t *ca_pid);
+};
+
+#endif
diff -ruN o/lib/dvb/demux.cpp pc/lib/dvb/demux.cpp
--- o/lib/dvb/demux.cpp	2020-08-01 17:47:17.150610064 +0300
+++ pc/lib/dvb/demux.cpp	2020-11-01 12:15:22.850272048 +0300
@@ -44,7 +44,11 @@
 	}
 	unsigned int megabytes = si.totalram >> 20;
 	int result;
-	if (megabytes > 400)
+	if (megabytes > 1600)
+		result = 160; // 4096MB systems: Use 32MB IO buffers (PC)
+	else if (megabytes > 800)
+		result = 80; // 2048MB systems: Use 16MB IO buffers (PC)
+	else if (megabytes > 400)
 		result = 40; // 1024MB systems: Use 8MB IO buffers (vusolo2, vuduo2, ...)
 	else if (megabytes > 200)
 		result = 20; // 512MB systems: Use 4MB IO buffers (et9x00, vuultimo, ...)
@@ -65,13 +69,14 @@
 	m_dvr_id(-1),
 	m_dvr_source_offset(DMX_SOURCE_DVR0)
 {
-	if (CFile::parseInt(&m_dvr_source_offset, "/proc/stb/frontend/dvr_source_offset") == 0)
+	if (CFile::parseInt(&m_dvr_source_offset, "/usr/local/e2/etc/stb/frontend/dvr_source_offset") == 0)
 		eDebug("[eDVBDemux] using %d for PVR DMX_SET_SOURCE", m_dvr_source_offset);
-
+	decsa = new cDeCSA(adapter, demux);
 }
 
 eDVBDemux::~eDVBDemux()
 {
+	delete decsa;
 }
 
 int eDVBDemux::openDemux(void)
@@ -192,6 +197,20 @@
 	return 0;
 }
 
+RESULT eDVBDemux::setCaDescr(ca_descr_t *ca_descr, bool initial)
+{
+	return decsa->SetDescr(ca_descr, initial);
+}
+
+RESULT eDVBDemux::setCaPid(ca_pid_t *ca_pid)
+{
+	return decsa->SetCaPid(ca_pid);
+}
+
+bool eDVBDemux::decrypt(uint8_t *data, int len, int &packetsCount) {
+	return decsa->Decrypt(data, len, packetsCount);
+}
+
 void eDVBSectionReader::data(int)
 {
 	uint8_t data[4096]; // max. section size
@@ -734,6 +753,7 @@
 	}
 
 	return len;
+
 }
 
 void eDVBRecordStreamThread::flush()
@@ -781,6 +801,7 @@
 
 RESULT eDVBTSRecorder::start()
 {
+	eDebug("eDVBTSRecorder::start");
 	std::map<int,int>::iterator i(m_pids.begin());
 
 	if (m_running)
@@ -794,6 +815,7 @@
 
 	char filename[128];
 	snprintf(filename, 128, "/dev/dvb/adapter%d/demux%d", m_demux->adapter, m_demux->demux);
+	eDebug("eDVBTSRecorder::start %s", filename);
 
 	m_source_fd = ::open(filename, O_RDONLY | O_CLOEXEC);
 
@@ -826,14 +848,14 @@
 	if (!m_target_filename.empty())
 		m_thread->startSaveMetaInformation(m_target_filename);
 
-	m_thread->start(m_source_fd);
-	m_running = 1;
-
 	while (i != m_pids.end()) {
 		startPID(i->first);
 		++i;
 	}
 
+	m_thread->start(m_source_fd, m_demux);
+	m_running = 1;
+
 	return 0;
 }
 
diff -ruN o/lib/dvb/demux.h pc/lib/dvb/demux.h
--- o/lib/dvb/demux.h	2020-08-01 17:47:17.150610064 +0300
+++ pc/lib/dvb/demux.h	2020-11-01 12:15:22.851272066 +0300
@@ -6,52 +6,7 @@
 #include <lib/dvb/idemux.h>
 #include <lib/dvb/pvrparse.h>
 #include "filepush.h"
-
-class eDVBDemux: public iDVBDemux
-{
-	DECLARE_REF(eDVBDemux);
-public:
-	enum {
-		evtFlush
-	};
-	eDVBDemux(int adapter, int demux);
-	virtual ~eDVBDemux();
-
-	RESULT setSourceFrontend(int fenum);
-	int getSource() { return source; }
-	RESULT setSourcePVR(int pvrnum);
-	int getDvrId() { return m_dvr_id; }
-
-	RESULT createSectionReader(eMainloop *context, ePtr<iDVBSectionReader> &reader);
-	RESULT createPESReader(eMainloop *context, ePtr<iDVBPESReader> &reader);
-	RESULT createTSRecorder(ePtr<iDVBTSRecorder> &recorder, int packetsize = 188, bool streaming=false);
-	RESULT getMPEGDecoder(ePtr<iTSMPEGDecoder> &reader, int index);
-	RESULT getSTC(pts_t &pts, int num);
-	RESULT getCADemuxID(uint8_t &id) { id = demux; return 0; }
-	RESULT getCAAdapterID(uint8_t &id) { id = adapter; return 0; }
-	RESULT flush();
-	RESULT connectEvent(const sigc::slot1<void,int> &event, ePtr<eConnection> &conn);
-	int openDVR(int flags);
-
-	int getRefCount() { return ref; }
-private:
-	int adapter, demux, source;
-
-	int m_dvr_busy;
-	int m_dvr_id;
-	int m_dvr_source_offset;
-	friend class eDVBSectionReader;
-	friend class eDVBPESReader;
-	friend class eDVBAudio;
-	friend class eDVBVideo;
-	friend class eDVBPCR;
-	friend class eDVBTText;
-	friend class eDVBTSRecorder;
-	friend class eDVBCAService;
-	friend class eTSMPEGDecoder;
-	sigc::signal1<void, int> m_event;
-	int openDemux(void);
-};
+#include <lib/dvb/edvbdemux.h>
 
 class eDVBSectionReader: public iDVBSectionReader, public sigc::trackable
 {
diff -ruN o/lib/dvb/dvb.cpp pc/lib/dvb/dvb.cpp
--- o/lib/dvb/dvb.cpp	2020-08-24 13:46:09.552546357 +0300
+++ pc/lib/dvb/dvb.cpp	2020-11-01 12:15:22.852272085 +0300
@@ -97,7 +97,14 @@
 		if (eDVBAdapterLinux::isusb(num_adapter))
 		{
 			eDVBAdapterLinux *adapter = new eDVBUsbAdapter(num_adapter);
-			addAdapter(adapter);
+			adapter->scanDevices();
+			addAdapter(adapter, true);
+		}
+		else
+		{
+			eDVBAdapterLinux *adapter = new eDVBAdapterLinux(num_adapter);
+			adapter->scanDevices();
+			addAdapter(adapter, true);
 		}
 		num_adapter++;
 	}
@@ -1487,6 +1494,22 @@
 	return false;
 }
 
+/* openpliPC */
+RESULT eDVBResourceManager::getAdapterDemux(ePtr<eDVBDemux> &demux, int adapter_nr, int demux_nr)
+{
+	eSmartPtrList<iDVBAdapter>::iterator i(m_adapter.begin());
+
+	while (adapter_nr && (i != m_adapter.end())) {
+		--adapter_nr;
+		++i;
+	}
+
+	if (i != m_adapter.end())
+		return i->getDemux(demux, demux_nr);
+	else
+		return -1;
+}
+
 class eDVBChannelFilePush: public eFilePushThread
 {
 public:
@@ -2104,7 +2127,7 @@
 
 RESULT eDVBChannel::getDemux(ePtr<iDVBDemux> &demux, int cap)
 {
-	ePtr<eDVBAllocatedDemux> &our_demux = (cap & capDecode) ? m_decoder_demux : m_demux;
+	ePtr<eDVBAllocatedDemux> &our_demux = m_demux; /* openpliPC */
 
 	eDebug("[eDVBChannel] getDemux cap=%02X", cap);
 
@@ -2178,23 +2201,11 @@
 	m_source = source;
 	m_tstools.setSource(m_source, streaminfo_file);
 
+	m_pvr_fd_dst = ::open("/tmp/ENIGMA_FIFO", O_RDWR);
 	if (m_pvr_fd_dst < 0)
 	{
-		ePtr<eDVBAllocatedDemux> &demux = m_demux ? m_demux : m_decoder_demux;
-		if (demux)
-		{
-			m_pvr_fd_dst = demux->get().openDVR(O_WRONLY);
-			if (m_pvr_fd_dst < 0)
-			{
-				eDebug("[eDVBChannel] can't open /dev/dvb/adapterX/dvrX: %m");
-				return -ENODEV;
-			}
-		}
-		else
-		{
-			eDebug("[eDVBChannel] no demux allocated yet.. so its not possible to open the dvr device!!");
-			return -ENODEV;
-		}
+		eDebug("can't open DVR device - FIFO file (%m)");
+		return -ENODEV;
 	}
 
 	m_pvr_thread = new eDVBChannelFilePush(m_source->getPacketSize());
@@ -2222,7 +2233,7 @@
 	}
 	if (m_pvr_fd_dst >= 0)
 	{
-		::close(m_pvr_fd_dst);
+/* Pipe '/tmp/ENIGMA_FIFO' closed in eDVBServicePlay::stop() (lib/service/servicedvb.cpp) */
 		m_pvr_fd_dst = -1;
 	}
 	m_source = NULL;
diff -ruN o/lib/dvb/dvb.h pc/lib/dvb/dvb.h
--- o/lib/dvb/dvb.h	2020-08-01 17:47:17.150610064 +0300
+++ pc/lib/dvb/dvb.h	2020-11-01 12:15:22.853272103 +0300
@@ -243,6 +243,7 @@
 	bool frontendIsMultistream(int index);
 	std::string getFrontendCapabilities(int index);
 	void setFrontendType(int index, const char *types);
+	RESULT getAdapterDemux(ePtr<eDVBDemux> &demux, int adapter_nr, int demux_nr);
 };
 SWIG_TEMPLATE_TYPEDEF(ePtr<eDVBResourceManager>, eDVBResourceManager);
 SWIG_EXTEND(ePtr<eDVBResourceManager>,
diff -ruN o/lib/dvb/dvbtime.cpp pc/lib/dvb/dvbtime.cpp
--- o/lib/dvb/dvbtime.cpp	2020-08-01 17:47:17.150610064 +0300
+++ pc/lib/dvb/dvbtime.cpp	2020-11-01 12:15:22.870272416 +0300
@@ -17,13 +17,13 @@
 
 void setRTC(time_t time)
 {
-	FILE *f = fopen("/proc/stb/fp/rtc", "w");
+	FILE *f = fopen("/usr/local/e2/etc/stb/fp/rtc", "w");
 	if (f)
 	{
 		if (fprintf(f, "%u", (unsigned int)time))
 			prev_time = time;
 		else
-			eDebug("[eDVBLocalTimeHandler] write /proc/stb/fp/rtc failed: %m");
+			eDebug("[eDVBLocalTimeHandler] write /usr/local/e2/etc/stb/fp/rtc failed: %m");
 		fclose(f);
 	}
 	else
@@ -43,13 +43,13 @@
 time_t getRTC()
 {
 	time_t rtc_time=0;
-	FILE *f = fopen("/proc/stb/fp/rtc", "r");
+	FILE *f = fopen("/usr/local/e2/etc/stb/fp/rtc", "r");
 	if (f)
 	{
 		// sanity check to detect corrupt atmel firmware
 		unsigned int tmp;
 		if (fscanf(f, "%u", &tmp) != 1)
-			eDebug("[eDVBLocalTimeHandler] read /proc/stb/fp/rtc failed: %m");
+			eDebug("[eDVBLocalTimeHandler] read /usr/local/e2/etc/stb/fp/rtc failed: %m");
 		else
 			rtc_time=tmp;
 		fclose(f);
diff -ruN o/lib/dvb/edvbdemux.h pc/lib/dvb/edvbdemux.h
--- o/lib/dvb/edvbdemux.h	1970-01-01 03:00:00.000000000 +0300
+++ pc/lib/dvb/edvbdemux.h	2020-11-01 12:15:22.870272416 +0300
@@ -0,0 +1,59 @@
+#ifndef __dvb_edvbdemux_h
+#define __dvb_edvbdemux_h
+
+#include <lib/dvb/idvb.h>
+#include <lib/dvb/idemux.h>
+#include <lib/dvb/decsa.h>
+
+class eDVBDemux: public iDVBDemux
+{
+	DECLARE_REF(eDVBDemux);
+public:
+	enum {
+		evtFlush
+	};
+	eDVBDemux(int adapter, int demux);
+	virtual ~eDVBDemux();
+
+	RESULT setSourceFrontend(int fenum);
+	int getSource() { return source; }
+	RESULT setSourcePVR(int pvrnum);
+	int getDvrId() { return m_dvr_id; }
+
+	RESULT createSectionReader(eMainloop *context, ePtr<iDVBSectionReader> &reader);
+	RESULT createPESReader(eMainloop *context, ePtr<iDVBPESReader> &reader);
+	RESULT createTSRecorder(ePtr<iDVBTSRecorder> &recorder, int packetsize = 188, bool streaming=false);
+	RESULT getMPEGDecoder(ePtr<iTSMPEGDecoder> &reader, int index);
+	RESULT getSTC(pts_t &pts, int num);
+	RESULT getCADemuxID(uint8_t &id) { id = demux; return 0; }
+	RESULT getCAAdapterID(uint8_t &id) { id = adapter; return 0; }
+	RESULT flush();
+	RESULT connectEvent(const sigc::slot1<void,int> &event, ePtr<eConnection> &conn);
+	int openDVR(int flags);
+
+	int getRefCount() { return ref; }
+
+	RESULT setCaDescr(ca_descr_t *ca_descr, bool initial);
+	RESULT setCaPid(ca_pid_t *ca_pid);
+	bool decrypt(uint8_t *data, int len, int &packetsCount);
+private:
+	int adapter, demux, source;
+	cDeCSA *decsa;
+
+	int m_dvr_busy;
+	int m_dvr_id;
+	int m_dvr_source_offset;
+	friend class eDVBSectionReader;
+	friend class eDVBPESReader;
+	friend class eDVBAudio;
+	friend class eDVBVideo;
+	friend class eDVBPCR;
+	friend class eDVBTText;
+	friend class eDVBTSRecorder;
+	friend class eDVBCAService;
+	friend class eTSMPEGDecoder;
+	sigc::signal1<void, int> m_event;
+	int openDemux(void);
+};
+
+#endif
diff -ruN o/lib/dvb/encoder.cpp pc/lib/dvb/encoder.cpp
--- o/lib/dvb/encoder.cpp	2020-08-01 17:47:17.150610064 +0300
+++ pc/lib/dvb/encoder.cpp	2020-11-01 12:15:22.875272508 +0300
@@ -55,7 +55,7 @@
 		{
 			char filename[64];
 
-			snprintf(filename, sizeof(filename), "/proc/stb/encoder/%d/decoder", index);
+			snprintf(filename, sizeof(filename), "/usr/local/e2/etc/stb/encoder/%d/decoder", index);
 
 			if (CFile::parseInt(&decoder_index, filename) < 0)
 				break;
@@ -125,18 +125,18 @@
 		return(-1);
 	}
 
-	snprintf(filename, sizeof(filename), "/proc/stb/encoder/%d/bitrate", encoder_index);
+	snprintf(filename, sizeof(filename), "/usr/local/e2/etc/stb/encoder/%d/bitrate", encoder_index);
 	CFile::writeInt(filename, bitrate);
 
-	snprintf(filename, sizeof(filename), "/proc/stb/encoder/%d/width", encoder_index);
+	snprintf(filename, sizeof(filename), "/usr/local/e2/etc/stb/encoder/%d/width", encoder_index);
 	CFile::writeInt(filename, width);
 
-	snprintf(filename, sizeof(filename), "/proc/stb/encoder/%d/height", encoder_index);
+	snprintf(filename, sizeof(filename), "/usr/local/e2/etc/stb/encoder/%d/height", encoder_index);
 	CFile::writeInt(filename, height);
 
 	if(bcm_encoder)
 	{
-		snprintf(filename, sizeof(filename), "/proc/stb/encoder/%d/display_format", encoder_index);
+		snprintf(filename, sizeof(filename), "/usr/local/e2/etc/stb/encoder/%d/display_format", encoder_index);
 
 		if(height > 576)
 			CFile::write(filename, "720p");
@@ -147,36 +147,36 @@
 				CFile::write(filename, "480p");
 	}
 
-	snprintf(filename, sizeof(filename), "/proc/stb/encoder/%d/framerate", encoder_index);
+	snprintf(filename, sizeof(filename), "/usr/local/e2/etc/stb/encoder/%d/framerate", encoder_index);
 	CFile::writeInt(filename, framerate);
 
-	snprintf(filename, sizeof(filename), "/proc/stb/encoder/%d/interlaced", encoder_index);
+	snprintf(filename, sizeof(filename), "/usr/local/e2/etc/stb/encoder/%d/interlaced", encoder_index);
 	CFile::writeInt(filename, interlaced);
 
-	snprintf(filename, sizeof(filename), "/proc/stb/encoder/%d/aspectratio", encoder_index);
+	snprintf(filename, sizeof(filename), "/usr/local/e2/etc/stb/encoder/%d/aspectratio", encoder_index);
 	CFile::writeInt(filename, aspectratio);
 
 	if(!vcodec.empty())
 	{
-		snprintf(filename, sizeof(filename), "/proc/stb/encoder/%d/%s_choices", encoder_index, vcodec_node);
+		snprintf(filename, sizeof(filename), "/usr/local/e2/etc/stb/encoder/%d/%s_choices", encoder_index, vcodec_node);
 		if (CFile::contains_word(filename, vcodec))
 		{
-			snprintf(filename, sizeof(filename), "/proc/stb/encoder/%d/%s", encoder_index, vcodec_node);
+			snprintf(filename, sizeof(filename), "/usr/local/e2/etc/stb/encoder/%d/%s", encoder_index, vcodec_node);
 			CFile::write(filename, vcodec.c_str());
 		}
 	}
 
 	if(!acodec.empty())
 	{
-		snprintf(filename, sizeof(filename), "/proc/stb/encoder/%d/%s_choices", encoder_index, acodec_node);
+		snprintf(filename, sizeof(filename), "/usr/local/e2/etc/stb/encoder/%d/%s_choices", encoder_index, acodec_node);
 		if (CFile::contains_word(filename, acodec))
 		{
-			snprintf(filename, sizeof(filename), "/proc/stb/encoder/%d/%s", encoder_index, acodec_node);
+			snprintf(filename, sizeof(filename), "/usr/local/e2/etc/stb/encoder/%d/%s", encoder_index, acodec_node);
 			CFile::write(filename, acodec.c_str());
 		}
 	}
 
-	snprintf(filename, sizeof(filename), "/proc/stb/encoder/%d/apply", encoder_index);
+	snprintf(filename, sizeof(filename), "/usr/local/e2/etc/stb/encoder/%d/apply", encoder_index);
 	CFile::writeInt(filename, 1);
 
 	if(encoder[encoder_index].navigation_instance->playService(serviceref) < 0)
diff -ruN o/lib/dvb/fbc.cpp pc/lib/dvb/fbc.cpp
--- o/lib/dvb/fbc.cpp	2020-08-01 17:47:17.151610029 +0300
+++ pc/lib/dvb/fbc.cpp	2020-11-01 12:15:22.876272527 +0300
@@ -17,7 +17,7 @@
 	std::stringstream path;
 	std::ifstream file;
 
-	path << "/proc/stb/frontend/" << fe_index << "/" << entry;
+	path << "/usr/local/e2/etc/stb/frontend/" << fe_index << "/" << entry;
 	file.open(path.str().c_str());
 
 	if(!file.is_open())
@@ -36,7 +36,7 @@
 	std::stringstream path;
 	std::ofstream file;
 
-	path << "/proc/stb/frontend/" << fe_index << "/" << entry;
+	path << "/usr/local/e2/etc/stb/frontend/" << fe_index << "/" << entry;
 	file.open(path.str().c_str());
 
 	if(!file.is_open())
@@ -53,7 +53,7 @@
 	std::string::const_iterator it;
 	int fbc_id;
 
-	path << "/proc/stb/frontend/"  << fe_index << "/fbc_connect_choices";
+	path << "/usr/local/e2/etc/stb/frontend/"  << fe_index << "/fbc_connect_choices";
 	file.open(path.str().c_str());
 
 	if(!file.is_open())
diff -ruN o/lib/dvb/filepush.cpp pc/lib/dvb/filepush.cpp
--- o/lib/dvb/filepush.cpp	2020-08-01 17:47:17.152609994 +0300
+++ pc/lib/dvb/filepush.cpp	2020-11-01 12:15:22.877272545 +0300
@@ -3,7 +3,6 @@
 #include <errno.h>
 #include <fcntl.h>
 #include <sys/ioctl.h>
-#include <poll.h>
 
 //#define SHOW_WRITE_TIME
 
@@ -339,14 +338,7 @@
 	/* m_stop must be evaluated after each syscall. */
 	while (!m_stop)
 	{
-		/* this works around the buggy Broadcom encoder that always returns even if there is no data */
-		/* (works like O_NONBLOCK even when not opened as such), prevent idle waiting for the data */
-		/* this won't ever hurt, because it will return immediately when there is data or an error condition */
-
-		struct pollfd pfd = { m_fd_source, POLLIN, 0 };
-		poll(&pfd, 1, 100);
-
-		ssize_t bytes = ::read(m_fd_source, m_buffer, m_buffersize);
+		ssize_t bytes = m_source->read(m_fd_source, m_buffer, m_buffersize);
 		if (bytes < 0)
 		{
 			bytes = 0;
@@ -396,6 +388,17 @@
 	m_stop = 0;
 	run();
 }
+
+void eFilePushThreadRecorder::start(int fd, ePtr<eDVBDemux> &demux)
+{
+	eDecryptRawFile *f = new eDecryptRawFile();
+	m_source = f;
+	f->setfd(fd);
+	f->setDemux(demux);
+	m_fd_source = 0;
+	m_stop = 0;
+	run();
+}
 
 void eFilePushThreadRecorder::stop()
 {
diff -ruN o/lib/dvb/filepush.h pc/lib/dvb/filepush.h
--- o/lib/dvb/filepush.h	2020-08-01 17:47:17.152609994 +0300
+++ pc/lib/dvb/filepush.h	2020-11-01 12:15:22.877272545 +0300
@@ -69,6 +69,7 @@
 	void thread();
 	void stop();
 	void start(int sourcefd);
+	void start(int fd, ePtr<eDVBDemux> &demux);
 
 	enum { evtEOF, evtReadError, evtWriteError, evtUser, evtStopped };
 	sigc::signal1<void,int> m_event;
@@ -90,6 +91,7 @@
 private:
 	int m_stop;
 	eFixedMessagePump<int> m_messagepump;
+	ePtr<iTsSource> m_source;
 	void recvEvent(const int &evt);
 };
 
diff -ruN o/lib/dvb/frontend.cpp pc/lib/dvb/frontend.cpp
--- o/lib/dvb/frontend.cpp	2020-10-28 15:03:25.031998614 +0300
+++ pc/lib/dvb/frontend.cpp	2020-11-01 12:15:22.879272582 +0300
@@ -562,6 +562,7 @@
 	,m_state(stateClosed), m_timeout(0), m_tuneTimer(0)
 {
 	m_filename = devicenodename;
+	sscanf(devicenodename, "/dev/dvb/adapter%d", &m_dvbid);
 
 	m_timeout = eTimer::create(eApp);
 	CONNECT(m_timeout->timeout, eDVBFrontend::timeout);
@@ -1581,12 +1582,12 @@
 		return 0;
 	int power=m_slotid;  // this is needed for read inputpower from the correct tuner !
 	char proc_name[64];
-	sprintf(proc_name, "/proc/stb/frontend/%d/lnb_sense", m_slotid);
+	sprintf(proc_name, "/usr/local/e2/etc/stb/frontend/%d/lnb_sense", m_slotid);
 
 	if (CFile::parseInt(&power, proc_name) == 0)
 		return power;
 
-	sprintf(proc_name, "/proc/stb/fp/lnb_sense%d", m_slotid);
+	sprintf(proc_name, "/usr/local/e2/etc/stb/fp/lnb_sense%d", m_slotid);
 	if (CFile::parseInt(&power, proc_name) == 0)
 		return power;
 
@@ -1973,7 +1974,7 @@
 				if (!m_simulate)
 				{
 					char proc_name[64];
-					sprintf(proc_name, "/proc/stb/frontend/%d/static_current_limiting", sec_fe->m_dvbid);
+					sprintf(proc_name, "/usr/local/e2/etc/stb/frontend/%d/static_current_limiting", sec_fe->m_dvbid);
 					CFile f(proc_name, "w");
 					if (f) // new interface exist?
 					{
diff -ruN o/lib/dvb/idvb.h pc/lib/dvb/idvb.h
--- o/lib/dvb/idvb.h	2020-08-24 13:46:09.552546357 +0300
+++ pc/lib/dvb/idvb.h	2020-11-01 12:15:22.880272600 +0300
@@ -703,11 +703,11 @@
 public:
 	enum { pidDisabled = -1 };
 		/** Set Displayed Video PID and type */
-	virtual RESULT setVideoPID(int vpid, int type)=0;
+	virtual RESULT setVideoPID(int vpid, int type, int streamtype)=0;
 
 	enum { af_MPEG, af_AC3, af_DTS, af_AAC, af_DTSHD };
 		/** Set Displayed Audio PID and type */
-	virtual RESULT setAudioPID(int apid, int type)=0;
+	virtual RESULT setAudioPID(int apid, int type, bool mode)=0;
 
 	enum { ac_left, ac_stereo, ac_right };
 		/** Set Displayed Audio Channel */
diff -ruN o/lib/dvb/Makefile.inc pc/lib/dvb/Makefile.inc
--- o/lib/dvb/Makefile.inc	2020-08-01 17:47:17.148610133 +0300
+++ pc/lib/dvb/Makefile.inc	2020-11-01 12:15:22.880272600 +0300
@@ -33,7 +33,9 @@
 	dvb/pmtparse.cpp \
 	dvb/encoder.cpp \
 	dvb/fbc.cpp \
-	dvb/atsc.cpp
+	dvb/atsc.cpp \
+	dvb/ca_connector.cpp \
+	dvb/decsa.cpp
 
 dvbincludedir = $(pkgincludedir)/lib/dvb
 dvbinclude_HEADERS = \
@@ -75,4 +77,7 @@
 	dvb/pmtparse.h \
 	dvb/encoder.h \
 	dvb/fbc.h \
-	dvb/atsc.h
+	dvb/atsc.h \
+	dvb/edvbdemux.h \
+	dvb/ca_connector.h \
+	dvb/decsa.h
diff -ruN o/lib/dvb/pmtparse.cpp pc/lib/dvb/pmtparse.cpp
--- o/lib/dvb/pmtparse.cpp	2020-08-01 17:47:17.153609960 +0300
+++ pc/lib/dvb/pmtparse.cpp	2020-11-01 12:15:22.881272619 +0300
@@ -99,6 +99,7 @@
 				video.type = videoStream::vtMPEG2;
 				audio.type = audioStream::atMPEG;
 				audio.rdsPid = -1;
+				video.orig_streamtype= streamtype;
 
 				switch (streamtype)
 				{
diff -ruN o/lib/dvb/pmtparse.h pc/lib/dvb/pmtparse.h
--- o/lib/dvb/pmtparse.h	2020-08-01 17:47:17.153609960 +0300
+++ pc/lib/dvb/pmtparse.h	2020-11-01 12:15:22.882272637 +0300
@@ -26,6 +26,7 @@
 		int component_tag;
 		enum { vtMPEG2, vtMPEG4_H264, vtVC1 = 3, vtMPEG4_Part2, vtVC1_SM, vtMPEG1, vtH265_HEVC, vtCAVS = 16 };
 		int type;
+		int orig_streamtype;
 	};
 
 	struct audioStream
diff -ruN o/lib/dvb/pvrparse.cpp pc/lib/dvb/pvrparse.cpp
--- o/lib/dvb/pvrparse.cpp	2020-08-01 17:47:17.153609960 +0300
+++ pc/lib/dvb/pvrparse.cpp	2020-11-01 12:15:22.882272637 +0300
@@ -7,6 +7,7 @@
 #include <fcntl.h>
 #include <byteswap.h>
 #include <sys/mman.h>
+#include <lib/gdi/xineLib.h>
 
 #ifndef BYTE_ORDER
 #	error no byte order defined!
@@ -843,6 +844,9 @@
 	m_last_pts(0),
 	m_packetsize(packetsize),
 	m_header_offset(packetsize - 188),
+	m_broken_count(0),
+	m_broken(false),
+	m_last_time(1072224000),
 	m_enable_accesspoints(true),
 	m_pts_found(false),
 	m_has_accesspoints(false)
@@ -913,7 +917,36 @@
 			//	eDebugNoNewLine(" %02X", pkt[i]);
 			//}
 			//eDebugNoNewLine("\n");
+			time_t m_current_time;
+			double m_diff_time;
 
+			if (m_broken_count == 0)
+			{
+				time(&m_last_time);
+			}
+			else
+			{
+				time(&m_current_time);
+				m_diff_time=difftime(m_current_time,m_last_time);
+
+				if (m_diff_time>30)  // when diff more 2 min counter broken stream is now zero out
+				{
+					m_broken_count=0;
+					eWarning("Broken stream counter is now ZERO out");
+				}
+				time(&m_last_time);
+			}
+
+			if (!m_broken)
+			{
+				m_broken_count++;
+				if (m_broken_count>25)
+				{
+					m_broken=true;
+				}
+			}
+
+			eWarning("broken startcode -- %d", m_broken_count);
 			return 0;
 		}
 
@@ -1048,6 +1081,16 @@
 			}
 		}
 	}
+
+	if (m_broken && m_pts_found)
+	{
+		cXineLib *xineLib = cXineLib::getInstance();
+		xineLib->playVideo();
+		printf("Renew play stream playVideo() \n");
+		m_broken_count=0;
+		m_broken=false;
+	}
+
 	return 0;
 }
 
diff -ruN o/lib/dvb/pvrparse.h pc/lib/dvb/pvrparse.h
--- o/lib/dvb/pvrparse.h	2020-08-01 17:47:17.153609960 +0300
+++ pc/lib/dvb/pvrparse.h	2020-11-01 12:15:22.884272674 +0300
@@ -136,6 +136,9 @@
 	pts_t m_first_pts;
 	int m_packetsize;
 	int m_header_offset;
+	int m_broken_count; /* count broken starting  */
+	bool m_broken; /* when broken starting = true */
+	time_t m_last_time; /* last time when stream is broken*/
 	timespec m_last_access_point; /* timespec at which the previous access point was reported */
 	bool m_enable_accesspoints; /* set to false to prevent saving .ap files (e.g. timeshift) */
 	bool m_pts_found; /* 'real' mpeg pts has been found, no longer measuring streamtime */
diff -ruN o/lib/dvb/volume.cpp pc/lib/dvb/volume.cpp
--- o/lib/dvb/volume.cpp	2020-08-01 17:47:17.155609891 +0300
+++ pc/lib/dvb/volume.cpp	2020-11-01 12:15:22.884272674 +0300
@@ -5,16 +5,15 @@
 #include <fcntl.h>
 #include <sys/ioctl.h>
 #include <unistd.h>
+#include <lib/gdi/xineLib.h>
 
 #include <linux/dvb/version.h>
 #if DVB_API_VERSION < 3
-#define VIDEO_DEV "/dev/dvb/card0/video0"
-#define AUDIO_DEV "/dev/dvb/card0/audio0"
+#define AUDIO_DEV "/dev/snd/controlC0"
 #include <ost/audio.h>
 #include <ost/video.h>
 #else
-#define VIDEO_DEV "/dev/dvb/adapter0/video0"
-#define AUDIO_DEV "/dev/dvb/adapter0/audio0"
+#define AUDIO_DEV "/dev/snd/controlC0"
 #include <linux/dvb/audio.h>
 #include <linux/dvb/video.h>
 #endif
@@ -138,8 +137,10 @@
 void eDVBVolumecontrol::setVolume(int left, int right)
 {
 		/* left, right is 0..100 */
+	cXineLib *xineLib = cXineLib::getInstance();
 	leftVol = checkVolume(left);
 	rightVol = checkVolume(right);
+	xineLib->setVolume(leftVol);
 
 #ifdef HAVE_ALSA
 	eDebug("[eDVBVolumecontrol] Setvolume: ALSA leftVol=%d", leftVol);
@@ -161,11 +162,6 @@
 	int fd = openMixer();
 	if (fd >= 0)
 	{
-#ifdef DVB_API_VERSION
-		if (ioctl(fd, AUDIO_SET_MIXER, &mixer) < 0) {
-			eDebug("[eDVBVolumecontrol] Setvolume failed: %m");
-		}
-#endif
 		closeMixer(fd);
 		return;
 	}
@@ -174,7 +170,7 @@
 	}
 
 	//HACK?
-	CFile::writeInt("/proc/stb/avs/0/volume", left); /* in -1dB */
+	CFile::writeInt("/usr/local/e2/etc/stb/avs/0/volume", left); /* in -1dB */
 #endif
 }
 
@@ -208,8 +204,10 @@
 	muted = true;
 
 	//HACK?
-	CFile::writeInt("/proc/stb/audio/j1_mute", 1);
+	CFile::writeInt("/usr/local/e2/etc/stb/audio/j1_mute", 1);
 #endif
+	cXineLib *xineLib = cXineLib::getInstance();
+	xineLib->setVolumeMute(1);
 }
 
 void eDVBVolumecontrol::volumeUnMute()
@@ -231,8 +229,10 @@
 	muted = false;
 
 	//HACK?
-	CFile::writeInt("/proc/stb/audio/j1_mute", 0);
+	CFile::writeInt("/usr/local/e2/etc/stb/audio/j1_mute", 0);
 #endif
+	cXineLib *xineLib = cXineLib::getInstance();
+	xineLib->setVolumeMute(0);
 }
 
 void eDVBVolumecontrol::volumeToggleMute()
diff -ruN o/lib/dvb_ci/dvbci.cpp pc/lib/dvb_ci/dvbci.cpp
--- o/lib/dvb_ci/dvbci.cpp	2020-08-01 17:47:17.155609891 +0300
+++ pc/lib/dvb_ci/dvbci.cpp	2020-11-01 12:15:22.905273061 +0300
@@ -183,7 +183,7 @@
 	{
 		path.str("");
 		path.clear();
-		path << "/proc/stb/tsmux/input" << tuner_no << "_choices";
+		path << "/usr/local/e2/etc/stb/tsmux/input" << tuner_no << "_choices";
 
 		if(::access(path.str().c_str(), R_OK) < 0)
 			break;
@@ -195,7 +195,7 @@
 
 	if (num_ci)
 	{
-		static const char *proc_ci_choices = "/proc/stb/tsmux/ci0_input_choices";
+		static const char *proc_ci_choices = "/usr/local/e2/etc/stb/tsmux/ci0_input_choices";
 
 		if (CFile::contains_word(proc_ci_choices, "PVR"))	// lowest prio = PVR
 			m_stream_interface = interface_use_pvr;
@@ -856,7 +856,7 @@
 	if (tuner_no >= 0)
 	{
 		char buf[64];
-		snprintf(buf, sizeof(buf), "/proc/stb/tsmux/input%d", tuner_no);
+		snprintf(buf, sizeof(buf), "/usr/local/e2/etc/stb/tsmux/input%d", tuner_no);
 
 		if (CFile::write(buf, source.c_str()) == -1)
 		{
@@ -1411,7 +1411,7 @@
 {
 	char buf[64];
 	current_source = source;
-	snprintf(buf, sizeof(buf), "/proc/stb/tsmux/ci%d_input", slotid);
+	snprintf(buf, sizeof(buf), "/usr/local/e2/etc/stb/tsmux/ci%d_input", slotid);
 
 	if(CFile::write(buf, source.c_str()) == -1)
 	{
@@ -1426,7 +1426,7 @@
 int eDVBCISlot::setClockRate(int rate)
 {
 	char buf[64];
-	snprintf(buf, sizeof(buf), "/proc/stb/tsmux/ci%d_tsclk", slotid);
+	snprintf(buf, sizeof(buf), "/usr/local/e2/etc/stb/tsmux/ci%d_tsclk", slotid);
 	if(CFile::write(buf, rate ? "high" : "normal") == -1)
 		return -1;
 	return 0;
diff -ruN o/lib/gdi/fblcd.cpp pc/lib/gdi/fblcd.cpp
--- o/lib/gdi/fblcd.cpp	2020-08-01 17:47:17.156609856 +0300
+++ pc/lib/gdi/fblcd.cpp	2020-11-01 12:15:22.920273337 +0300
@@ -275,11 +275,11 @@
 int eFbLCD::setLCDBrightness(int brightness)
 {
 	eDebug("[eFbLCD] setLCDBrightness %d", brightness);
-	FILE *f = fopen("/proc/stb/lcd/oled_brightness", "w");
+	FILE *f = fopen("/usr/local/e2/etc/stb/lcd/oled_brightness", "w");
 	if (f)
 	{
 		if (fprintf(f, "%d", brightness) == 0)
-			eDebug("[eFbLCD] write /proc/stb/lcd/oled_brightness failed: %m");
+			eDebug("[eFbLCD] write /usr/local/e2/etc/stb/lcd/oled_brightness failed: %m");
 		fclose(f);
 	}
 	return 0;
diff -ruN o/lib/gdi/gpixmap.cpp pc/lib/gdi/gpixmap.cpp
--- o/lib/gdi/gpixmap.cpp	2020-08-01 17:47:17.157609821 +0300
+++ pc/lib/gdi/gpixmap.cpp	2020-11-01 12:15:22.933273577 +0300
@@ -203,12 +203,6 @@
 gSurface::gSurface(int width, int height, int _bpp, int accel):
 	gUnmanagedSurface(width, height, _bpp)
 {
-	if ((accel > gPixmap::accelAuto) ||
-		((accel == gPixmap::accelAuto) && (is_a_candidate_for_accel(this))))
-	{
-		if (gAccel::getInstance()->accelAlloc(this) != 0)
-				eDebug("[gSurface] ERROR: accelAlloc failed");
-	}
 	if (!data)
 	{
 		data = new unsigned char [y * stride];
diff -ruN o/lib/gdi/gxlibdc.cpp pc/lib/gdi/gxlibdc.cpp
--- o/lib/gdi/gxlibdc.cpp	1970-01-01 03:00:00.000000000 +0300
+++ pc/lib/gdi/gxlibdc.cpp	2020-11-01 12:15:22.933273577 +0300
@@ -0,0 +1,388 @@
+#include <fstream>
+#include <lib/gdi/gxlibdc.h>
+#include <lib/actions/action.h>
+#include <lib/base/init.h>
+#include <lib/base/init_num.h>
+#include <lib/base/eenv.h>
+#include <lib/driver/input_fake.h>
+#include <lib/driver/rcxlib.h>
+
+gXlibDC *gXlibDC::instance;
+Display *gXlibDC::display;
+Window  gXlibDC::window;
+int     gXlibDC::width, gXlibDC::height;
+double  gXlibDC::pixel_aspect;
+int     gXlibDC::xpos, gXlibDC::ypos;
+
+static const std::string getConfigString(const std::string &key, const std::string &defaultValue)
+{
+	std::string value = defaultValue;
+
+	// get value from enigma2 settings file
+	std::ifstream in(eEnv::resolve("${sysconfdir}/enigma2/settings").c_str());
+	if (in.good()) {
+		do {
+			std::string line;
+			std::getline(in, line);
+			size_t size = key.size();
+			if (!line.compare(0, size, key) && line[size] == '=') {
+				value = line.substr(size + 1);
+				break;
+			}
+		} while (in.good());
+		in.close();
+	}
+
+	return value;
+}
+
+static bool getConfigBool(const std::string &key, bool defaultValue) {
+	std::string value = getConfigString(key, defaultValue ? "true" : "false");
+	const char *cvalue = value.c_str();
+
+	if (!strcasecmp(cvalue, "true"))
+		return true;
+	if (!strcasecmp(cvalue, "false"))
+		return false;
+
+	return defaultValue;
+}
+
+static int getConfigInt(const std::string &key) {
+	std::string value = getConfigString(key, "0");
+		return atoi(value.c_str());
+}
+
+gXlibDC::gXlibDC() : m_pump(eApp, 1) {
+	double res_h, res_v;
+
+	umask(0);
+	mknod("/tmp/ENIGMA_FIFO", S_IFIFO|0666, 0);
+
+	CONNECT(m_pump.recv_msg, gXlibDC::pumpEvent);
+
+	argb_buffer = NULL;
+	fullscreen = getConfigBool("config.pc.default_fullscreen", false);
+	initialWindowWidth  = getConfigInt("config.pc.initial_window_width");
+	initialWindowHeight = getConfigInt("config.pc.initial_window_height");
+	windowWidth  = 720;
+	windowHeight = 576;
+	xpos = 0;
+	ypos = 0;
+
+	ASSERT(instance == 0);
+	instance = this;
+
+	if(!XInitThreads()) {
+		eFatal("XInitThreads() failed\n");
+		return;
+	}
+
+	if((display = XOpenDisplay(getenv("DISPLAY"))) == NULL) {
+		eFatal("XOpenDisplay() failed.\n");
+		return;
+	}
+
+	screen = XDefaultScreen(display);
+
+	if (fullscreen) {
+		width  = DisplayWidth( display, screen );
+		height = DisplayHeight( display, screen );
+	} else {
+		width  = windowWidth;
+		height = windowHeight;
+	}
+
+	XLockDisplay(display);
+	if (initialWindowWidth && initialWindowHeight)
+		window = XCreateSimpleWindow(display, XDefaultRootWindow(display), xpos, ypos, initialWindowWidth, initialWindowHeight, 0, 0, 0);
+	else
+		window = XCreateSimpleWindow(display, XDefaultRootWindow(display), xpos, ypos, windowWidth, windowHeight, 0, 0, 0);
+	XSelectInput (display, window, INPUT_MOTION);
+	XMapRaised(display, window);
+	res_h = (DisplayWidth(display, screen) * 1000 / DisplayWidthMM(display, screen));
+	res_v = (DisplayHeight(display, screen) * 1000 / DisplayHeightMM(display, screen));
+	XSync(display, False);
+	XUnlockDisplay(display);
+
+	wmDelete=XInternAtom(display, "WM_DELETE_WINDOW", True);
+	XSetWMProtocols(display, window, &wmDelete, 1);
+
+	printf("Display resolution %d %d\n", DisplayWidth(display, screen), DisplayHeight(display, screen));
+
+	vis.display         = display;
+	vis.screen          = screen;
+	vis.d               = window;
+	vis.dest_size_cb    = dest_size_cb;
+	vis.frame_output_cb = frame_output_cb;
+	vis.user_data       = NULL;
+	pixel_aspect        = res_v / res_h;
+
+	if(fabs(pixel_aspect - 1.0) < 0.01)
+		pixel_aspect = 1.0;
+
+	xineLib = new cXineLib(&vis);
+
+	setResolution(windowWidth, windowHeight); // default res
+
+	if (fullscreen) {
+		fullscreen=false;
+		fullscreen_switch();
+	}
+
+	run();
+
+	/*m_surface.type = 0;
+	m_surface.clut.colors = 256;
+	m_surface.clut.data = new gRGB[m_surface.clut.colors];
+
+	m_pixmap = new gPixmap(&m_surface);
+
+	memset(m_surface.clut.data, 0, sizeof(*m_surface.clut.data)*m_surface.clut.colors);*/
+}
+
+gXlibDC::~gXlibDC() {
+	instance = 0;
+
+	thread_stop = true;
+	kill();
+
+	if (xineLib) {
+		delete xineLib;
+		xineLib = NULL;
+	}
+
+	XLockDisplay(display);
+	XUnmapWindow(display, window);
+	XDestroyWindow(display, window);
+	XUnlockDisplay(display);
+
+	XCloseDisplay (display);
+}
+
+void gXlibDC::keyEvent(const XKeyEvent &event) {
+	eXlibInputDriver *driver = eXlibInputDriver::getInstance();
+	xineLib->getVideoFrameRate();
+	eDebug("SDL Key %s: key=%d", (event.type == KeyPress) ? "Down" : "Up", event.keycode);
+
+	if (driver)
+		driver->keyPressed(event);
+}
+
+void gXlibDC::pumpEvent(const XKeyEvent &event) {
+	switch (event.type) {
+	case KeyPress:
+	case KeyRelease:
+		switch (event.keycode) {
+		case 95: // F11
+			if (event.type==KeyPress) {
+				fullscreen_switch();
+			}
+			break;
+		case 53: // X
+			if (event.type==KeyPress) {
+				eDebug("Enigma2 Quit");
+				extern void quitMainloop(int exit_code);
+				quitMainloop(0);
+			}
+			break;
+		default:
+			keyEvent(event);
+			break;
+		}
+		break;
+	}
+}
+
+/*void gSDLDC::pushEvent(enum event code, void *data1, void *data2) {
+	SDL_Event event;
+
+	event.type = SDL_USEREVENT;
+	event.user.code = code;
+	event.user.data1 = data1;
+	event.user.data2 = data2;
+
+	SDL_PushEvent(&event);
+}*/
+
+void gXlibDC::exec(const gOpcode *o) {
+	switch (o->opcode) {
+	case gOpcode::flush:
+		eDebug("FLUSH");
+		xineLib->showOsd();
+		break;
+	default:
+		gDC::exec(o);
+		break;
+	}
+}
+
+void gXlibDC::setResolution(int xres, int yres, int bpp) {
+	printf("setResolution %d %d\n", xres, yres);
+	windowWidth  = xres;
+	windowHeight = yres;
+
+	if (!fullscreen) {
+		width = xres;
+		height = yres;
+	}
+
+	if (argb_buffer)
+		delete [] argb_buffer;
+	argb_buffer = new uint32_t[windowWidth*windowHeight];
+	memset(argb_buffer, 0, windowWidth * windowHeight * sizeof(uint32_t));
+
+	xineLib->newOsd(windowWidth, windowHeight, argb_buffer);
+
+//	m_surface.type = 0;
+	m_surface.x = windowWidth;
+	m_surface.y = windowHeight;
+	m_surface.bpp = 32;
+	m_surface.bypp = 4;
+	m_surface.stride = windowWidth*4;
+	m_surface.data = argb_buffer;
+//	m_surface.offset = 0;
+
+	m_pixmap = new gPixmap(&m_surface);
+
+	if (initialWindowWidth == 0 || initialWindowHeight == 0)
+		XResizeWindow(display, window, windowWidth, windowHeight);
+	updateWindowState();
+}
+
+void gXlibDC::updateWindowState() {
+	if (fullscreen)	{
+		width  = DisplayWidth( display, screen );
+		height = DisplayHeight( display, screen );
+	}
+	else if (initialWindowWidth && initialWindowHeight) {
+		width  = initialWindowWidth;
+		height = initialWindowHeight;
+	}
+	else {
+		width  = windowWidth;
+		height = windowHeight;
+	}
+
+	XFlush(display);
+	xineLib->updateWindowSize(width, height);
+	xineLib->showOsd();
+}
+
+void gXlibDC::fullscreen_switch() {
+	printf("FULLSCREEN EVENT\n");
+	fullscreen ^= 1;
+
+	XEvent xev;
+	XLockDisplay(display);
+	Atom wm_state = XInternAtom(display, "_NET_WM_STATE", False);
+	Atom fullscreenAtom = XInternAtom(display, "_NET_WM_STATE_FULLSCREEN", False);
+	XUnlockDisplay(display);
+	memset(&xev, 0, sizeof(xev));
+	xev.type = ClientMessage;
+	xev.xclient.window = window;
+	xev.xclient.message_type = wm_state;
+	xev.xclient.format = 32;
+	xev.xclient.data.l[0] = fullscreen ? _NET_WM_STATE_ADD : _NET_WM_STATE_REMOVE;
+	xev.xclient.data.l[1] = fullscreenAtom;
+	xev.xclient.data.l[2] = 0;
+	XSendEvent(display, XDefaultRootWindow(display), False, SubstructureNotifyMask, &xev);
+
+	updateWindowState();
+}
+
+void gXlibDC::evFlip() {
+	//SDL_Flip(m_screen);
+}
+
+void gXlibDC::thread() {
+	hasStarted();
+
+	int x11_fd = ConnectionNumber(display);
+	thread_stop = false;
+	fd_set in_fds;
+	struct timeval tv;
+	XEvent event;
+
+	while (!thread_stop) {
+		FD_ZERO(&in_fds);
+		FD_SET(x11_fd, &in_fds);
+
+		tv.tv_usec = 100000;
+		tv.tv_sec = 0;
+
+		if (select(x11_fd+1, &in_fds, 0, 0, &tv)) {
+			/*printf("Event Received!\n");*/
+		}
+
+		while(XPending(display)) {
+			XNextEvent(display, &event);
+			printf("XNextEvent %d\n", event.type);
+			switch(event.type) {
+			case KeyPress:
+			case KeyRelease: {
+					XKeyEvent& xKeyEvent = (XKeyEvent&)event;
+					m_pump.send(xKeyEvent);
+				}
+				break;
+			case ClientMessage:
+				if (event.xclient.data.l[0] == wmDelete) {
+					thread_stop = true;
+					XKeyEvent xKeyEvent;
+					xKeyEvent.type = KeyPress;
+					xKeyEvent.keycode = 53; // X
+					m_pump.send(xKeyEvent);
+				}
+				break;
+			case Expose:
+				if(event.xexpose.count != 0)
+					break;
+			xineLib->showOsd();
+			break;
+			case ConfigureNotify: {
+				XConfigureEvent& cne = (XConfigureEvent&)event;
+				Window tmp_win;
+
+				if((cne.x == 0) && (cne.y == 0)) {
+					XLockDisplay(display);
+					XTranslateCoordinates(display, cne.window, DefaultRootWindow(cne.display), 0, 0, &xpos, &ypos, &tmp_win);
+					XUnlockDisplay(display);
+				}
+				else {
+					xpos = cne.x;
+					ypos = cne.y;
+				}
+				if (!fullscreen) {
+					if (cne.width != windowWidth || cne.height != windowHeight) {
+						windowWidth  = cne.width;
+						windowHeight = cne.height;
+						updateWindowState();
+					}
+				}
+			}
+			break;
+			}
+		}
+	}
+}
+
+void gXlibDC::frame_output_cb(void *data, int video_width, int video_height, double video_pixel_aspect,
+	int *dest_x, int *dest_y, int *dest_width, int *dest_height, double *dest_pixel_aspect,
+	int *win_x, int *win_y) {
+		*dest_x            = 0;
+		*dest_y            = 0;
+		*win_x             = xpos;
+		*win_y             = ypos;
+		*dest_width        = gXlibDC::width;
+		*dest_height       = gXlibDC::height;
+		*dest_pixel_aspect = gXlibDC::pixel_aspect;
+	}
+
+void gXlibDC::dest_size_cb(void *data, int video_width, int video_height, double video_pixel_aspect,
+	int *dest_width, int *dest_height, double *dest_pixel_aspect) {
+		*dest_width        = gXlibDC::width;
+		*dest_height       = gXlibDC::height;
+		*dest_pixel_aspect = gXlibDC::pixel_aspect;
+	}
+
+eAutoInitPtr<gXlibDC> init_gXlibDC(eAutoInitNumbers::graphic-1, "gXlibDC");
diff -ruN o/lib/gdi/gxlibdc.h pc/lib/gdi/gxlibdc.h
--- o/lib/gdi/gxlibdc.h	1970-01-01 03:00:00.000000000 +0300
+++ pc/lib/gdi/gxlibdc.h	2020-11-01 12:15:22.933273577 +0300
@@ -0,0 +1,80 @@
+#ifndef __lib_gdi_gxlibdc_h
+#define __lib_gdi_gxlibdc_h
+
+#include <lib/base/thread.h>
+#include <lib/gdi/gmaindc.h>
+#include <lib/dvb/idvb.h>
+
+#include <X11/X.h>
+#include <X11/Xlib.h>
+#include <X11/Xatom.h>
+
+#include <lib/gdi/xineLib.h>
+
+#define INPUT_MOTION (ExposureMask | KeyPressMask | KeyReleaseMask | StructureNotifyMask)
+
+enum
+{
+	_NET_WM_STATE_REMOVE =0,
+	_NET_WM_STATE_ADD = 1,
+	_NET_WM_STATE_TOGGLE =2
+};
+
+class gXlibDC: public gMainDC, public eThread, public sigc::trackable
+{
+private:
+	static gXlibDC       *instance;
+
+	int                  screen;
+	x11_visual_t         vis;
+	int                  fullscreen;
+	int                  windowWidth, windowHeight;
+	int                  initialWindowWidth, initialWindowHeight;
+	cXineLib            *xineLib;
+	gSurface             m_surface;
+	uint32_t            *argb_buffer;
+	bool                 thread_stop;
+
+	Atom                 wmDelete;
+
+	void exec(const gOpcode *opcode);
+
+	eFixedMessagePump<XKeyEvent> m_pump;
+	void keyEvent(const XKeyEvent &event);
+	void pumpEvent(const XKeyEvent &event);
+	virtual void thread();
+
+	enum event {
+		EV_SET_VIDEO_MODE,
+		EV_FLIP,
+		EV_QUIT
+	};
+
+	//void pushEvent(enum event code, void *data1 = 0, void *data2 = 0);
+	void evFlip();
+	void fullscreen_switch();
+	void updateWindowState();
+
+public:
+	static int            width, height;
+	static double         pixel_aspect;
+	static Display       *display;
+	static Window         window;
+	static int            xpos, ypos;
+
+	gXlibDC();
+	virtual ~gXlibDC();
+
+	static gXlibDC *getInstance() { return instance; }
+	void setResolution(int xres, int yres, int bpp = 32);
+	int islocked() { return 0; }
+
+	static void frame_output_cb(void *data, int video_width, int video_height, double video_pixel_aspect,
+			int *dest_x, int *dest_y, int *dest_width, int *dest_height, double *dest_pixel_aspect,
+			int *win_x, int *win_y);
+	static void dest_size_cb(void *data, int video_width, int video_height, double video_pixel_aspect,
+			 int *dest_width, int *dest_height, double *dest_pixel_aspect);
+
+};
+
+#endif
diff -ruN o/lib/gdi/lcd.cpp pc/lib/gdi/lcd.cpp
--- o/lib/gdi/lcd.cpp	2020-08-01 17:47:17.157609821 +0300
+++ pc/lib/gdi/lcd.cpp	2020-11-01 12:15:22.936273632 +0300
@@ -82,8 +82,8 @@
 	lcdfd = open("/dev/dbox/oled0", O_RDWR);
 	if (lcdfd < 0)
 	{
-		if (!access("/proc/stb/lcd/oled_brightness", W_OK) ||
-		    !access("/proc/stb/fp/oled_brightness", W_OK) )
+		if (!access("/usr/local/e2/etc/stb/lcd/oled_brightness", W_OK) ||
+		    !access("/usr/local/e2/etc/stb/fp/oled_brightness", W_OK) )
 			lcd_type = 2;
 		lcdfd = open("/dev/dbox/lcd0", O_RDWR);
 	}
@@ -104,20 +104,20 @@
 
 		int i = LCD_MODE_BIN;
 		ioctl(lcdfd, LCD_IOCTL_ASC_MODE, &i);
-		FILE *f = fopen("/proc/stb/lcd/xres", "r");
+		FILE *f = fopen("/usr/local/e2/etc/stb/lcd/xres", "r");
 		if (f)
 		{
 			int tmp;
 			if (fscanf(f, "%x", &tmp) == 1)
 				xres = tmp;
 			fclose(f);
-			f = fopen("/proc/stb/lcd/yres", "r");
+			f = fopen("/usr/local/e2/etc/stb/lcd/yres", "r");
 			if (f)
 			{
 				if (fscanf(f, "%x", &tmp) == 1)
 					yres = tmp;
 				fclose(f);
-				f = fopen("/proc/stb/lcd/bpp", "r");
+				f = fopen("/usr/local/e2/etc/stb/lcd/bpp", "r");
 				if (f)
 				{
 					if (fscanf(f, "%x", &tmp) == 1)
@@ -180,13 +180,13 @@
 		return(0);
 
 	eDebug("[eDboxLCD] setLCDBrightness %d", brightness);
-	FILE *f = fopen("/proc/stb/lcd/oled_brightness", "w");
+	FILE *f = fopen("/usr/local/e2/etc/stb/lcd/oled_brightness", "w");
 	if (!f)
-		f = fopen("/proc/stb/fp/oled_brightness", "w");
+		f = fopen("/usr/local/e2/etc/stb/fp/oled_brightness", "w");
 	if (f)
 	{
 		if (fprintf(f, "%d", brightness) == 0)
-			eDebug("[eDboxLCD] write /proc/stb/lcd|fp/oled_brightness failed: %m");
+			eDebug("[eDboxLCD] write /usr/local/e2/etc/stb/lcd|fp/oled_brightness failed: %m");
 		fclose(f);
 	}
 	else
diff -ruN o/lib/gdi/Makefile.inc pc/lib/gdi/Makefile.inc
--- o/lib/gdi/Makefile.inc	2020-08-01 17:47:17.156609856 +0300
+++ pc/lib/gdi/Makefile.inc	2020-11-01 12:15:22.937273650 +0300
@@ -44,8 +44,17 @@
 	gdi/pixmapcache.h \
 	gdi/region.h
 
-if HAVE_LIBSDL
+if HAVE_XLIB
 gdi_libenigma_gdi_a_SOURCES += \
+	gdi/gxlibdc.cpp \
+	gdi/gxlibdc.h \
+	gdi/xineLib.cpp \
+	gdi/xineLib.h \
+	gdi/post.cpp \
+	gdi/post.h
+else
+if HAVE_LIBSDL
+	gdi_libenigma_gdi_a_SOURCES += \
 	gdi/sdl.cpp \
 	gdi/sdl.h
 else
@@ -53,3 +62,4 @@
 	gdi/gfbdc.cpp \
 	gdi/gfbdc.h
 endif
+endif
diff -ruN o/lib/gdi/picload.cpp pc/lib/gdi/picload.cpp
--- o/lib/gdi/picload.cpp	2020-08-01 17:47:17.158609787 +0300
+++ pc/lib/gdi/picload.cpp	2020-11-01 12:15:22.943273761 +0300
@@ -700,8 +700,6 @@
 
 void ePicLoad::decodePic()
 {
-	eDebug("[ePicLoad] decode picture... %s", m_filepara->file);
-
 	getExif(m_filepara->file, m_filepara->id);
 	switch(m_filepara->id)
 	{
@@ -1359,7 +1357,6 @@
 {
 	long asp1, asp2;
 	result = 0;
-	eDebug("[loadPic] deprecated loadPic function used!!! please use the non blocking version! you can see demo code in Pictureplayer plugin... this function is removed in the near future!");
 	ePicLoad mPL;
 
 	switch(aspect)
diff -ruN o/lib/gdi/post.cpp pc/lib/gdi/post.cpp
--- o/lib/gdi/post.cpp	1970-01-01 03:00:00.000000000 +0300
+++ pc/lib/gdi/post.cpp	2020-11-01 12:15:22.943273761 +0300
@@ -0,0 +1,903 @@
+/*
+ * Copyright (C) 2003 by Dirk Meyer
+ *
+ * This file is part of xine, a unix video player.
+ *
+ * xine is free software; you can redistribute it and/or modify
+ * it under the terms of the GNU General Public License as published by
+ * the Free Software Foundation; either version 2 of the License, or
+ * (at your option) any later version.
+ *
+ * xine is distributed in the hope that it will be useful,
+ * but WITHOUT ANY WARRANTY; without even the implied warranty of
+ * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
+ * GNU General Public License for more details.
+ *
+ * You should have received a copy of the GNU General Public License
+ * along with this program; if not, write to the Free Software
+ * Foundation, Inc., 59 Temple Place - Suite 330, Boston, MA  02111-1307, USA
+ *
+ * The code is taken from xine-ui/src/xitk/post.c at changed to work with fbxine
+ *
+ * Modified for VDR xineliboutput plugin by Petri Hintukainen, 2006
+ *   - runtime re-configuration (load/unload, enable/disable)
+ *   - support for multiple streams
+ *   - support for mosaico post plugin (picture-in-picture)
+ *
+ */
+
+#include <stdio.h>
+#include <stdlib.h>
+#include <string.h>
+
+#include "post.h"
+
+#include <sys/types.h>
+#include <sys/syscall.h>
+#include <unistd.h>
+#include <errno.h>
+#include <syslog.h>
+
+#define LOG_MODULENAME "[xine-post] "
+//#include "../logdefs.h"
+
+#define fe_t post_plugins_t
+
+typedef struct {
+  xine_post_t                 *post;
+  xine_post_api_t             *api;
+  xine_post_api_descr_t       *descr;
+  xine_post_api_parameter_t   *param;
+  char                        *param_data;
+
+  int                          x;
+  int                          y;
+
+  int                          readonly;
+
+  char                       **properties_names;
+} post_object_t;
+
+
+static int __pplugin_retrieve_parameters(post_object_t *pobj)
+{
+  xine_post_in_t             *input_api;
+
+  if((input_api = (xine_post_in_t *) xine_post_input(pobj->post,
+                                                     "parameters"))) {
+    xine_post_api_t            *post_api;
+    xine_post_api_descr_t      *api_descr;
+    xine_post_api_parameter_t  *parm;
+    int                         pnum = 0;
+
+    post_api = (xine_post_api_t *) input_api->data;
+
+    api_descr = post_api->get_param_descr();
+
+    parm = api_descr->parameter;
+    pobj->param_data = (char*)malloc(api_descr->struct_size);
+
+    while(parm->type != POST_PARAM_TYPE_LAST) {
+
+      post_api->get_parameters(pobj->post, pobj->param_data);
+
+      if(!pnum)
+        pobj->properties_names = (char **) calloc(2, sizeof(char *));
+      else
+        pobj->properties_names = (char **)
+          realloc(pobj->properties_names, sizeof(char *) * (pnum + 2));
+
+      pobj->properties_names[pnum]     = strdup(parm->name);
+      pobj->properties_names[pnum + 1] = NULL;
+      pnum++;
+      parm++;
+    }
+
+    pobj->api      = post_api;
+    pobj->descr    = api_descr;
+    pobj->param    = api_descr->parameter;
+
+    return 1;
+  }
+
+  return 0;
+}
+
+static void _pplugin_update_parameter(post_object_t *pobj)
+{
+  pobj->api->set_parameters(pobj->post, pobj->param_data);
+  pobj->api->get_parameters(pobj->post, pobj->param_data);
+}
+
+static void __pplugin_update_parameters(xine_post_t *post, char *args)
+{
+  char *p;
+  post_object_t pobj = {
+    post = post,
+  };
+
+  if(__pplugin_retrieve_parameters(&pobj)) {
+    int   i;
+
+    if(pobj.properties_names && args && *args) {
+      char *param;
+
+      while((param = xine_strsep(&args, ",")) != NULL) {
+
+        p = param;
+
+        while((*p != '\0') && (*p != '='))
+          p++;
+
+        if(p && strlen(p)) {
+          int param_num = 0;
+
+          *p++ = '\0';
+
+          while(pobj.properties_names[param_num]
+                && strcasecmp(pobj.properties_names[param_num], param))
+            param_num++;
+
+          if(pobj.properties_names[param_num]) {
+
+            pobj.param    = pobj.descr->parameter;
+            pobj.param    += param_num;
+            pobj.readonly = pobj.param->readonly;
+
+            switch(pobj.param->type) {
+            case POST_PARAM_TYPE_INT:
+              if(!pobj.readonly) {
+                if(pobj.param->enum_values) {
+                  char **values = pobj.param->enum_values;
+                  int    i = 0;
+
+                  while(values[i]) {
+                    if(!strcasecmp(values[i], p)) {
+                      *(int *)(pobj.param_data + pobj.param->offset) = i;
+                      break;
+                    }
+                    i++;
+                  }
+
+                  if( !values[i] )
+                    *(int *)(pobj.param_data + pobj.param->offset) = (int) strtol(p, &p, 10);
+                } else {
+                  *(int *)(pobj.param_data + pobj.param->offset) = (int) strtol(p, &p, 10);
+                }
+                _pplugin_update_parameter(&pobj);
+              }
+              break;
+
+            case POST_PARAM_TYPE_DOUBLE:
+              if(!pobj.readonly) {
+                *(double *)(pobj.param_data + pobj.param->offset) = strtod(p, &p);
+                _pplugin_update_parameter(&pobj);
+              }
+              break;
+
+            case POST_PARAM_TYPE_CHAR:
+            case POST_PARAM_TYPE_STRING:
+              if(!pobj.readonly) {
+                if(pobj.param->type == POST_PARAM_TYPE_CHAR) {
+                  int maxlen = pobj.param->size / sizeof(char);
+
+                  snprintf((char *)(pobj.param_data + pobj.param->offset), maxlen, "%s", p);
+                  _pplugin_update_parameter(&pobj);
+                }
+                else
+                  fprintf(stderr, "parameter type POST_PARAM_TYPE_STRING not supported yet.\n");
+              }
+              break;
+
+            case POST_PARAM_TYPE_STRINGLIST: /* unsupported */
+              if(!pobj.readonly)
+                fprintf(stderr, "parameter type POST_PARAM_TYPE_STRINGLIST not supported yet.\n");
+              break;
+
+            case POST_PARAM_TYPE_BOOL:
+              if(!pobj.readonly) {
+                *(int *)(pobj.param_data + pobj.param->offset) = ((int) strtol(p, &p, 10)) ? 1 : 0;
+                _pplugin_update_parameter(&pobj);
+              }
+              break;
+            case POST_PARAM_TYPE_LAST:
+              break; /* terminator of parameter list */
+            default:
+              printf("%s(%d): Unknown post parameter type %d!\n", __FUNCTION__, __LINE__, pobj.param->type);
+            }
+          } else {
+            printf("Unknown post plugin parameter %s !\n", param);
+          }
+        }
+      }
+
+      i = 0;
+
+      while(pobj.properties_names[i]) {
+        free(pobj.properties_names[i]);
+        i++;
+      }
+
+      free(pobj.properties_names);
+    }
+
+    free(pobj.param_data);
+  }
+}
+
+/* -post <name>:option1=value1,option2=value2... */
+static post_element_t **pplugin_parse_and_load(fe_t *fe,
+                                               int plugin_type,
+                                               const char *pchain,
+                                               int *post_elements_num)
+{
+  post_element_t **post_elements = NULL;
+
+  *post_elements_num = 0;
+
+  if(pchain && strlen(pchain)) {
+    char *post_chain, *freeme, *p;
+
+    freeme = post_chain = strdup(pchain);
+
+    while((p = xine_strsep(&post_chain, ";"))) {
+
+      if(p && strlen(p)) {
+        char          *plugin, *args = NULL;
+        xine_post_t   *post;
+
+        while(*p == ' ')
+          p++;
+
+        plugin = strdup(p);
+
+        if((p = strchr(plugin, ':')))
+          *p++ = '\0';
+
+        if(p && (strlen(p) > 1))
+          args = p;
+#if 0
+        post = xine_post_init(fe->xine, plugin, 0,
+                              &fe->audio_port, &fe->video_port);
+#else
+        if(plugin_type == XINE_POST_TYPE_VIDEO_COMPOSE) {
+          post = xine_post_init(fe->xine, plugin, 2,
+                                &fe->audio_port, &fe->video_port);
+        } else
+          post = xine_post_init(fe->xine, plugin, 0,
+                                &fe->audio_port, &fe->video_port);
+#endif
+
+        if (post && plugin_type) {
+          if (post->type != plugin_type) {
+            xine_post_dispose(fe->xine, post);
+            post = NULL;
+          }
+        }
+
+        if(post) {
+
+          if(!(*post_elements_num))
+            post_elements = (post_element_t **) calloc(2, sizeof(post_element_t *));
+          else
+            post_elements = (post_element_t **)
+              realloc(post_elements, sizeof(post_element_t *) * ((*post_elements_num) + 2));
+
+          post_elements[(*post_elements_num)] = (post_element_t *) calloc(1, sizeof(post_element_t));
+          post_elements[(*post_elements_num)]->post = post;
+          post_elements[(*post_elements_num)]->name = strdup(plugin);
+#if 1
+          post_elements[(*post_elements_num)]->args = args ? strdup(args) : NULL;
+          post_elements[(*post_elements_num)]->enable = 0;
+#endif
+          (*post_elements_num)++;
+          post_elements[(*post_elements_num)] = NULL;
+
+          __pplugin_update_parameters(post, args);
+        }
+
+        free(plugin);
+      }
+    }
+    free(freeme);
+  }
+
+  return post_elements;
+}
+
+void pplugin_parse_and_store_post(fe_t *fe, int plugin_type,
+                                  const char *post_chain)
+{
+  post_element_t ***_post_elements;
+  int *_post_elements_num;
+  post_element_t **posts = NULL;
+  int              num;
+
+  switch(plugin_type) {
+    case XINE_POST_TYPE_VIDEO_FILTER:
+      _post_elements = &fe->post_video_elements;
+      _post_elements_num = &fe->post_video_elements_num;
+      break;
+    case XINE_POST_TYPE_VIDEO_COMPOSE:
+      _post_elements = &fe->post_pip_elements;
+      _post_elements_num = &fe->post_pip_elements_num;
+      break;
+    case XINE_POST_TYPE_AUDIO_VISUALIZATION:
+      _post_elements = &fe->post_vis_elements;
+      _post_elements_num = &fe->post_vis_elements_num;
+      break;
+    default:
+      _post_elements = &fe->post_audio_elements;
+      _post_elements_num = &fe->post_audio_elements_num;
+      break;
+  }
+
+  if((posts = pplugin_parse_and_load(fe, plugin_type, post_chain, &num))) {
+    if(*_post_elements_num) {
+      int i;
+      int ptot = *_post_elements_num + num;
+
+      *_post_elements = (post_element_t **) realloc(*_post_elements,
+                                                    sizeof(post_element_t *) * (ptot + 1));
+      for(i = *_post_elements_num; i <  ptot; i++)
+        (*_post_elements)[i] = posts[i - *_post_elements_num];
+
+      (*_post_elements)[i] = NULL;
+      (*_post_elements_num) += num;
+    }
+    else {
+      *_post_elements     = posts;
+      *_post_elements_num = num;
+    }
+#if 1
+//    if(SysLogLevel > 2) {
+      /* dump list of all loaded plugins */
+      int ptot = *_post_elements_num;
+      int i;
+      char s[4096]="";
+      for(i=0; i<ptot; i++)
+        if((*_post_elements)[i])
+          if(((*_post_elements)[i])->post) {
+            if(((*_post_elements)[i])->enable)
+              strcat(s, "*");
+            if(((*_post_elements)[i])->name)
+              strcat(s, ((*_post_elements)[i])->name);
+            else
+              strcat(s, "<no name!>");
+            strcat(s, " ");
+            }
+      printf("    loaded plugins (type %d.%d): %s\n",
+              (plugin_type>>16), (plugin_type&0xffff), s);
+//    }
+#endif
+  }
+}
+
+
+void vpplugin_parse_and_store_post(fe_t *fe, const char *post_chain)
+{
+  pplugin_parse_and_store_post(fe, XINE_POST_TYPE_VIDEO_FILTER, post_chain);
+  pplugin_parse_and_store_post(fe, XINE_POST_TYPE_VIDEO_COMPOSE, post_chain);
+}
+
+
+void applugin_parse_and_store_post(fe_t *fe, const char *post_chain)
+{
+  pplugin_parse_and_store_post(fe, XINE_POST_TYPE_AUDIO_FILTER, post_chain);
+  pplugin_parse_and_store_post(fe, XINE_POST_TYPE_AUDIO_VISUALIZATION, post_chain);
+}
+
+
+static void _vpplugin_unwire(fe_t *fe)
+{
+  xine_post_out_t  *vo_source;
+  vo_source = xine_get_video_source(fe->video_source);
+  (void) xine_post_wire_video_port(vo_source, fe->video_port);
+}
+
+
+static void _applugin_unwire(fe_t *fe)
+{
+  xine_post_out_t  *ao_source;
+  ao_source = xine_get_audio_source(fe->audio_source);
+  (void) xine_post_wire_audio_port(ao_source, fe->audio_port);
+}
+
+
+static void _vpplugin_rewire_from_post_elements(fe_t *fe, post_element_t **post_elements, int post_elements_num)
+{
+  if(post_elements_num) {
+    xine_post_out_t   *vo_source;
+    int                i = 0;
+
+    for(i = (post_elements_num - 1); i >= 0; i--) {
+      const char *const *outs = xine_post_list_outputs(post_elements[i]->post);
+      const xine_post_out_t *vo_out = xine_post_output(post_elements[i]->post, (char *) *outs);
+      if(i == (post_elements_num - 1)) {
+        printf("        wiring %10s[out] -> [in]video_out\n", post_elements[i]->name);
+        xine_post_wire_video_port((xine_post_out_t *) vo_out, fe->video_port);
+      }
+      else {
+        const xine_post_in_t *vo_in;
+        int                   err;
+
+        /* look for standard input names */
+        vo_in = xine_post_input(post_elements[i + 1]->post, "video");
+        if( !vo_in )
+          vo_in = xine_post_input(post_elements[i + 1]->post, "video in");
+
+        printf("        wiring %10s[out] -> [in]%-10s \n",
+               post_elements[i]->name, post_elements[i+1]->name);
+        err = xine_post_wire((xine_post_out_t *) vo_out,
+                             (xine_post_in_t *) vo_in);
+      }
+    }
+
+    if(fe->post_pip_enable &&
+       !strcmp(post_elements[0]->name, "mosaico") &&
+       fe->pip_stream) {
+      vo_source = xine_get_video_source(fe->pip_stream);
+      printf("        wiring %10s[out] -> [in1]%-10s ", "pip stream\n", post_elements[0]->name);
+      xine_post_wire_video_port(vo_source,
+                                post_elements[0]->post->video_input[1]);
+    }
+
+    vo_source = xine_get_video_source(fe->video_source);
+    printf("        wiring %10s[out] -> [in]%-10s", "stream\n", post_elements[0]->name);
+    xine_post_wire_video_port(vo_source,
+                              post_elements[0]->post->video_input[0]);
+  }
+}
+
+
+static void _applugin_rewire_from_post_elements(fe_t *fe, post_element_t **post_elements, int post_elements_num)
+{
+  if(post_elements_num) {
+    xine_post_out_t   *ao_source;
+    int                i = 0;
+
+    for(i = (post_elements_num - 1); i >= 0; i--) {
+      const char *const *outs = xine_post_list_outputs(post_elements[i]->post);
+      const xine_post_out_t *ao_out = xine_post_output(post_elements[i]->post, (char *) *outs);
+
+      if(i == (post_elements_num - 1)) {
+        printf("        wiring %10s[out] -> [in]audio_out\n", post_elements[i]->name);
+        xine_post_wire_audio_port((xine_post_out_t *) ao_out, fe->audio_port);
+      }
+      else {
+        const xine_post_in_t *ao_in;
+        int                   err;
+
+        /* look for standard input names */
+        ao_in = xine_post_input(post_elements[i + 1]->post, "audio");
+        if( !ao_in )
+          ao_in = xine_post_input(post_elements[i + 1]->post, "audio in");
+
+        printf("        wiring %10s[out] -> [in]%-10s \n",
+               post_elements[i]->name, post_elements[i+1]->name);
+        err = xine_post_wire((xine_post_out_t *) ao_out, (xine_post_in_t *) ao_in);
+      }
+    }
+
+    ao_source = xine_get_audio_source(fe->audio_source);
+    printf("        wiring %10s[out] -> [in]%-10s", "stream", post_elements[0]->name);
+    xine_post_wire_audio_port(ao_source, post_elements[0]->post->audio_input[0]);
+  }
+}
+
+static post_element_t **_pplugin_join_deinterlace_and_post_elements(fe_t *fe, int *post_elements_num)
+{
+  post_element_t **post_elements;
+  int i = 0, j = 0, n = 0, p = 0;
+  static const char *order[] = {"autocrop", "thread", "tvtime", "swscale", NULL};
+
+  *post_elements_num = 0;
+  if( fe->post_video_enable )
+    *post_elements_num += fe->post_video_elements_num;
+
+  if( fe->post_pip_enable )
+    *post_elements_num += fe->post_pip_elements_num;
+
+  if( *post_elements_num == 0 )
+    return NULL;
+
+  post_elements = (post_element_t**) calloc( (*post_elements_num), sizeof(post_element_t *));
+
+  if(fe->post_pip_enable)
+    for( i = 0; i < fe->post_pip_elements_num; i++ ) {
+      if(fe->post_pip_elements[i]->enable)
+        post_elements[i+j-n] = fe->post_pip_elements[i];
+      else
+        n++;
+    }
+
+  if(fe->post_video_enable)
+    for( j = 0; j < fe->post_video_elements_num; j++ ) {
+      if(fe->post_video_elements[j]->enable) {
+        post_elements[i+j-n] = fe->post_video_elements[j];
+      } else
+        n++;
+    }
+
+  *post_elements_num -= n;
+  if( *post_elements_num == 0 ) {
+    free(post_elements);
+    return NULL;
+  }
+
+  /* in some special cases order is important. By default plugin order
+   * in post plugin chain is post plugin loading order.
+   * But, we want:
+   *
+   *   1. autocrop       - less data to process for other plugins
+   *                     - accepts only YV12
+   *   2. deinterlace    - blur etc. makes deinterlacing difficult.
+   *                     - upscales chroma (YV12->YUY2) in some modes.
+   *   3. anything else
+   *
+   * So let's move those two to beginning ...
+   */
+  n = 0;
+  while(order[p]) {
+    for(i = 0; i<*post_elements_num; i++)
+      if(!strcmp(post_elements[i]->name, order[p])) {
+        if(i != n) {
+          post_element_t *tmp = post_elements[i];
+          for(j=i; j>n; j--)
+            post_elements[j] = post_elements[j-1];
+          post_elements[n] = tmp;
+          printf("      moved %s to post slot %d\n", order[p], n);
+        }
+        n++;
+        break;
+      }
+    p++;
+  }
+
+  return post_elements;
+}
+
+static post_element_t **_pplugin_join_visualization_and_post_elements(fe_t *fe, int *post_elements_num)
+{
+  post_element_t **post_elements;
+  int i = 0, j = 0, n = 0;
+
+  *post_elements_num = 0;
+  if( fe->post_audio_enable )
+    *post_elements_num += fe->post_audio_elements_num;
+
+  if( fe->post_vis_enable )
+    *post_elements_num += fe->post_vis_elements_num;
+
+  if( *post_elements_num == 0 )
+    return NULL;
+
+  post_elements = (post_element_t**) calloc( (*post_elements_num), sizeof(post_element_t *));
+
+  if(fe->post_audio_enable)
+    for( j = 0; j < fe->post_audio_elements_num; j++ ) {
+      if(fe->post_audio_elements[j]->enable)
+        post_elements[i+j-n] = fe->post_audio_elements[j];
+      else
+        n++;
+    }
+
+  if(fe->post_vis_enable)
+    for( i = 0; i < fe->post_vis_elements_num; i++ ) {
+      if(fe->post_vis_elements[i]->enable)
+        post_elements[i+j-n] = fe->post_vis_elements[i];
+      else
+        n++;
+    }
+
+  *post_elements_num -= n;
+  if( *post_elements_num == 0 ) {
+    free(post_elements);
+    return NULL;
+  }
+
+  return post_elements;
+}
+
+static void _vpplugin_rewire(fe_t *fe)
+{
+  static post_element_t **post_elements;
+  int post_elements_num;
+
+  post_elements = _pplugin_join_deinterlace_and_post_elements(fe, &post_elements_num);
+
+  if( post_elements ) {
+    _vpplugin_rewire_from_post_elements(fe, post_elements, post_elements_num);
+
+    free(post_elements);
+  }
+}
+
+static void _applugin_rewire(fe_t *fe)
+{
+  static post_element_t **post_elements;
+  int post_elements_num;
+
+  post_elements = _pplugin_join_visualization_and_post_elements(fe, &post_elements_num);
+
+  if( post_elements ) {
+    _applugin_rewire_from_post_elements(fe, post_elements, post_elements_num);
+
+    free(post_elements);
+  }
+}
+
+void vpplugin_rewire_posts(fe_t *fe)
+{
+  /*TRACELINE;*/
+  _vpplugin_unwire(fe);
+  _vpplugin_rewire(fe);
+}
+
+void applugin_rewire_posts(fe_t *fe)
+{
+  /*TRACELINE;*/
+  _applugin_unwire(fe);
+  _applugin_rewire(fe);
+}
+
+static int _pplugin_enable_post(post_plugins_t *fe, const char *name,
+                                const char *args,
+                                post_element_t **post_elements,
+                                int post_elements_num,
+                                int *found)
+{
+  int i, result = 0;
+
+  for(i=0; i<post_elements_num; i++)
+    if(post_elements[i])
+      if(!strcmp(post_elements[i]->name, name)) {
+        if(post_elements[i]->enable == 0) {
+          post_elements[i]->enable = 1;
+          result = 1;
+        }
+
+        *found = 1;
+
+        if(args && *args) {
+          if(post_elements[i]->enable != 2) {
+            char *tmp = strdup(args);
+            __pplugin_update_parameters(post_elements[i]->post, tmp);
+            free(tmp);
+            if(post_elements[i]->args)
+              free(post_elements[i]->args);
+            post_elements[i]->args = strdup(args);
+          } else {
+            printf("  * enable post %s, parameters fixed in command line.\n", name);
+            printf("      requested: %s\n", args ? : "none");
+            printf("      using    : %s\n", post_elements[i]->args ? : "none");
+                       printf(" * enable post \n");
+          }
+        }
+      }
+
+  return result;
+}
+
+static int _vpplugin_enable_post(post_plugins_t *fe, const char *name,
+                                 const char *args, int *found)
+{
+  int result = 0;
+  if(!*found)
+    result = _pplugin_enable_post(fe, name, args, fe->post_video_elements,
+                                  fe->post_video_elements_num, found);
+  if(!*found)
+    result = _pplugin_enable_post(fe, name, args, fe->post_pip_elements,
+                                  fe->post_pip_elements_num, found);
+  return result;
+}
+
+static int _applugin_enable_post(post_plugins_t *fe, const char *name,
+                                 const char *args, int *found)
+{
+  int result = 0;
+  if(!*found)
+    result = _pplugin_enable_post(fe, name, args, fe->post_audio_elements,
+                                  fe->post_audio_elements_num, found);
+  if(!*found)
+    result = _pplugin_enable_post(fe, name, args, fe->post_vis_elements,
+                                  fe->post_vis_elements_num, found);
+  return result;
+}
+
+static char * _pp_name_strdup(const char *initstr)
+{
+  char *name = strdup(initstr), *pt;
+
+  if(NULL != (pt = strchr(name, ':')))
+    *pt = 0;
+
+  return name;
+}
+
+static const char * _pp_args(const char *initstr)
+{
+  char *pt = (char*)strchr(initstr, ':');
+  if(pt && *(pt+1))
+    return pt+1;
+  return NULL;
+}
+
+int vpplugin_enable_post(post_plugins_t *fe, const char *initstr,
+                         int *found)
+{
+  char *name = _pp_name_strdup(initstr);
+  const char *args = _pp_args(initstr);
+
+  int result = _vpplugin_enable_post(fe, name, args, found);
+
+  printf("  * enable post %s --> %s, %s\n", name,
+         *found ? "found"   : "not found",
+         result ? "enabled" : "no action");
+
+  if(!*found) {
+    printf("  * loading post %s\n", initstr);
+    vpplugin_parse_and_store_post(fe, initstr);
+    result = _vpplugin_enable_post(fe, name, NULL, found);
+
+    printf("  * enable post %s --> %s, %s\n", name,
+           *found ? "found"   : "not found",
+           result ? "enabled" : "no action");
+  }
+
+  if(result)
+    _vpplugin_unwire(fe);
+
+  free(name);
+  return result;
+}
+
+int applugin_enable_post(post_plugins_t *fe, const char *initstr,
+                         int *found)
+{
+  const char * args = _pp_args(initstr);
+  char *name = _pp_name_strdup(initstr);
+
+  int result = _applugin_enable_post(fe, name, args, found);
+
+  printf("  * enable post %s --> %s, %s\n", name,
+         *found ? "found"   : "not found",
+         result ? "enabled" : "no action");
+
+  if(!*found) {
+    printf("  * loading post %s\n", initstr);
+    applugin_parse_and_store_post(fe, initstr);
+    result = _applugin_enable_post(fe, name, NULL, found);
+    printf("  * enable post %s --> %s, %s\n", name,
+           *found ? "found"   : "not found",
+           result ? "enabled" : "no action");
+  }
+
+  if(result)
+    _applugin_unwire(fe);
+
+  free(name);
+  return result;
+}
+
+static int _pplugin_disable_post(post_plugins_t *fe, const char *name,
+                                 post_element_t **post_elements,
+                                 int post_elements_num)
+{
+  int i, result = 0;
+  /*TRACELINE;*/
+  if(post_elements)
+    for(i = 0; i < post_elements_num; i++)
+      if(post_elements[i])
+        if(!name || !strcmp(post_elements[i]->name, name))
+          if(post_elements[i]->enable == 1) {
+            post_elements[i]->enable = 0;
+            result = 1;
+          }
+  return result;
+}
+
+int vpplugin_disable_post(post_plugins_t *fe, const char *name)
+{
+  /*TRACELINE;*/
+  if(_pplugin_disable_post(fe, name, fe->post_video_elements,
+                           fe->post_video_elements_num) ||
+     _pplugin_disable_post(fe, name, fe->post_pip_elements,
+                           fe->post_pip_elements_num)) {
+    _vpplugin_unwire(fe);
+    return 1;
+  }
+  return 0;
+}
+
+int applugin_disable_post(post_plugins_t *fe, const char *name)
+{
+  /*TRACELINE;*/
+  if(_pplugin_disable_post(fe, name, fe->post_audio_elements,
+                           fe->post_audio_elements_num) ||
+     _pplugin_disable_post(fe, name, fe->post_vis_elements,
+                           fe->post_vis_elements_num)) {
+    _applugin_unwire(fe);
+    return 1;
+  }
+  return 0;
+}
+
+static int _pplugin_unload_post(post_plugins_t *fe, const char *name,
+                                post_element_t ***post_elements,
+                                int *post_elements_num)
+{
+  /* does not unwrire plugins ! */
+  int i, j, result = 0;
+  /*TRACELINE;*/
+
+  if(!*post_elements || !*post_elements_num)
+    return 0;
+
+  for(i=0; i < *post_elements_num; i++) {
+    if((*post_elements)[i]) {
+      if(!name || !strcmp((*post_elements)[i]->name, name)) {
+
+        if((*post_elements)[i]->enable == 0 || !name) {
+          xine_post_dispose(fe->xine, (*post_elements)[i]->post);
+
+          free((*post_elements)[i]->name);
+
+          if((*post_elements)[i]->args)
+            free((*post_elements)[i]->args);
+
+          free((*post_elements)[i]);
+
+          for(j=i; j < *post_elements_num - 1; j++)
+            (*post_elements)[j] = (*post_elements)[j+1];
+
+          (*post_elements_num) --;
+          (*post_elements)[(*post_elements_num)] = 0;
+
+          result = 1;
+          i--;
+
+        } else {
+          printf("Unload %s failed: plugin enabled and in use\n",
+                 (*post_elements)[i]->name);
+        }
+      }
+    }
+  }
+
+  if(*post_elements_num <= 0) {
+    if(*post_elements)
+      free(*post_elements);
+    *post_elements = NULL;
+  }
+
+  return result;
+}
+
+int vpplugin_unload_post(post_plugins_t *fe, const char *name)
+{
+  int result = vpplugin_disable_post(fe, name);
+
+  /* unload already disabled plugins too (result=0) */
+  _pplugin_unload_post(fe, name, &fe->post_video_elements,
+                       &fe->post_video_elements_num);
+  _pplugin_unload_post(fe, name, &fe->post_pip_elements,
+                       &fe->post_pip_elements_num);
+
+  /* result indicates only unwiring condition, not unload result */
+  return result;
+}
+
+int applugin_unload_post(post_plugins_t *fe, const char *name)
+{
+  int result = applugin_disable_post(fe, name);
+
+  /* unload already disabled plugins too (result=0) */
+  _pplugin_unload_post(fe, name, &fe->post_audio_elements,
+                       &fe->post_audio_elements_num);
+  _pplugin_unload_post(fe, name, &fe->post_vis_elements,
+                       &fe->post_vis_elements_num);
+
+  /* result indicates only unwiring condition, not unload result */
+  return result;
+}
diff -ruN o/lib/gdi/post.h pc/lib/gdi/post.h
--- o/lib/gdi/post.h	1970-01-01 03:00:00.000000000 +0300
+++ pc/lib/gdi/post.h	2020-11-01 12:15:22.943273761 +0300
@@ -0,0 +1,99 @@
+/*
+ * Copyright (C) 2003 by Dirk Meyer
+ *
+ * This file is part of xine, a unix video player.
+ *
+ * xine is free software; you can redistribute it and/or modify
+ * it under the terms of the GNU General Public License as published by
+ * the Free Software Foundation; either version 2 of the License, or
+ * (at your option) any later version.
+ *
+ * xine is distributed in the hope that it will be useful,
+ * but WITHOUT ANY WARRANTY; without even the implied warranty of
+ * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
+ * GNU General Public License for more details.
+ *
+ * You should have received a copy of the GNU General Public License
+ * along with this program; if not, write to the Free Software
+ * Foundation, Inc., 59 Temple Place - Suite 330, Boston, MA  02111-1307, USA
+ *
+ * Modified for xineliboutput by Petri Hintukainen, 2006
+ *
+ */
+
+#ifndef POST_HH
+#define POST_HH
+
+#include <xine.h>
+#include <xine/xine_internal.h>
+#include <xine/xineutils.h>
+#include <xine/plugin_catalog.h>
+
+typedef struct {
+  xine_post_t    *post;
+  char           *name;
+  char           *args;
+  int            enable; /* 0 - disabled, 1 - enabled, 2 - can't disable */
+} post_element_t;
+
+
+typedef struct post_plugins_s post_plugins_t;
+
+struct post_plugins_s {
+
+  /* frontend data */
+  char *static_post_plugins;   /* post plugins from command line; always on */
+  xine_stream_t *video_source; /* stream to take video from */
+  xine_stream_t *audio_source; /* stream to take audio from */
+  xine_stream_t *pip_stream;   /* pip stream */
+
+  /* xine */
+  xine_t            *xine;
+  xine_video_port_t *video_port;
+  xine_audio_port_t *audio_port;
+
+  /* post.c internal use */
+  int post_audio_elements_num;
+  int post_video_elements_num;
+  int post_vis_elements_num;
+  int post_pip_elements_num;
+
+  post_element_t **post_audio_elements;
+  post_element_t **post_video_elements;
+  post_element_t **post_vis_elements;   /* supports only one */
+  post_element_t **post_pip_elements;   /* supports only one and two input */
+
+  int post_audio_enable;
+  int post_video_enable;
+  int post_vis_enable;
+  int post_pip_enable;
+};
+
+
+void vpplugin_rewire_posts(post_plugins_t *fe);
+void applugin_rewire_posts(post_plugins_t *fe);
+
+/* load and config post plugin(s) */
+/* post == "plugin:arg1=val1,arg2=val2;plugin2..." */
+void vpplugin_parse_and_store_post(post_plugins_t *fe, const char *post);
+void applugin_parse_and_store_post(post_plugins_t *fe, const char *post);
+
+/* enable (and load if not loaded), but don't rewire */
+/* result indicates only unwiring condition, not enable result */
+/* -> if result <> 0, something was enabled and post chain is unwired */
+int  vpplugin_enable_post(post_plugins_t *fe, const char *name, int *found);
+int  applugin_enable_post(post_plugins_t *fe, const char *name, int *found);
+
+/* disable (and unwire if found), but don't unload */
+/* result indicates only unwiring condition, not disable result */
+int  vpplugin_disable_post(post_plugins_t *fe, const char *name);
+int  applugin_disable_post(post_plugins_t *fe, const char *name);
+
+/* unload (and unwire) plugin(s) */
+/* result indicates only unwiring condition, not unload result */
+int  vpplugin_unload_post(post_plugins_t *fe, const char *name);
+int  applugin_unload_post(post_plugins_t *fe, const char *name);
+
+#endif
+
+/* end of post.h */
diff -ruN o/lib/gdi/xineLib.cpp pc/lib/gdi/xineLib.cpp
--- o/lib/gdi/xineLib.cpp	1970-01-01 03:00:00.000000000 +0300
+++ pc/lib/gdi/xineLib.cpp	2020-11-01 12:15:22.943273761 +0300
@@ -0,0 +1,921 @@
+#include <fstream>
+#include <lib/gdi/xineLib.h>
+#include <lib/base/eenv.h>
+#include <sstream>
+#include <string>
+
+static const std::string getConfigString(const std::string &key, const std::string &defaultValue)
+{
+	std::string value = defaultValue;
+
+	/* get value from enigma2 settings file */
+	std::ifstream in(eEnv::resolve("${sysconfdir}/enigma2/settings").c_str());
+	if (in.good()) {
+		do {
+			std::string line;
+			std::getline(in, line);
+			size_t size = key.size();
+			if (!line.compare(0, size, key) && line[size] == '=') {
+				value = line.substr(size + 1);
+				break;
+			}
+		} while (in.good());
+		in.close();
+	}
+
+	return value;
+}
+
+static int getConfigInt(const std::string &key)
+{
+	std::string value = getConfigString(key, "0");
+		return atoi(value.c_str());
+}
+
+static void config_change_sound(xine_t *xine, int m_sound_card, int m_sound_device, int m_sound_output)
+{
+	std::ostringstream a_line;
+	a_line << "hw:" << m_sound_card << "," << m_sound_device;
+	std::string         s = a_line.str();
+	const char  *hw_audio = s.c_str();
+
+	printf("[cXineLib] Sound card:device - %s\n", hw_audio);
+
+	xine_config_register_string(xine,
+	"audio.device.alsa_default_device",
+	"default",
+	_("device used for mono output"),
+	_("xine will use this alsa device "
+	"to output mono sound.\n"
+	"See the alsa documentation "
+	"for information on alsa devices."),
+	10, NULL, NULL);
+
+	xine_config_register_string(xine,
+	"audio.device.alsa_front_device",
+	"plug:front:default",
+	_("device used for stereo output"),
+	_("xine will use this alsa device "
+	"to output stereo sound.\n"
+	"See the alsa documentation "
+	"for information on alsa devices."),
+	10, NULL, NULL);
+
+	xine_config_register_string(xine,
+	"audio.device.alsa_surround51_device",
+	"plug:surround51:0",
+	_("device used for 5.1-channel output"),
+	_("xine will use this alsa device to output "
+	"5 channel plus LFE (5.1) surround sound.\n"
+	"See the alsa documentation for information "
+	"on alsa devices."),
+	10,  NULL, NULL);
+
+	xine_config_register_string(xine,
+	"audio.device.alsa_passthrough_device",
+	"iec958:AES0=0x6,AES1=0x82,AES2=0x0,AES3=0x2",
+	_("device used for 5.1-channel output"),
+	_("xine will use this alsa device to output "
+	"undecoded digital surround sound. This can "
+	"be used be external surround decoders.\nSee the "
+	"alsa documentation for information on alsa "
+	"devices."),
+	10, NULL, NULL);
+
+	xine_config_register_string(xine,"audio.output.speaker_arrangement",
+	"Stereo 2.0",
+	_("speaker arrangement"),
+	_("Select how your speakers are arranged, "
+	"this determines which speakers xine uses for sound output. "
+	"The individual values are:\n\n"
+	"Mono 1.0: You have only one speaker.\n"
+	"Stereo 2.0: You have two speakers for left and right channel.\n"
+	"Headphones 2.0: You use headphones.\n"
+	"Stereo 2.1: You have two speakers for left and right channel, and one "
+	"subwoofer for the low frequencies.\n"
+	"Surround 3.0: You have three speakers for left, right and rear channel.\n"
+	"Surround 4.0: You have four speakers for front left and right and rear "
+	"left and right channels.\n"
+	"Surround 4.1: You have four speakers for front left and right and rear "
+	"left and right channels, and one subwoofer for the low frequencies.\n"
+	"Surround 5.0: You have five speakers for front left, center and right and "
+	"rear left and right channels.\n"
+	"Surround 5.1: You have five speakers for front left, center and right and "
+	"rear left and right channels, and one subwoofer for the low frequencies.\n"
+	"Surround 6.0: You have six speakers for front left, center and right and "
+	"rear left, center and right channels.\n"
+	"Surround 6.1: You have six speakers for front left, center and right and "
+	"rear left, center and right channels, and one subwoofer for the low frequencies.\n"
+	"Surround 7.1: You have seven speakers for front left, center and right, "
+	"left and right and rear left and right channels, and one subwoofer for the "
+	"low frequencies.\n"
+	"Pass Through: Your sound system will receive undecoded digital sound from xine. "
+	"You need to connect a digital surround decoder capable of decoding the "
+	"formats you want to play to your sound card's digital output."),
+	10, NULL, NULL);
+
+	xine->config->update_string(xine->config, "audio.device.alsa_default_device", hw_audio);
+	xine->config->update_string(xine->config, "audio.device.alsa_front_device", hw_audio);
+	xine->config->update_string(xine->config, "audio.device.alsa_passthrough_device", hw_audio);
+	xine->config->update_string(xine->config, "audio.device.alsa_surround51_device", hw_audio);
+
+	if (m_sound_output == 1)
+		xine->config->update_string(xine->config, "audio.output.speaker_arrangement", "Stereo 2.0");
+	else if (m_sound_output == 8)
+		xine->config->update_string(xine->config, "audio.output.speaker_arrangement", "Surround 5.1");
+	else if (m_sound_output == 11)
+		xine->config->update_string(xine->config, "audio.output.speaker_arrangement", "Surround 7.1");
+	else if (m_sound_output == 12)
+		xine->config->update_string(xine->config, "audio.output.speaker_arrangement", "Pass Through");
+}
+
+/* list available plugins */
+static void list_plugins_type(xine_t *xine, const char *msg, typeof (xine_list_audio_output_plugins) list_func) {
+	static xine_t *tmp_xine = NULL;
+	if(!xine) {
+		if(!tmp_xine)
+			xine_init(tmp_xine = xine_new());
+		xine = tmp_xine;
+	}
+	const char *const *list = list_func(xine);
+
+	printf("%s", msg);
+	while(list && *list)
+		printf(" %s", *list++);
+	printf("\n");
+}
+
+cXineLib *cXineLib::instance;
+
+DEFINE_REF(cXineLib);
+
+cXineLib::cXineLib(x11_visual_t *vis) : m_pump(eApp, 1) {
+	char configfile[300];
+	char *vo_driver;
+	char *ao_driver;
+	const char  *static_post_plugins = "enigma_video; enigma_audio; upmix_mono";
+
+	instance = this;
+	osd = NULL;
+	stream = NULL;
+	end_of_stream = false;
+	videoPlayed = false;
+	doDescramble = false;
+	post_plugins_t *posts = NULL;
+
+	printf("XINE-LIB version: %s\n", xine_get_version_string());
+
+	xine = xine_new();
+	strcpy(configfile, eEnv::resolve("${datadir}/enigma2/xine.conf").c_str());
+	printf("XINE-LIB configfile: %s\n", configfile);
+	xine_config_load(xine, configfile);
+	sound_mode = sound_card = sound_device = 0;
+	sound_output = 1;
+	sound_mode = getConfigInt("config.av.sound_mode");
+	if (sound_mode > 0)
+	{
+		sound_card   = getConfigInt("config.av.sound_card");
+		sound_device = getConfigInt("config.av.sound_device");
+		sound_output = getConfigInt("config.av.sound_output");
+		config_change_sound(xine, sound_card, sound_device, sound_output);
+	}
+	xine_init(xine);
+	xine_engine_set_param(xine, XINE_ENGINE_PARAM_VERBOSITY, XINE_VERBOSITY_LOG);
+	list_plugins_type(xine, "Available post plugins: ", xine_list_post_plugins); 
+
+	cfg_entry_t *entry;
+	config_values_t *cfg;
+	/* read Video Driver from config */
+	cfg = this->xine->config;
+	entry = cfg->lookup_entry(cfg, "video.driver");
+	vo_driver = strdup(entry->unknown_value);
+	/* read Audio Driver from config */
+	entry = cfg->lookup_entry(cfg, "audio.driver");
+	ao_driver = strdup(entry->unknown_value);
+	printf("[cXineLib] Use vo_driver: %s \n", vo_driver);
+	printf("[cXineLib] Use ao_driver: %s \n", ao_driver);
+
+	if((vo_port = xine_open_video_driver(xine, vo_driver , XINE_VISUAL_TYPE_X11, (void *) vis)) == NULL)
+	{
+		printf("[cXineLib] I'm unable to initialize '%s' video driver. Giving up.\n", vo_driver);
+		return;
+	}
+
+	ao_port     = xine_open_audio_driver(xine , ao_driver, NULL);
+	stream      = xine_stream_new(xine, ao_port, vo_port);
+
+	if ((!xine_open(stream, eEnv::resolve("${datarootdir}/enigma2/logo.mvi").c_str())) || (!xine_play(stream, 0, 0))) {
+		return;
+	}
+
+	event_queue = xine_event_new_queue (stream);
+	xine_event_create_listener_thread(event_queue, xine_event_handler, this);
+
+	posts = this->postplugins = (post_plugins_t*)calloc(1, sizeof(post_plugins_t));
+	posts->xine = this->xine;
+	posts->audio_port = this->ao_port;
+	posts->video_port = this->vo_port;
+	posts->video_source = posts->audio_source = this->stream;
+
+/*#if 0
+	LOGMSG("Enabling multithreaded post processing");
+	vpplugin_parse_and_store_post(posts, "thread");
+#endif*/
+
+	if(static_post_plugins && *static_post_plugins) {
+		int i;
+		printf("[cXineLib] Static post plugins (from command line): %s\n", static_post_plugins);
+		posts->static_post_plugins = strdup(static_post_plugins);
+		vpplugin_parse_and_store_post(posts, posts->static_post_plugins);
+		applugin_parse_and_store_post(posts, posts->static_post_plugins);
+
+		for(i=0; i<posts->post_audio_elements_num; i++)
+			if(posts->post_audio_elements[i])
+				posts->post_audio_elements[i]->enable = 2;
+
+		for(i=0; i<posts->post_video_elements_num; i++)
+			if(posts->post_video_elements[i])
+				posts->post_video_elements[i]->enable = 2;
+		posts->post_video_enable = 1;
+		posts->post_audio_enable = 1;
+		rewire_posts_load();
+	}
+
+	CONNECT(m_pump.recv_msg, cXineLib::pumpEvent);
+
+	m_width = 0;
+	m_height = 0;
+	m_framerate = 0;
+	m_aspect = -1;
+	m_windowAspectRatio = 0;
+	m_policy43 = 0;
+	m_policy169 = 0;
+	m_progressive = -1;
+
+	m_sharpness = 0;
+	m_noise = 0;
+
+	m_streamtype = -1;
+
+	m_hevc = getConfigInt("config.pc.prebuffer_metronom_hevc");
+	m_avc = getConfigInt("config.pc.prebuffer_metronom_avc");
+	m_mpeg2 = getConfigInt("config.pc.prebuffer_metronom_mpeg2");
+
+	/* DEFAULT */
+	if (m_hevc == 0)
+		m_hevc = 216000;
+	if (m_avc == 0)
+		m_avc = 162000;
+	if (m_mpeg2 == 0)
+		m_mpeg2 = 126000;
+}
+
+cXineLib::~cXineLib() {
+	instance = 0;
+
+	if (m_state == stRunning)
+		xine_stop(stream);
+
+	if (stream) {
+		if (this->postplugins)
+			rewire_posts_unload();
+
+		printf("[cXineLib] Close stream\n");
+		xine_close(stream);
+
+		printf("[cXineLib] Dispose queue\n");
+		if (event_queue)
+			xine_event_dispose_queue(event_queue);
+
+		printf("[cXineLib] Demux flush\n");
+		_x_demux_flush_engine(stream);
+
+		printf("[cXineLib] Dispose stream\n");
+		xine_dispose(stream);
+		stream = NULL;
+	}
+
+	printf("[cXineLib] Dispose ao_port\n");
+	if (ao_port)
+		xine_close_audio_driver(xine, ao_port);
+
+	printf("[cXineLib] Dispose vo port\n");
+	if (vo_port)
+		xine_close_video_driver(xine, vo_port);
+
+	printf("[cXineLib] Done.\n");
+}
+
+void cXineLib::rewire_posts_load() {
+	printf("[cXineLib] Enable re-wiring post plugins\n");
+	if (this->postplugins) {
+		vpplugin_rewire_posts(this->postplugins);
+		applugin_rewire_posts(this->postplugins);
+	}
+}
+
+void cXineLib::rewire_posts_unload() {
+	if (this->postplugins) {
+		printf("[cXineLib] Unloading post plugins\n");
+		vpplugin_unload_post(this->postplugins, NULL);
+		applugin_unload_post(this->postplugins, NULL);
+	}
+}
+
+void cXineLib::setVolume(int value) {
+//	xine_set_param (stream, XINE_PARAM_AUDIO_VOLUME, value);
+	xine_set_param (stream, XINE_PARAM_AUDIO_AMP_LEVEL, value);
+}
+
+void cXineLib::setVolumeMute(int value) {
+//	xine_set_param (stream, XINE_PARAM_AUDIO_MUTE, value==0?0:1);
+	xine_set_param(stream, XINE_PARAM_AUDIO_AMP_MUTE, value==0?0:1);
+}
+
+void cXineLib::showOsd() {
+	xine_osd_show_scaled(osd, 0);
+	//stream->osd_renderer->draw_bitmap(osd, (uint8_t*)m_surface.data, 0, 0, 720, 576, temp_bitmap_mapping);
+}
+
+void cXineLib::newOsd(int width, int height, uint32_t *argb_buffer) {
+	osdWidth  = width;
+	osdHeight = height;
+
+	if (osd)
+		xine_osd_free(osd);
+
+	osd = xine_osd_new(stream, 0, 0, osdWidth, osdHeight);
+	xine_osd_set_extent(osd, osdWidth, osdHeight);
+	xine_osd_set_argb_buffer(osd, argb_buffer, 0, 0, osdWidth, osdHeight);
+}
+
+void cXineLib::setScrambled(bool doDescrambleChannel) {
+	printf("[cXineLib] doDescrambled channel: %s\n", doDescrambleChannel ? "true" : "false");
+	doDescramble = doDescrambleChannel;
+}
+
+void cXineLib::playVideo(void) {
+	if (doDescramble) {
+		return;
+	}
+
+	if ( videoPlayed == true ) {
+		xine_stop(stream);
+	}
+
+	end_of_stream = false;
+	videoPlayed = false;
+
+	if (m_streamtype == 5)
+		setPrebuffer(m_hevc);
+	else if (m_streamtype == 4)
+		setPrebuffer(m_avc);
+	else if (m_streamtype == 2)
+		setPrebuffer(m_mpeg2);
+	else if (m_streamtype == 1) {
+		printf("[cXineLib] Switch to RADIO mode\n");
+		setPrebuffer(90000);
+		if ((!xine_open(stream, eEnv::resolve("${datarootdir}/enigma2/radio.mvi").c_str())) || (!xine_play(stream, 0, 0))) {
+			return;
+		}
+	}
+
+	printf("**************** [cXineLib] XINE TRY TO START\n");
+	if (!xine_open(stream, "enigma:/")) {
+		printf("**************** [cXineLib] UNABLE TO OPEN STREAM\n");
+	}
+
+	xine_pids_data_t data;
+	xine_event_t event;
+	event.type = XINE_EVENT_PIDS_CHANGE;
+	data.vpid = videoData.pid;
+	data.apid = audioData.pid;
+	event.data = &data;
+	event.data_length = sizeof (xine_pids_data_t);
+
+	printf ("Input_dvb: sending event\n");
+
+	xine_event_send (stream, &event);
+
+	xine_set_param(this->stream, XINE_PARAM_AUDIO_CHANNEL_LOGICAL, -1);
+	
+	/* From ChannelSelection.py */
+	setStreamType(1); /* audio */
+	setStreamType(0); /* video */
+
+	if(!xine_play(stream, 0, 0)) {
+		printf("**************** [cXineLib] UNABLE TO PLAY STREAM\n");
+	}
+	else {
+		printf("**************** [cXineLib] XINE STARTED\n");
+		printf("[cXineLib] STILL FIRST, CONTROL, SEEK FRAME\n");
+		videoPlayed = true;
+	}
+}
+
+/* Stop play video files only */
+void cXineLib::stopVideo(void) {
+	printf("[cXineLib] Xine: stop\n");
+	if (videoPlayed) {
+		xine_stop(stream);
+		end_of_stream = true;
+		videoPlayed = false;
+	}
+}
+
+void cXineLib::setStreamType(int video) {
+	xine_event_t event;
+
+	if (video == 1) {
+		event.type = XINE_EVENT_SET_VIDEO_STREAMTYPE;
+		event.data = &videoData;
+	} else {
+		event.type = XINE_EVENT_SET_AUDIO_STREAMTYPE;
+		event.data = &audioData;
+	}
+
+	event.data_length = sizeof (xine_streamtype_data_t);
+
+	xine_event_send (stream, &event);
+}
+
+void cXineLib::setVideoType(int pid, int type) {
+	videoData.pid = pid;
+	videoData.streamtype = type;
+
+	/* 0x24 (HEX) = 36 (DEC); 0x27 (HEX) = 39 (DEC) */
+	if ((type == 36) || (type == 39)) {
+		setLiveTV(5);
+		printf("[cXineLib] Switch to HEVC mode\n");
+	}
+
+	/* 0x1B (HEX) = 27 (DEC); 0x10 (HEX) = 16 (DEC) */
+	if ((type == 27) || (type == 16)) {
+		setLiveTV(4);
+		printf("[cXineLib] Switch to AVC/MP4-P2 mode\n");
+	}
+
+	/* 0x02 (HEX) = 2 (DEC) */
+	if (type == 2) {
+		setLiveTV(2);
+		printf("[cXineLib] Switch to MPEG2 mode\n");
+	}
+
+	if ((!xine_open(stream, eEnv::resolve("${datarootdir}/enigma2/black.mvi").c_str())) || (!xine_play(stream, 0, 0))) {
+		return;
+	}
+}
+
+void cXineLib::FilmVideo(char *mrl) {
+	ASSERT(stream);
+
+	if (!xine_open(stream, mrl)) {
+		printf("[cXineLib] XINE_OPEN FAILED\n");
+		return ;
+	}
+
+/* SET_PVR_MODE, call event set 'demux_ts' to read PAT, PMT files *.ts, *.m2ts */
+	int data;
+	xine_event_t event;
+	event.type = XINE_EVENT_SET_PVR_MODE;
+	data = 1;
+	event.data = &data;
+	event.data_length = sizeof (int);
+	xine_event_send (stream, &event);
+
+	if (!xine_play(stream, 0, 0)) {
+		printf("[cXineLib] XINE_PLAY FAILED\n");
+		return ;
+	}
+
+/*	if (event_queue==0)
+	{
+		event_queue = xine_event_new_queue (stream);
+		xine_event_create_listener_thread(event_queue, xine_event_handler, this);
+	}*/
+
+	xine_set_param(this->stream, XINE_PARAM_AUDIO_CHANNEL_LOGICAL, 0);
+	videoPlayed = true;
+}
+
+int cXineLib::VideoPause() {
+/*	_x_set_speed (stream, XINE_SPEED_PAUSE);
+	stream->xine->clock->set_option (stream->xine->clock, CLOCK_SCR_ADJUSTABLE, 0);*/
+	xine_set_param(stream, XINE_PARAM_SPEED, XINE_SPEED_PAUSE);
+	return 1;
+}
+
+int cXineLib::VideoResume() {
+	xine_set_param(stream, XINE_PARAM_SPEED, XINE_SPEED_NORMAL);
+/*	_x_set_speed (stream, XINE_SPEED_NORMAL);
+	stream->xine->clock->set_option (stream->xine->clock, CLOCK_SCR_ADJUSTABLE, 1);*/
+	return 1;
+}
+
+int cXineLib::VideoRewT(pts_t Rew) {
+	/* 10 seconds rewind */
+	pts_t reWind;
+	xine_set_param(stream, XINE_PARAM_SPEED, XINE_SPEED_PAUSE);
+	VideoPosition();
+	reWind=Vpos+Rew;
+	printf("[cXineLib] %lld---Vpos=%d---Rew=%lld", reWind, Vpos, Rew);
+	if (reWind < 0) reWind = 0;
+		xine_play(stream, 0, reWind);
+	xine_set_param(stream, XINE_PARAM_SPEED, XINE_SPEED_NORMAL);
+	return 1;
+}
+
+int cXineLib::VideoPlayF() {
+	int ret;
+	/* Slow playback */
+	ret = xine_get_param(stream, XINE_PARAM_SPEED);
+	if( ret != XINE_EVENT_INPUT_RIGHT) {
+		xine_set_param(stream, XINE_PARAM_SPEED, XINE_EVENT_INPUT_RIGHT);
+	}
+	return 1;
+}
+
+int cXineLib::VideoPosition() {
+	xine_get_pos_length (stream, &VposStream, &Vpos, &Vlength);
+	return 1;
+}
+
+/*XINE_SPEED_SLOW_4
+XINE_SPEED_SLOW_2
+XINE_SPEED_NORMAL
+XINE_SPEED_FAST_2
+XINE_SPEED_FAST_4
+XINE_FINE_SPEED_NORMAL*/
+
+void cXineLib::SeekTo(long long value) {
+	xine_play(stream, 0, value);
+}
+
+void cXineLib::setAudioType(int pid, int type) {
+	audioData.pid = pid;
+	audioData.streamtype = type;
+
+	if (videoPlayed)
+		setStreamType(0);
+
+	/* 0x04 (HEX) = 4 (DEC) */
+	if (type == 4) {
+		setLiveTV(1); /* mpeg2 radio mode */
+	}
+}
+
+int cXineLib::getNumberOfTracksAudio() {
+	int ret = xine_get_stream_info(this->stream, XINE_STREAM_INFO_MAX_AUDIO_CHANNEL);
+	return ret;
+}
+
+void cXineLib::selectAudioStream(int value) {
+	xine_set_param(this->stream, XINE_PARAM_AUDIO_CHANNEL_LOGICAL, value);
+}
+
+int cXineLib::getCurrentTrackAudio() {
+	if (getNumberOfTracksAudio()) {
+		int ret=xine_get_param(this->stream, XINE_PARAM_AUDIO_CHANNEL_LOGICAL);
+		return ret;
+	}
+	return 0;
+}
+
+std::string cXineLib::getAudioLang(int value) {
+	char lang_buffer[XINE_LANG_MAX];
+	char *lang = NULL;
+
+	if (!xine_get_audio_lang(this->stream, value, &lang_buffer[0])) {
+		snprintf(lang_buffer, sizeof(lang_buffer), "%3d", value);
+	}
+	lang = lang_buffer;
+
+	return lang;
+}
+
+void cXineLib::setLiveTV(int streamtype) {
+	m_streamtype = streamtype;
+}
+
+void cXineLib::setPrebuffer(int prebuffer) {
+	xine_set_param(stream, XINE_PARAM_METRONOM_PREBUFFER, prebuffer);
+}
+
+void cXineLib::setBufMetronom(int hevc, int avc, int mpeg2) {
+	m_hevc = hevc;
+	m_avc = avc;
+	m_mpeg2 = mpeg2;
+}
+
+void cXineLib::xine_event_handler(void *user_data, const xine_event_t *event) {
+	cXineLib *xineLib = (cXineLib*)user_data;
+	//if (event->type!=15)
+	printf("[cXineLib] I have XINE event ---  %d\n", event->type);
+
+	switch (event->type)
+	{
+	case XINE_EVENT_UI_PLAYBACK_FINISHED:
+		printf("[cXineLib] XINE_EVENT_UI_PLAYBACK_FINISHED\n");
+		break;
+	case XINE_EVENT_NBC_STATS:
+		return;
+	case XINE_EVENT_FRAME_FORMAT_CHANGE:
+		printf("[cXineLib] XINE_EVENT_FRAME_FORMAT_CHANGE\n");
+		{
+			xine_format_change_data_t* data = (xine_format_change_data_t*)event->data;
+			printf("[cXineLib] width %d  height %d  aspect %d\n", data->width, data->height, data->aspect);
+
+			struct iTSMPEGDecoder::videoEvent evt;
+			evt.type = iTSMPEGDecoder::videoEvent::eventSizeChanged;
+			xineLib->m_aspect = evt.aspect = data->aspect;
+			xineLib->m_height = evt.height = data->height;
+			xineLib->m_width  = evt.width  = data->width;
+			xineLib->m_pump.send(evt);
+
+			xineLib->adjust_policy();
+		}
+		return;
+	case XINE_EVENT_FRAMERATE_CHANGE:
+		printf("[cXineLib] XINE_EVENT_FRAMERATE_CHANGE\n");
+		{
+			xine_framerate_data_t* data = (xine_framerate_data_t*)event->data;
+			printf("[cXineLib] framerate %ld \n", data->framerate);
+
+			struct iTSMPEGDecoder::videoEvent evt;
+			evt.type = iTSMPEGDecoder::videoEvent::eventFrameRateChanged;
+			xineLib->m_framerate = evt.framerate = data->framerate;
+			xineLib->m_pump.send(evt);
+		}
+		return;
+	case XINE_EVENT_PROGRESS:
+		{
+			xine_progress_data_t* data = (xine_progress_data_t*) event->data;
+			printf("[cXineLib] XINE_EVENT_PROGRESS  %s  %d\n", data->description, data->percent);
+			if (xineLib->videoPlayed && data->percent==0)
+				xineLib->end_of_stream = true;
+		}
+		break;
+
+	default:
+		printf("[cXineLib] xine_event_handler(): event->type: %d\n", event->type);
+		return;
+	}
+}
+
+void cXineLib::pumpEvent(const iTSMPEGDecoder::videoEvent &event) {
+	m_event(event);
+}
+
+int cXineLib::getVideoWidth() {
+	return m_width;
+}
+
+int cXineLib::getVideoHeight() {
+	return m_height;
+}
+
+int cXineLib::getVideoFrameRate() {
+	if (stream) {
+		int d;
+		d = xine_get_stream_info(this->stream, XINE_STREAM_INFO_FRAME_DURATION);
+		if (d != 0) {
+			m_framerate = int(90000000/d) ;
+		}
+		printf("[cXineLib] FRAMERATE: %d\n", m_framerate);
+	}
+	return m_framerate;
+}
+
+int cXineLib::getProgressive() {
+	if (stream) {
+		xine_current_frame_data_t  data;
+		memset(&data, 0, sizeof (data));
+		if (xine_get_current_frame_data(this->stream, &data, XINE_FRAME_DATA_ALLOCATE_IMG)) {
+			if (data.interlaced == 1)
+				m_progressive = 0;
+			else
+				m_progressive = 1;
+		}
+		printf("[cXineLib] PROGRESSIVE: %d\n", m_progressive);
+	}
+	return m_progressive;
+}
+
+int cXineLib::getVideoAspect() {
+	return m_aspect;
+}
+
+RESULT cXineLib::getPTS(pts_t &pts) {
+	pts_t* last_pts_l = (pts_t*)(intptr_t)vo_port->get_property(vo_port, VO_PROP_LAST_PTS);
+
+/*	pts = *last_pts_l; // segfault
+	if (pts != 0)
+		return 0;
+	return -1;*/
+	if (last_pts_l != 0) // gag!
+		return 0;
+	return -1;
+}
+
+void cXineLib::setVideoWindow(int window_x, int window_y, int window_width, int window_height) {
+	int left = window_x * windowWidth / osdWidth;
+	int top = window_y * windowHeight / osdHeight;
+	int width = window_width * windowWidth / osdWidth;
+	int height = window_height * windowHeight / osdHeight;
+
+	xine_osd_set_video_window(osd, left, top, width, height);
+	showOsd();
+}
+
+void cXineLib::updateWindowSize(int width, int height) {
+	windowWidth  = width;
+	windowHeight = height;
+}
+
+void cXineLib::setDeinterlace(int global, int sd, int hd) {
+	vo_port->set_property(vo_port, VO_PROP_DEINTERLACE_SD, sd);
+	vo_port->set_property(vo_port, VO_PROP_DEINTERLACE_HD, hd);
+	vo_port->set_property(vo_port, VO_PROP_INTERLACED, global);
+}
+
+void cXineLib::setSDfeatures(int sharpness, int noise) {
+	m_sharpness = sharpness;
+	m_noise = noise;
+}
+
+void cXineLib::setAspectRatio(int ratio) {
+	m_windowAspectRatio = ratio;
+}
+
+void cXineLib::setPolicy43(int mode) {
+	m_policy43 = mode;
+}
+
+void cXineLib::setPolicy169(int mode) {
+	m_policy169 = mode;
+}
+
+void cXineLib::setZoom(int zoom43_x, int zoom43_y, int zoom169_x, int zoom169_y) {
+	m_zoom43_x = zoom43_x;
+	m_zoom43_y = zoom43_y;
+	m_zoom169_x = zoom169_x;
+	m_zoom169_y = zoom169_y;
+}
+
+void cXineLib::set_zoom_settings(int x, int y) {
+	xine_set_param(stream, XINE_PARAM_VO_ZOOM_X, x);
+	xine_set_param(stream, XINE_PARAM_VO_ZOOM_Y, y);
+}
+
+void cXineLib::set_crop_settings(int left, int right, int top, int bottom) {
+	xine_set_param(stream, XINE_PARAM_VO_CROP_LEFT, left);
+	xine_set_param(stream, XINE_PARAM_VO_CROP_RIGHT, right);
+	xine_set_param(stream, XINE_PARAM_VO_CROP_TOP, top);
+	xine_set_param(stream, XINE_PARAM_VO_CROP_BOTTOM, bottom);
+}
+
+void cXineLib::adjust_policy() {
+	switch (m_windowAspectRatio) {
+	case XINE_VO_ASPECT_AUTO:
+		printf("[cXineLib] XINE_VO_ASPECT_AUTO\n");
+		xine_set_param(stream, XINE_PARAM_VO_ASPECT_RATIO, 0);
+		set_zoom_settings(100, 100);
+		set_crop_settings(0, 0, 0, 0);
+		break;
+	case XINE_VO_ASPECT_4_3:
+		printf("[cXineLib] XINE_VO_ASPECT_4_3\n");
+		switch (m_aspect) {
+		case 2: /* 4:3 */
+			printf("[cXineLib] m_policy43 %d\n", m_policy43);
+			switch (m_policy43) {
+			case 0: /* scale */
+			case 1: /* nonlinear */
+			case 2: /* panscan */
+			case 3: /* pillarbox */
+				printf("[cXineLib] 4:3 SCALE/NONLINEAR/PANSCAN/PILLARBOX\n");
+				xine_set_param(stream, XINE_PARAM_VO_ASPECT_RATIO, XINE_VO_ASPECT_4_3);
+				set_zoom_settings(100, 100);
+				set_crop_settings(0, 0, 0, 0);
+				break;
+			case 4: /* zoom */
+				printf("[cXineLib] 4:3 ZOOM\n");
+				xine_set_param(stream, XINE_PARAM_VO_ASPECT_RATIO, XINE_VO_ASPECT_4_3);
+				set_zoom_settings(m_zoom43_x, m_zoom43_y);
+				set_crop_settings(0, 0, 0, 0);
+				break;
+			}
+			break;
+		case 3: /* 16:9 */
+			printf("[cXineLib] m_policy169 %d\n", m_policy169);
+			switch (m_policy169) {
+			case 0: /* scale */
+				printf("[cXineLib] 16:9 SCALE\n");
+				xine_set_param(stream, XINE_PARAM_VO_ASPECT_RATIO, XINE_VO_ASPECT_4_3);
+				set_zoom_settings(100, 100);
+				set_crop_settings(0, 0, 0, 0);
+				break;
+			case 1: /* panscan */
+				printf("[cXineLib] 16:9 PANSCAN\n");
+				xine_set_param(stream, XINE_PARAM_VO_ASPECT_RATIO, XINE_VO_ASPECT_4_3);
+				set_zoom_settings(100, 100);
+				set_crop_settings(m_width/8, m_width/8, 0, 0);
+				break;
+			case 2: /* letterbox */
+				printf("[cXineLib] 16:9 LETTERBOX\n");
+				xine_set_param(stream, XINE_PARAM_VO_ASPECT_RATIO, XINE_VO_ASPECT_ANAMORPHIC);
+				set_zoom_settings(100, 100);
+				set_crop_settings(0, 0, 0, 0);
+				break;
+			case 3: /* zoom */
+				printf("[cXineLib] 16:9 ZOOM\n");
+				xine_set_param(stream, XINE_PARAM_VO_ASPECT_RATIO, XINE_VO_ASPECT_ANAMORPHIC);
+				set_zoom_settings(m_zoom169_x, m_zoom169_y);
+				set_crop_settings(0, 0, 0, 0);
+				break;
+			}
+			break;
+		}
+		break;
+	case XINE_VO_ASPECT_ANAMORPHIC: /* 16:9 */
+		printf("[cXineLib] XINE_VO_ASPECT_ANAMORPHIC (16:9)\n");
+		switch (m_aspect) {
+		case 2: /* 4:3 */
+			switch (m_policy43) {
+			case 0: /* scale */
+				printf("[cXineLib] 4:3 SCALE\n");
+				xine_set_param(stream, XINE_PARAM_VO_ASPECT_RATIO, XINE_VO_ASPECT_ANAMORPHIC);
+				set_zoom_settings(100, 100);
+				set_crop_settings(0, 0, 0, 0);
+				break;
+			case 1: /* nonlinear */
+				printf("[cXineLib] 4:3 NONLINEAR\n");
+				break;
+			case 2: /* panscan */
+				printf("[cXineLib] 4:3 PANSCAN\n");
+				xine_set_param(stream, XINE_PARAM_VO_ASPECT_RATIO, XINE_VO_ASPECT_ANAMORPHIC);
+				set_zoom_settings(100, 100);
+				set_crop_settings(0, 0, m_height/8, m_height/8);
+				break;
+			case 3: /* pillarbox */
+				xine_set_param(stream, XINE_PARAM_VO_ASPECT_RATIO, XINE_VO_ASPECT_4_3);
+				set_zoom_settings(100, 100);
+				printf("[cXineLib] 4:3 PILLARBOX\n");
+				break;
+			case 4: /* zoom */
+				printf("[cXineLib] 4:3 ZOOM\n");
+				xine_set_param(stream, XINE_PARAM_VO_ASPECT_RATIO, XINE_VO_ASPECT_4_3);
+				set_zoom_settings(m_zoom43_x, m_zoom43_y);
+				set_crop_settings(0, 0, 0, 0);
+//				detect_aspect_from_frame(true);
+				break;
+			}
+			break;
+		case 3: /* 16:9 */
+			printf("[cXineLib] m_policy169 %d\n", m_policy169);
+			switch (m_policy169) {
+			case 0: /* scale */
+			case 1: /* panscan */
+			case 2: /* letterbox */
+				printf("[cXineLib] 16:9 SCALE/PANSCAN/LETTERBOX\n");
+				xine_set_param(stream, XINE_PARAM_VO_ASPECT_RATIO, XINE_VO_ASPECT_ANAMORPHIC);
+				set_zoom_settings(100, 100);
+				set_crop_settings(0, 0, 0, 0);
+				break;
+			case 3: /* zoom */
+				printf("[cXineLib] 16:9 ZOOM\n");
+				xine_set_param(stream, XINE_PARAM_VO_ASPECT_RATIO, XINE_VO_ASPECT_ANAMORPHIC);
+				set_zoom_settings(m_zoom169_x, m_zoom169_y);
+				set_crop_settings(0, 0, 0, 0);
+				break;
+			}
+			break;
+		}
+		break;
+	}
+
+	if (m_width<=720) {
+		/* SD channels */
+		vo_port->set_property(vo_port, VO_PROP_SHARPNESS, m_sharpness);
+		vo_port->set_property(vo_port, VO_PROP_NOISE_REDUCTION, m_noise);
+	}
+	else {
+		/* HD & HEVC channels */
+		vo_port->set_property(vo_port, VO_PROP_SHARPNESS, 0);
+		vo_port->set_property(vo_port, VO_PROP_NOISE_REDUCTION, 0);
+	}
+}
+
+/* orrect xine stream closure */
+RESULT cXineLib::stop() {
+	if (m_state == stError)
+		return -1;
+
+	ASSERT(m_state != stIdle);
+	ASSERT(stream);
+	if (m_state == stStopped)
+		return -1;
+	xine_stop(stream);
+	// STOP
+	m_state = stStopped;
+	return 0;
+}
diff -ruN o/lib/gdi/xineLib.h pc/lib/gdi/xineLib.h
--- o/lib/gdi/xineLib.h	1970-01-01 03:00:00.000000000 +0300
+++ pc/lib/gdi/xineLib.h	2020-11-01 12:15:22.943273761 +0300
@@ -0,0 +1,117 @@
+#ifndef __lib_gdi_xineLib_h
+#define __lib_gdi_xineLib_h
+
+#include <lib/gdi/gpixmap.h>
+#include <xine.h>
+#include <xine/xine_internal.h>
+#include <xine/xineutils.h>
+#include <lib/dvb/idvb.h>
+#include <lib/base/message.h>
+#include <lib/gdi/post.h>
+
+//#include <lib/service/iservice.h>
+
+class cXineLib : public sigc::trackable {
+	DECLARE_REF(cXineLib);
+private:
+	static cXineLib        *instance;
+
+	xine_t                 *xine;
+	xine_stream_t          *stream;
+	xine_video_port_t      *vo_port;
+	xine_audio_port_t      *ao_port;
+	xine_osd_t             *osd;
+	xine_event_queue_t     *event_queue;
+	post_plugins_t         *postplugins;
+
+	xine_streamtype_data_t  videoData, audioData;
+
+	bool videoPlayed;
+	bool doDescramble;
+	int  osdWidth, osdHeight;
+	int  windowWidth, windowHeight;
+
+	int m_width, m_height, m_framerate, m_aspect, m_progressive;
+	int sound_mode, sound_card, sound_device, sound_output;
+	int m_windowAspectRatio, m_policy43, m_policy169;
+	int m_zoom43_x, m_zoom43_y, m_zoom169_x, m_zoom169_y;
+	int m_sharpness, m_noise;
+	int m_streamtype;
+	int m_hevc, m_avc, m_mpeg2;
+
+	void setStreamType(int video);
+	void setLiveTV(int v_streamtype);
+
+	static void xine_event_handler(void *user_data, const xine_event_t *event);
+
+	eFixedMessagePump<iTSMPEGDecoder::videoEvent> m_pump;
+	void pumpEvent(const iTSMPEGDecoder::videoEvent &event);
+
+	void set_zoom_settings(int x, int y);
+	void set_crop_settings(int left, int right, int top, int bottom);
+public:
+	bool end_of_stream;
+
+	cXineLib(x11_visual_t *vis);
+	virtual ~cXineLib();
+
+	static cXineLib *getInstance() { return instance; }
+
+	void setPrebuffer(int prebuffer);
+	void setVolume(int value);
+	void setVolumeMute(int value);
+	void showOsd();
+	void newOsd(int width, int height, uint32_t *argb_buffer);
+	void playVideo(void);
+	void stopVideo(void);
+	void setVideoType(int pid, int type);
+	void setAudioType(int pid, int type);
+	void rewire_posts_load();
+	void rewire_posts_unload();
+
+	void FilmVideo(char *mrl);
+	int VideoPause();
+	int VideoResume();
+	int VideoPosition();
+	int VideoPlayF();
+	int VposStream;
+	int Vpos;
+	int Vlength;
+
+	int VideoRewT(pts_t Rew);
+	void SeekTo(long long value);
+	int getNumberOfTracksAudio();
+	void selectAudioStream(int value);
+	int getCurrentTrackAudio();
+	std::string getAudioLang(int value);
+
+	sigc::signal1<void, struct iTSMPEGDecoder::videoEvent> m_event;
+
+	int getVideoWidth();
+	int getVideoHeight();
+	int getVideoFrameRate();
+	int getProgressive();
+	int getVideoAspect();
+	void adjust_policy();
+	RESULT getPTS(pts_t &pts);
+	void setVideoWindow(int window_x, int window_y, int window_width, int window_height);
+	void updateWindowSize(int width, int height);
+
+	void setDeinterlace(int global, int sd, int hd);
+	void setSDfeatures(int sharpness, int noise);
+	void setAspectRatio(int ratio);
+	void setPolicy43(int mode);
+	void setPolicy169(int mode);
+	void setZoom(int zoom43_x, int zoom43_y, int zoom169_x, int zoom169_y);
+	void setBufMetronom(int hevc, int avc, int mpeg2);
+	void setScrambled(bool doDescramble);
+
+	RESULT stop();
+	enum
+	{
+		stError, stIdle, stRunning, stStopped,
+	};
+	int m_state;
+};
+
+#endif
diff -ruN o/lib/gui/evideo.cpp pc/lib/gui/evideo.cpp
--- o/lib/gui/evideo.cpp	2020-08-01 17:47:17.159609752 +0300
+++ pc/lib/gui/evideo.cpp	2020-11-01 12:15:22.945273798 +0300
@@ -1,6 +1,7 @@
 #include <lib/base/cfile.h>
 #include <lib/gui/evideo.h>
 #include <lib/gui/ewidgetdesktop.h>
+#include <lib/gdi/xineLib.h>
 
 ePtr<eTimer> eVideoWidget::fullsizeTimer;
 int eVideoWidget::pendingFullsize = 0;
@@ -56,6 +57,8 @@
 	posFullsizeTop = pos.top();
 	posFullsizeWidth = pos.width();
 	posFullsizeHeight = pos.height();
+	cXineLib* xineLib = cXineLib::getInstance();
+	xineLib->setVideoWindow(posFullsizeLeft, posFullsizeTop, posFullsizeWidth, posFullsizeHeight);
 	setPosition(0, posFullsizeLeft, posFullsizeTop, posFullsizeWidth, posFullsizeHeight);
 }
 
@@ -69,7 +72,7 @@
 void eVideoWidget::setPosition(int index, int left, int top, int width, int height)
 {
 	char filenamebase[128];
-	snprintf(filenamebase, sizeof(filenamebase), "/proc/stb/vmpeg/%d/dst_", index);
+	snprintf(filenamebase, sizeof(filenamebase), "/usr/local/e2/etc/stb/vmpeg/%d/dst_", index);
 	std::string filename = filenamebase;
 	writeProc(filename + "left", left);
 	writeProc(filename + "top", top);
@@ -84,6 +87,8 @@
 	{
 		if (force || (pendingFullsize & (1 << decoder)))
 		{
+			cXineLib* xineLib = cXineLib::getInstance();
+			xineLib->setVideoWindow(posFullsizeLeft, posFullsizeTop, posFullsizeWidth, posFullsizeHeight);
 			eVideoWidget::setPosition(decoder, posFullsizeLeft, posFullsizeTop, posFullsizeWidth, posFullsizeHeight);
 			pendingFullsize &= ~(1 << decoder);
 		}
@@ -129,6 +134,8 @@
 
 	if (!disable)
 	{
+		cXineLib* xineLib = cXineLib::getInstance();
+		xineLib->setVideoWindow(pos.left(), pos.top(), pos.width(), pos.height());
 		setPosition(m_decoder, left, top, width, height);
 		pendingFullsize &= ~(1 << m_decoder);
 		m_state |= 8;
diff -ruN o/lib/python/Components/About.py pc/lib/python/Components/About.py
--- o/lib/python/Components/About.py	2020-08-01 17:47:17.160609718 +0300
+++ pc/lib/python/Components/About.py	2020-11-01 12:15:22.951273908 +0300
@@ -8,8 +8,8 @@
 
 def getImageVersionString():
 	try:
-		if os.path.isfile('/var/lib/opkg/status'):
-			st = os.stat('/var/lib/opkg/status')
+		if os.path.isfile('/var/lib/dpkg/status'):
+			st = os.stat('/var/lib/dpkg/status')
 		tm = time.localtime(st.st_mtime)
 		if tm.tm_year >= 2011:
 			return time.strftime("%Y-%m-%d %H:%M:%S", tm)
@@ -33,7 +33,7 @@
 def getUpdateDateString():
 	try:
 		from glob import glob
-		build = [x.split("-")[-2:-1][0][-8:] for x in open(glob("/var/lib/opkg/info/openpli-bootlogo.control")[0], "r") if x.startswith("Version:")][0]
+		build = [x.split("-")[-2:-1][0][-8:] for x in open(glob("/var/lib/dpkg/info/openpli-bootlogo.control")[0], "r") if x.startswith("Version:")][0]
 		if build.isdigit():
 			return  "%s-%s-%s" % (build[:4], build[4:6], build[6:])
 	except:
@@ -50,7 +50,7 @@
 def getGStreamerVersionString(cpu):
 	try:
 		from glob import glob
-		gst = [x.split("Version: ") for x in open(glob("/var/lib/opkg/info/gstreamer[0-9].[0-9].control")[0], "r") if x.startswith("Version:")][0]
+		gst = [x.split("Source: gstreamer") for x in open(glob("/var/lib/dpkg/status")[0], "r") if x.startswith("Source: gstreamer")][0]
 		return "%s" % gst[1].split("+")[0].replace("\n","")
 	except:
 		return _("Not Required") if cpu.upper().startswith('HI') else _("Not Installed")
@@ -85,8 +85,8 @@
 			elif line[0] == "processor":
 				cpu_count += 1
 
-		if processor.startswith("ARM") and os.path.isfile("/proc/stb/info/chipset"):
-			processor = "%s (%s)" % (open("/proc/stb/info/chipset").readline().strip().upper(), processor)
+		if processor.startswith("ARM") and os.path.isfile("/usr/local/e2/etc/stb/info/chipset"):
+			processor = "%s (%s)" % (open("/usr/local/e2/etc/stb/info/chipset").readline().strip().upper(), processor)
 
 		if not cpu_speed:
 			try:
@@ -99,12 +99,12 @@
 					cpu_speed = "-"
 
 		temperature = None
-		if os.path.isfile('/proc/stb/fp/temp_sensor_avs'):
-			temperature = open("/proc/stb/fp/temp_sensor_avs").readline().replace('\n','')
-		elif os.path.isfile('/proc/stb/power/avs'):
-			temperature = open("/proc/stb/power/avs").readline().replace('\n','')
-		elif os.path.isfile('/proc/stb/fp/temp_sensor'):
-			temperature = open("/proc/stb/fp/temp_sensor").readline().replace('\n','')
+		if os.path.isfile('/usr/local/e2/etc/stb/fp/temp_sensor_avs'):
+			temperature = open("/usr/local/e2/etc/stb/fp/temp_sensor_avs").readline().replace('\n','')
+		elif os.path.isfile('/usr/local/e2/etc/stb/power/avs'):
+			temperature = open("/usr/local/e2/etc/stb/power/avs").readline().replace('\n','')
+		elif os.path.isfile('/usr/local/e2/etc/stb/fp/temp_sensor'):
+			temperature = open("/usr/local/e2/etc/stb/fp/temp_sensor").readline().replace('\n','')
 		elif os.path.isfile("/sys/devices/virtual/thermal/thermal_zone0/temp"):
 			try:
 				temperature = int(open("/sys/devices/virtual/thermal/thermal_zone0/temp").read().strip())/1000
@@ -125,14 +125,14 @@
 	try:
 		from glob import glob
 		try:
-			driver = [x.split("-")[-2:-1][0][-8:] for x in open(glob("/var/lib/opkg/info/*-dvb-modules-*.control")[0], "r") if x.startswith("Version:")][0]
+			driver = [x.split("-")[-2:-1][0][-8:] for x in open(glob("/var/lib/dpkg/info/*-dvb-modules-*.control")[0], "r") if x.startswith("Version:")][0]
 			return  "%s-%s-%s" % (driver[:4], driver[4:6], driver[6:])
 		except:
 			try:
-				driver = [x.split("Version:") for x in open(glob("/var/lib/opkg/info/*-dvb-proxy-*.control")[0], "r") if x.startswith("Version:")][0]
+				driver = [x.split("Version:") for x in open(glob("/var/lib/dpkg/info/*-dvb-proxy-*.control")[0], "r") if x.startswith("Version:")][0]
 				return  "%s" % driver[1].replace("\n","")
 			except:
-				driver = [x.split("Version:") for x in open(glob("/var/lib/opkg/info/*-platform-util-*.control")[0], "r") if x.startswith("Version:")][0]
+				driver = [x.split("Version:") for x in open(glob("/var/lib/dpkg/info/*-platform-util-*.control")[0], "r") if x.startswith("Version:")][0]
 				return  "%s" % driver[1].replace("\n","")
 	except:
 		return _("unknown")
diff -ruN o/lib/python/Components/AVSwitch.py pc/lib/python/Components/AVSwitch.py
--- o/lib/python/Components/AVSwitch.py	2020-08-01 17:47:17.160609718 +0300
+++ pc/lib/python/Components/AVSwitch.py	2020-11-01 12:15:22.960274074 +0300
@@ -23,7 +23,7 @@
 			return (4,3)
 		elif valstr == "16_9": # auto ... 4:3 or 16:9
 			try:
-				if "1" in open("/proc/stb/vmpeg/0/aspect", "r").read(): # 4:3
+				if "1" in open("/usr/local/e2/etc/stb/vmpeg/0/aspect", "r").read():# 4:3
 					return (4,3)
 			except IOError:
 				pass
@@ -98,15 +98,15 @@
 	# TRANSLATORS: (aspect ratio policy: cropped content on left/right) in doubt, keep english term
 	"panscan": _("Pan&scan"),
 	# TRANSLATORS: (aspect ratio policy: scale as close to fullscreen as possible)
-	"scale": _("Just scale")}
+	"scale": _("Just scale"), "zoom": _("Zoom")}
 	try:
-		if "full" in open("/proc/stb/video/policy2_choices").read():
+		if "full" in open("/usr/local/e2/etc/stb/video/policy2_choices").read():
 			# TRANSLATORS: (aspect ratio policy: display as fullscreen, even if the content aspect ratio does not match the screen ratio)
 			policy2_choices.update({"full": _("Full screen")})
 	except:
 		pass
 	try:
-		if "auto" in open("/proc/stb/video/policy2_choices").read():
+		if "auto" in open("/usr/local/e2/etc/stb/video/policy2_choices").read():
 			# TRANSLATORS: (aspect ratio policy: automatically select the best aspect ratio mode)
 			policy2_choices.update({"auto": _("Auto")})
 	except:
@@ -118,21 +118,21 @@
 	# TRANSLATORS: (aspect ratio policy: cropped content on left/right) in doubt, keep english term
 	"panscan": _("Pan&scan"),
 	# TRANSLATORS: (aspect ratio policy: scale as close to fullscreen as possible)
-	"scale": _("Just scale")}
+	"scale": _("Just scale"), "zoom": _("Zoom")}
 	try:
-		if "nonlinear" in open("/proc/stb/video/policy_choices").read():
+		if "nonlinear" in open("/usr/local/e2/etc/stb/video/policy_choices").read():
 			# TRANSLATORS: (aspect ratio policy: display as fullscreen, with stretching the left/right)
 			policy_choices.update({"nonlinear": _("Nonlinear")})
 	except:
 		pass
 	try:
-		if "full" in open("/proc/stb/video/policy_choices").read():
+		if "full" in open("/usr/local/e2/etc/stb/video/policy_choices").read():
 			# TRANSLATORS: (aspect ratio policy: display as fullscreen, even if the content aspect ratio does not match the screen ratio)
 			policy_choices.update({"full": _("Full screen")})
 	except:
 		pass
 	try:
-		if "auto" in open("/proc/stb/video/policy_choices").read():
+		if "auto" in open("/usr/local/e2/etc/stb/video/policy_choices").read():
 			# TRANSLATORS: (aspect ratio policy: automatically select the best aspect ratio mode)
 			policy_choices.update({"auto": _("Auto")})
 	except:
@@ -172,40 +172,40 @@
 
 	if SystemInfo["CanDownmixAC3"]:
 		def setAC3Downmix(configElement):
-			open("/proc/stb/audio/ac3", "w").write(configElement.value and "downmix" or "passthrough")
+			open("/usr/local/e2/etc/stb/audio/ac3", "w").write(configElement.value and "downmix" or "passthrough")
 		config.av.downmix_ac3 = ConfigYesNo(default = True)
 		config.av.downmix_ac3.addNotifier(setAC3Downmix)
 
 	if SystemInfo["CanDownmixDTS"]:
 		def setDTSDownmix(configElement):
-			open("/proc/stb/audio/dts", "w").write(configElement.value and "downmix" or "passthrough")
+			open("/usr/local/e2/etc/stb/audio/dts", "w").write(configElement.value and "downmix" or "passthrough")
 		config.av.downmix_dts = ConfigYesNo(default = True)
 		config.av.downmix_dts.addNotifier(setDTSDownmix)
 
 	if SystemInfo["CanDownmixAAC"]:
 		def setAACDownmix(configElement):
-			open("/proc/stb/audio/aac", "w").write(configElement.value and "downmix" or "passthrough")
+			open("/usr/local/e2/etc/stb/audio/aac", "w").write(configElement.value and "downmix" or "passthrough")
 		config.av.downmix_aac = ConfigYesNo(default = True)
 		config.av.downmix_aac.addNotifier(setAACDownmix)
 
 	try:
-		SystemInfo["CanChangeOsdAlpha"] = open("/proc/stb/video/alpha", "r") and True or False
+		SystemInfo["CanChangeOsdAlpha"] = open("/usr/local/e2/etc/stb/video/alpha", "r") and True or False
 	except:
 		SystemInfo["CanChangeOsdAlpha"] = False
 
 	if SystemInfo["CanChangeOsdAlpha"]:
 		def setAlpha(config):
-			open("/proc/stb/video/alpha", "w").write(str(config.value))
+			open("/usr/local/e2/etc/stb/video/alpha", "w").write(str(config.value))
 		config.av.osd_alpha = ConfigSlider(default=255, limits=(0,255))
 		config.av.osd_alpha.addNotifier(setAlpha)
 
-	if os.path.exists("/proc/stb/vmpeg/0/pep_scaler_sharpness"):
+	if os.path.exists("/usr/local/e2/etc/stb/vmpeg/0/pep_scaler_sharpness"):
 		def setScaler_sharpness(config):
 			myval = int(config.value)
 			try:
 				print "--> setting scaler_sharpness to: %0.8X" % myval
-				open("/proc/stb/vmpeg/0/pep_scaler_sharpness", "w").write("%0.8X" % myval)
-				open("/proc/stb/vmpeg/0/pep_apply", "w").write("1")
+				open("/usr/local/e2/etc/stb/vmpeg/0/pep_scaler_sharpness", "w").write("%0.8X" % myval)
+				open("/usr/local/e2/etc/stb/vmpeg/0/pep_apply", "w").write("1")
 			except IOError:
 				print "couldn't write pep_scaler_sharpness"
 
diff -ruN o/lib/python/Components/Converter/EventName.py pc/lib/python/Components/Converter/EventName.py
--- o/lib/python/Components/Converter/EventName.py	2020-08-01 17:47:17.161609683 +0300
+++ pc/lib/python/Components/Converter/EventName.py	2020-11-01 12:15:22.972274295 +0300
@@ -103,10 +103,6 @@
 				return ""
 			else:
 				return getGenreStringSub(genre.getLevel1(), genre.getLevel2())
-		elif self.type == self.NAME_NOW:
-			return pgettext("now/next: 'now' event label", "Now") + ": " + event.getEventName()
-		elif self.type == self.NAME_NEXT:
-			return pgettext("now/next: 'next' event label", "Next") + ": " + event.getEventName()
 		elif self.type == self.SHORT_DESCRIPTION:
 			return event.getShortDescription()
 		elif self.type == self.EXTENDED_DESCRIPTION:
diff -ruN o/lib/python/Components/Converter/PliExtraInfo.py pc/lib/python/Components/Converter/PliExtraInfo.py
--- o/lib/python/Components/Converter/PliExtraInfo.py	2020-08-01 17:47:17.161609683 +0300
+++ pc/lib/python/Components/Converter/PliExtraInfo.py	2020-11-01 12:15:22.980274442 +0300
@@ -164,7 +164,7 @@
 		fps = (info.getInfo(iServiceInformation.sFrameRate) + 500) / 1000
 		if not fps:
 			try:
-				fps = (int(open("/proc/stb/vmpeg/0/framerate", "r").read()) + 500) / 1000
+				fps = (int(open("/usr/local/e2/etc/stb/vmpeg/0/framerate", "r").read()) + 500) / 1000
 			except:
 				pass
 		return "%sx%s%s%s" % (xres, yres, mode, fps)
diff -ruN o/lib/python/Components/Converter/TemplatedMultiContent.py pc/lib/python/Components/Converter/TemplatedMultiContent.py
--- o/lib/python/Components/Converter/TemplatedMultiContent.py	2020-10-28 15:03:25.031998614 +0300
+++ pc/lib/python/Components/Converter/TemplatedMultiContent.py	2020-11-01 12:15:22.988274590 +0300
@@ -6,9 +6,8 @@
 	def __init__(self, args):
 		StringList.__init__(self, args)
 		from enigma import BT_SCALE, RT_HALIGN_CENTER, RT_HALIGN_LEFT, RT_HALIGN_RIGHT, RT_VALIGN_BOTTOM, RT_VALIGN_CENTER, RT_VALIGN_TOP, RT_WRAP, eListboxPythonMultiContent, gFont
-		from skin import parseFont, getSkinFactor
+		from skin import parseFont
 		from Components.MultiContent import MultiContentEntryPixmap, MultiContentEntryPixmapAlphaBlend, MultiContentEntryPixmapAlphaTest, MultiContentEntryProgress, MultiContentEntryProgressPixmap, MultiContentEntryText, MultiContentTemplateColor
-		f = getSkinFactor()
 		loc = locals()
 		del loc["self"]  # Cleanup locals a bit.
 		del loc["args"]
diff -ruN o/lib/python/Components/FanControl.py pc/lib/python/Components/FanControl.py
--- o/lib/python/Components/FanControl.py	2020-08-01 17:47:17.162609649 +0300
+++ pc/lib/python/Components/FanControl.py	2020-11-01 12:15:23.005274903 +0300
@@ -9,7 +9,7 @@
 class FanControl:
 	# ATM there's only support for one fan
 	def __init__(self):
-		if os.path.exists("/proc/stb/fp/fan_vlt") or os.path.exists("/proc/stb/fp/fan_pwm") or os.path.exists("/proc/stb/fp/fan_speed"):
+		if os.path.exists("/usr/local/e2/etc/stb/fp/fan_vlt") or os.path.exists("/usr/local/e2/etc/stb/fp/fan_pwm") or os.path.exists("/usr/local/e2/etc/stb/fp/fan_speed"):
 			self.fancount = 1
 		else:
 			self.fancount = 0
@@ -77,28 +77,28 @@
 		return self.fancount
 
 	def hasRPMSensor(self, fanid):
-		return os.path.exists("/proc/stb/fp/fan_speed")
+		return os.path.exists("/usr/local/e2/etc/stb/fp/fan_speed")
 
 	def hasFanControl(self, fanid):
-		return os.path.exists("/proc/stb/fp/fan_vlt") or os.path.exists("/proc/stb/fp/fan_pwm")
+		return os.path.exists("/usr/local/e2/etc/stb/fp/fan_vlt") or os.path.exists("/usr/local/e2/etc/stb/fp/fan_pwm")
 
 	def getFanSpeed(self, fanid):
-		return int(open("/proc/stb/fp/fan_speed", "r").readline().strip()[:-4])
+		return int(open("/usr/local/e2/etc/stb/fp/fan_speed", "r").readline().strip()[:-4])
 
 	def getVoltage(self, fanid):
-		return int(open("/proc/stb/fp/fan_vlt", "r").readline().strip(), 16)
+		return int(open("/usr/local/e2/etc/stb/fp/fan_vlt", "r").readline().strip(), 16)
 
 	def setVoltage(self, fanid, value):
 		if value > 255:
 			return
-		open("/proc/stb/fp/fan_vlt", "w").write("%x" % value)
+		open("/usr/local/e2/etc/stb/fp/fan_vlt", "w").write("%x" % value)
 
 	def getPWM(self, fanid):
-		return int(open("/proc/stb/fp/fan_pwm", "r").readline().strip(), 16)
+		return int(open("/usr/local/e2/etc/stb/fp/fan_pwm", "r").readline().strip(), 16)
 
 	def setPWM(self, fanid, value):
 		if value > 255:
 			return
-		open("/proc/stb/fp/fan_pwm", "w").write("%x" % value)
+		open("/usr/local/e2/etc/stb/fp/fan_pwm", "w").write("%x" % value)
 
 fancontrol = FanControl()
diff -ruN o/lib/python/Components/Harddisk.py pc/lib/python/Components/Harddisk.py
--- o/lib/python/Components/Harddisk.py	2020-08-01 17:47:17.163609614 +0300
+++ pc/lib/python/Components/Harddisk.py	2020-11-01 12:15:23.007274941 +0300
@@ -46,7 +46,7 @@
 	def __init__(self, device, removable=False):
 		self.device = device
 
-		if os.access("/dev/.udev", 0):
+		if os.access("/dev/disk", 0):
 			self.type = DEVTYPE_UDEV
 		elif os.access("/dev/udev_network_queue", 0):
 			self.type = DEVTYPE_UDEV
@@ -87,8 +87,8 @@
 			tmp = readFile(self.sysfsPath('dev')).split(':')
 			s_major = int(tmp[0])
 			s_minor = int(tmp[1])
-			for disc in os.listdir("/dev/discs"):
-				dev_path = os.path.realpath('/dev/discs/' + disc)
+			for disc in os.listdir("/dev/disc"):
+				dev_path = os.path.realpath('/dev/disc/' + disc)
 				disk_path = dev_path + '/disc'
 				try:
 					rdev = os.stat(disk_path).st_rdev
@@ -566,10 +566,10 @@
 
 def addInstallTask(job, package):
 	task = Task.LoggingTask(job, "update packages")
-	task.setTool('opkg')
+	task.setTool('dpkg')
 	task.args.append('update')
 	task = Task.LoggingTask(job, "Install " + package)
-	task.setTool('opkg')
+	task.setTool('dpkg')
 	task.args.append('install')
 	task.args.append(package)
 
diff -ruN o/lib/python/Components/HdmiCec.py pc/lib/python/Components/HdmiCec.py
--- o/lib/python/Components/HdmiCec.py	2020-08-01 17:47:17.163609614 +0300
+++ pc/lib/python/Components/HdmiCec.py	2020-11-01 12:15:23.013275052 +0300
@@ -6,7 +6,7 @@
 from enigma import eTimer
 from sys import maxint
 
-LOGPATH="/hdd/"
+LOGPATH="/media/hdd/"
 LOGFILE="hdmicec.log"
 
 # CEC Version's table
diff -ruN o/lib/python/Components/ImportChannels.py pc/lib/python/Components/ImportChannels.py
--- o/lib/python/Components/ImportChannels.py	2020-10-08 17:00:52.518646103 +0300
+++ pc/lib/python/Components/ImportChannels.py	2020-11-01 12:15:23.016275107 +0300
@@ -68,7 +68,7 @@
 				return
 			print "[Import Channels] Get EPG Location"
 			try:
-				epgdatfile = self.getFallbackSettingsValue(settings, "config.misc.epgcache_filename") or "/hdd/epg.dat"
+				epgdatfile = self.getFallbackSettingsValue(settings, "config.misc.epgcache_filename") or "/media/hdd/epg.dat"
 				try:
 					files = [file for file in loads(self.getUrl("%s/file?dir=%s" % (self.url, os.path.dirname(epgdatfile))).read())["files"] if os.path.basename(file).startswith(os.path.basename(epgdatfile))]
 				except:
diff -ruN o/lib/python/Components/InputDevice.py pc/lib/python/Components/InputDevice.py
--- o/lib/python/Components/InputDevice.py	2020-08-01 17:47:17.163609614 +0300
+++ pc/lib/python/Components/InputDevice.py	2020-11-01 12:15:23.023275237 +0300
@@ -40,7 +40,6 @@
 				self.name = self.name[:self.name.find("\0")]
 				os.close(self.fd)
 			except (IOError,OSError), err:
-				print "[InputDevice] getInputDevices " + evdev + " <ERROR: ioctl(EVIOCGNAME): " + str(err) + " >"
 				self.name = None
 
 			if self.name:
@@ -197,9 +196,9 @@
 
 class RcTypeControl():
 	def __init__(self):
-		if SystemInfo["RcTypeChangable"] and os.path.exists('/proc/stb/info/boxtype'):
+		if SystemInfo["RcTypeChangable"] and os.path.exists('/usr/local/e2/etc/stb/info/boxtype'):
 			self.isSupported = True
-			self.boxType = open('/proc/stb/info/boxtype', 'r').read().strip()
+			self.boxType = open('/usr/local/e2/etc/stb/info/boxtype', 'r').read().strip()
 			if config.plugins.remotecontroltype.rctype.value != 0:
 				self.writeRcType(config.plugins.remotecontroltype.rctype.value)
 		else:
@@ -213,12 +212,12 @@
 
 	def writeRcType(self, rctype):
 		if self.isSupported and rctype > 0:
-			open('/proc/stb/ir/rc/type', 'w').write('%d' % rctype)
+			open('/usr/local/e2/etc/stb/ir/rc/type', 'w').write('%d' % rctype)
 
 	def readRcType(self):
 		rc = 0
 		if self.isSupported:
-			rc = open('/proc/stb/ir/rc/type', 'r').read().strip()
+			rc = open('/usr/local/e2/etc/stb/ir/rc/type', 'r').read().strip()
 		return int(rc)
 
 iRcTypeControl = RcTypeControl()
diff -ruN o/lib/python/Components/NimManager.py pc/lib/python/Components/NimManager.py
--- o/lib/python/Components/NimManager.py	2020-09-01 15:30:28.290751673 +0300
+++ pc/lib/python/Components/NimManager.py	2020-11-01 12:15:23.026275293 +0300
@@ -540,7 +540,7 @@
 				types.remove("DVB-S")
 			if len(types) > 1:
 				self.multi_type = {}
-				self.combined = not(os.path.exists("/proc/stb/frontend/%d/mode" % self.frontend_id) or self.isFBCTuner())
+				self.combined = not(os.path.exists("/usr/local/e2/etc/stb/frontend/%d/mode" % self.frontend_id) or self.isFBCTuner())
 				for type in types:
 					self.multi_type[str(types.index(type))] = type
 
@@ -606,12 +606,12 @@
 	def setInternalLink(self):
 		if self.internally_connectable is not None:
 			print "[NIM] setting internal link on frontend id", self.frontend_id
-			open("/proc/stb/frontend/%d/rf_switch" % self.frontend_id, "w").write("internal")
+			open("/usr/local/e2/etc/stb/frontend/%d/rf_switch" % self.frontend_id, "w").write("internal")
 
 	def removeInternalLink(self):
 		if self.internally_connectable is not None:
 			print "[NIM] removing internal link on frontend id", self.frontend_id
-			open("/proc/stb/frontend/%d/rf_switch" % self.frontend_id, "w").write("external")
+			open("/usr/local/e2/etc/stb/frontend/%d/rf_switch" % self.frontend_id, "w").write("external")
 
 	def isMultiType(self):
 		return not self.isCombined() and bool(len(self.multi_type))
@@ -637,7 +637,7 @@
 
 	def isT2MI(self):
 		# Check if t2mi feature exists using procfs due to missing FE_CAN_T2MI in DVB API
-		return os.path.exists("/proc/stb/frontend/%d/t2mi" % self.frontend_id)
+		return os.path.exists("/usr/local/e2/etc/stb/frontend/%d/t2mi" % self.frontend_id)
 
 	def supportsBlindScan(self):
 		return self.supports_blind_scan
@@ -647,7 +647,7 @@
 		return self.multi_type
 
 	def isFBCTuner(self):
-		return self.frontend_id is not None and (self.frontend_id/8 + 1) * 8 <= self.number_of_slots and os.access("/proc/stb/frontend/%d/fbc_id" % self.frontend_id, os.F_OK)
+		return self.frontend_id is not None and (self.frontend_id/8 + 1) * 8 <= self.number_of_slots and os.access("/usr/local/e2/etc/stb/frontend/%d/fbc_id" % self.frontend_id, os.F_OK)
 
 	def isFBCRoot(self):
 		return self.isFBCTuner() and (self.slot % 8 < (self.getType() == "DVB-C" and 1 or 2))
@@ -674,7 +674,7 @@
 		if self.isFBCTuner():
 			return "%s-%s: %s" % (self.getSlotName(self.slot & ~7), self.getSlotID((self.slot & ~7) + 7), self.getFullDescription())
 		#compress by combining dual tuners by checking if the next tuner has a rf switch
-		elif self.frontend_id is not None and self.number_of_slots > self.frontend_id + 1 and os.access("/proc/stb/frontend/%d/rf_switch" % (self.frontend_id + 1), os.F_OK):
+		elif self.frontend_id is not None and self.number_of_slots > self.frontend_id + 1 and os.access("/usr/local/e2/etc/stb/frontend/%d/rf_switch" % (self.frontend_id + 1), os.F_OK):
 			return "%s-%s: %s" % (self.slot_name, self.getSlotID(self.slot + 1), self.getFullDescription())
 		return self.getFriendlyFullDescription()
 
@@ -800,9 +800,9 @@
 			db.readATSC(self.atscList, self.transpondersatsc)
 
 	def enumerateNIMs(self):
-		# enum available NIMs. This is currently very dreambox-centric and uses the /proc/bus/nim_sockets interface.
+		# enum available NIMs. This is currently very dreambox-centric and uses the /usr/local/e2/etc/tuxbox/nim_sockets interface.
 		# the result will be stored into nim_slots.
-		# the content of /proc/bus/nim_sockets looks like:
+		# the content of /usr/local/e2/etc/tuxbox/nim_sockets looks like:
 		# NIM Socket 0:
 		#          Type: DVB-S
 		#          Name: BCM4501 DVB-S2 NIM (internal)
@@ -823,7 +823,7 @@
 		self.nim_slots = [ ]
 
 		try:
-			nimfile = open("/proc/bus/nim_sockets")
+			nimfile = open("/usr/local/e2/etc/tuxbox/nim_sockets")
 		except IOError:
 			return
 
@@ -883,7 +883,7 @@
 			if "has_outputs" not in entry:
 				entry["has_outputs"] = True
 			if "frontend_device" in entry: # check if internally connectable
-				if os.path.exists("/proc/stb/frontend/%d/rf_switch" % entry["frontend_device"]) and (not id or entries[id]["name"] == entries[id - 1]["name"]):
+				if os.path.exists("/usr/local/e2/etc/stb/frontend/%d/rf_switch" % entry["frontend_device"]) and (not id or entries[id]["name"] == entries[id - 1]["name"]):
 					entry["internally_connectable"] = entry["frontend_device"] - 1
 				else:
 					entry["internally_connectable"] = None
@@ -1423,19 +1423,19 @@
 	def scpcSearchRangeChanged(configElement):
 		fe_id = configElement.fe_id
 		slot_id = configElement.slot_id
-		if os.path.exists("/proc/stb/frontend/%d/use_scpc_optimized_search_range" % fe_id):
-			open("/proc/stb/frontend/%d/use_scpc_optimized_search_range" % (fe_id), "w").write(configElement.value)
+		if os.path.exists("/usr/local/e2/etc/stb/frontend/%d/use_scpc_optimized_search_range" % fe_id):
+			open("/usr/local/e2/etc/stb/frontend/%d/use_scpc_optimized_search_range" % (fe_id), "w").write(configElement.value)
 
 	def toneAmplitudeChanged(configElement):
 		fe_id = configElement.fe_id
 		slot_id = configElement.slot_id
-		if os.path.exists("/proc/stb/frontend/%d/tone_amplitude" % fe_id):
-			open("/proc/stb/frontend/%d/tone_amplitude" %(fe_id), "w").write(configElement.value)
+		if os.path.exists("/usr/local/e2/etc/stb/frontend/%d/tone_amplitude" % fe_id):
+			open("/usr/local/e2/etc/stb/frontend/%d/tone_amplitude" %(fe_id), "w").write(configElement.value)
 
 	def t2miRawModeChanged(configElement):
 		slot = configElement.slot
-		if os.path.exists("/proc/stb/frontend/%d/t2mirawmode" % slot):
-			open("/proc/stb/frontend/%d/t2mirawmode" % slot, "w").write(configElement.value)
+		if os.path.exists("/usr/local/e2/etc/stb/frontend/%d/t2mirawmode" % slot):
+			open("/usr/local/e2/etc/stb/frontend/%d/t2mirawmode" % slot, "w").write(configElement.value)
 
 	def createSatConfig(nim, slot_id):
 		nim.toneAmplitude = ConfigSelection([("11", "340mV"), ("10", "360mV"), ("9", "600mV"), ("8", "700mV"), ("7", "800mV"), ("6", "900mV"), ("5", "1100mV")], "7")
@@ -1570,14 +1570,14 @@
 						print "[InitNimManager] %d: tunerTypeChanged to '%s' failed (BUSY)" %(fe_id, configElement.getText())
 						return
 				frontend = raw_channel.getFrontend()
-				is_changed_mode = os.path.exists("/proc/stb/frontend/%d/mode" % fe_id)
+				is_changed_mode = os.path.exists("/usr/local/e2/etc/stb/frontend/%d/mode" % fe_id)
 				if not is_changed_mode and frontend.setDeliverySystem(nimmgr.nim_slots[fe_id].getType()):
 					print "[InitNimManager] tunerTypeChanged feid %d to mode %d" % (fe_id, int(configElement.value))
 					InitNimManager(nimmgr, [fe_id])
 					if not hasattr(config.misc, 'firstrun') or not config.misc.firstrun.value:
 						configElement.save()
 				elif is_changed_mode:
-					cur_type = int(open("/proc/stb/frontend/%d/mode" % (fe_id), "r").read())
+					cur_type = int(open("/usr/local/e2/etc/stb/frontend/%d/mode" % (fe_id), "r").read())
 					if cur_type != int(configElement.value):
 						print "[InitNimManager] tunerTypeChanged feid %d from %d to mode %d" % (fe_id, cur_type, int(configElement.value))
 
@@ -1590,7 +1590,7 @@
 								print "[InitNimManager] tunerTypeChanged read /sys/module/dvb_core/parameters/dvb_shutdown_timeout failed"
 
 						frontend.closeFrontend()
-						open("/proc/stb/frontend/%d/mode" % (fe_id), "w").write(configElement.value)
+						open("/usr/local/e2/etc/stb/frontend/%d/mode" % (fe_id), "w").write(configElement.value)
 						frontend.reopenFrontend()
 
 						if is_dvb_shutdown_timeout:
diff -ruN o/lib/python/Components/Opkg.py pc/lib/python/Components/Opkg.py
--- o/lib/python/Components/Opkg.py	2020-08-01 17:47:17.164609579 +0300
+++ pc/lib/python/Components/Opkg.py	2020-11-01 12:15:23.027275311 +0300
@@ -24,10 +24,10 @@
 		if why == 'add':
 			if opkgStatusPath == '':
 				# recent opkg versions
-				opkgStatusPath = 'var/lib/opkg/status'
+				opkgStatusPath = 'var/lib/dpkg/status'
 				if not os.path.exists(os.path.join('/', opkgStatusPath)):
 					# older opkg versions
-					opkgStatusPath = resolveFilename(SCOPE_LIBDIR, 'opkg/status')
+					opkgStatusPath = resolveFilename(SCOPE_LIBDIR, 'dpkg/status')
 			if os.path.exists(os.path.join(mountpoint, opkgStatusPath)):
 				opkgAddDestination(mountpoint)
 		elif why == 'remove':
@@ -38,10 +38,10 @@
 				pass
 
 def enumFeeds():
-	for fn in os.listdir('/etc/opkg'):
+	for fn in os.listdir('/etc/dpkg'):
 		if fn.endswith('-feed.conf'):
 			try:
-				for feed in open(os.path.join('/etc/opkg', fn)):
+				for feed in open(os.path.join('/etc/dpkg', fn)):
 					yield feed.split()[1]
 			except IndexError:
 				pass
@@ -84,14 +84,14 @@
 
 def listsDirPath():
 	try:
-		for line in open('/etc/opkg/opkg.conf', "r"):
+		for line in open('/etc/dpkg/dpkg.conf', "r"):
 			if line.startswith('option'):
 				line = line.split(' ', 2)
 				if len(line) > 2 and line[1] == ('lists_dir'):
 					return line[2].strip()
 	except Exception, ex:
 		print "[opkg]", ex
-	return '/var/lib/opkg/lists'
+	return '/var/lib/dpkg/lists'
 
 if __name__ == '__main__':
 	for p in enumPlugins('enigma'):
@@ -147,7 +147,7 @@
 			append = ""
 			if args["test_only"]:
 				append = " -test"
-			self.runCmdEx("upgrade %s | tee /home/root/opkgupgrade.log" % append)
+			self.runCmdEx("upgrade %s | tee /home/hdd/dpkgupgrade.log" % append)
 		elif cmd == self.CMD_LIST:
 			self.fetchedList = []
 			if args['installed_only']:
diff -ruN o/lib/python/Components/ParentalControlList.py pc/lib/python/Components/ParentalControlList.py
--- o/lib/python/Components/ParentalControlList.py	1970-01-01 03:00:00.000000000 +0300
+++ pc/lib/python/Components/ParentalControlList.py	2020-11-01 12:15:23.027275311 +0300
@@ -0,0 +1,45 @@
+from MenuList import MenuList
+from Components.ParentalControl import IMG_WHITESERVICE, IMG_WHITEBOUQUET, IMG_BLACKSERVICE, IMG_BLACKBOUQUET
+from Tools.Directories import SCOPE_SKIN_IMAGE, resolveFilename
+
+from enigma import eListboxPythonMultiContent, gFont, RT_HALIGN_LEFT
+from Tools.LoadPixmap import LoadPixmap
+
+#Now there is a list of pictures instead of one...
+entryPicture = {}
+
+entryPicture[IMG_BLACKSERVICE] = LoadPixmap(resolveFilename(SCOPE_SKIN_IMAGE, "skin_default/icons/lock.png"))
+entryPicture[IMG_BLACKBOUQUET] = LoadPixmap(resolveFilename(SCOPE_SKIN_IMAGE, "skin_default/icons/lockBouquet.png"))
+entryPicture[IMG_WHITESERVICE] = LoadPixmap(resolveFilename(SCOPE_SKIN_IMAGE, "skin_default/icons/unlock.png"))
+entryPicture[IMG_WHITEBOUQUET] = LoadPixmap(resolveFilename(SCOPE_SKIN_IMAGE, "skin_default/icons/unlockBouquet.png"))
+
+def ParentalControlEntryComponent(service, name, protectionType):
+	locked = protectionType[0]
+	sImage = protectionType[1]
+	res = [
+		(service, name, locked),
+		(eListboxPythonMultiContent.TYPE_TEXT, 80, 5, 300, 50, 0, RT_HALIGN_LEFT, name)
+	]
+	#Changed logic: The image is defined by sImage, not by locked anymore
+	if sImage != "":
+		res.append((eListboxPythonMultiContent.TYPE_PIXMAP_ALPHATEST, 0, 0, 32, 32, entryPicture[sImage]))
+	return res
+
+class ParentalControlList(MenuList):
+	def __init__(self, list, enableWrapAround = False):
+		MenuList.__init__(self, list, enableWrapAround, eListboxPythonMultiContent)
+		self.l.setFont(0, gFont("Regular", 20))
+		self.l.setItemHeight(32)
+
+	def toggleSelectedLock(self):
+		from Components.ParentalControl import parentalControl
+		print "self.l.getCurrentSelection():", self.l.getCurrentSelection()
+		print "self.l.getCurrentSelectionIndex():", self.l.getCurrentSelectionIndex()
+		curSel = self.l.getCurrentSelection()
+		if curSel[0][2]:
+			parentalControl.unProtectService(self.l.getCurrentSelection()[0][0])
+		else:
+			parentalControl.protectService(self.l.getCurrentSelection()[0][0])
+		#Instead of just negating the locked- flag, now I call the getProtectionType every time...
+		self.list[self.l.getCurrentSelectionIndex()] = ParentalControlEntryComponent(curSel[0][0], curSel[0][1], parentalControl.getProtectionType(curSel[0][0]))
+		self.l.setList(self.list)
diff -ruN o/lib/python/Components/PluginComponent.py pc/lib/python/Components/PluginComponent.py
--- o/lib/python/Components/PluginComponent.py	2020-08-01 17:47:17.164609579 +0300
+++ pc/lib/python/Components/PluginComponent.py	2020-11-01 12:15:23.027275311 +0300
@@ -54,7 +54,7 @@
 						except Exception, exc:
 							print "Plugin ", c + "/" + pluginname, "failed to load:", exc
 							# supress errors due to missing plugin.py* files (badly removed plugin)
-							for fn in ('plugin.py', 'plugin.pyo'):
+							for fn in ('plugin.py', 'plugin.pyc'):
 								if os.path.exists(os.path.join(path, fn)):
 									self.warnings.append( (c + "/" + pluginname, str(exc)) )
 									from traceback import print_exc
diff -ruN o/lib/python/Components/RcModel.py pc/lib/python/Components/RcModel.py
--- o/lib/python/Components/RcModel.py	2020-08-01 17:47:17.164609579 +0300
+++ pc/lib/python/Components/RcModel.py	2020-11-01 12:15:23.028275330 +0300
@@ -20,8 +20,8 @@
 
 	def getRcFile(self, ext):
 		# check for rc/type every time so rctype changes will be noticed
-		if os.path.exists('/proc/stb/ir/rc/type'):
-			rc = open('/proc/stb/ir/rc/type').read().strip()
+		if os.path.exists('/usr/local/e2/etc/stb/ir/rc/type'):
+			rc = open('/usr/local/e2/etc/stb/ir/rc/type').read().strip()
 			modeltype = '%s.%s' % (self.model, rc)
 		else:
 			modeltype = None
diff -ruN o/lib/python/Components/Renderer/FrontpanelLed.py pc/lib/python/Components/Renderer/FrontpanelLed.py
--- o/lib/python/Components/Renderer/FrontpanelLed.py	2020-08-01 17:47:17.165609544 +0300
+++ pc/lib/python/Components/Renderer/FrontpanelLed.py	2020-11-01 12:15:23.039275533 +0300
@@ -17,16 +17,16 @@
 		(speed, pattern, pattern_4bit) = self.patterns[val]
 
 		try:
-			open("/proc/stb/fp/led%d_pattern" % self.which, "w").write("%08x" % pattern)
+			open("/usr/local/e2/etc/stb/fp/led%d_pattern" % self.which, "w").write("%08x" % pattern)
 		except IOError:
 			pass
 		if self.which == 0:
 			try:
-				open("/proc/stb/fp/led_set_pattern", "w").write("%08x" % pattern_4bit)
-				open("/proc/stb/fp/led_set_speed", "w").write("%d" % speed)
+				open("/usr/local/e2/etc/stb/fp/led_set_pattern", "w").write("%08x" % pattern_4bit)
+				open("/usr/local/e2/etc/stb/fp/led_set_speed", "w").write("%d" % speed)
 			except IOError:
 				pass
 			try:
-				open("/proc/stb/fp/led_pattern_speed", "w").write("%d" % speed)
+				open("/usr/local/e2/etc/stb/fp/led_pattern_speed", "w").write("%d" % speed)
 			except IOError:
 				pass
diff -ruN o/lib/python/Components/Renderer/NextEpgInfo.py pc/lib/python/Components/Renderer/NextEpgInfo.py
--- o/lib/python/Components/Renderer/NextEpgInfo.py	2020-08-01 17:47:17.165609544 +0300
+++ pc/lib/python/Components/Renderer/NextEpgInfo.py	2020-11-01 12:15:23.040275552 +0300
@@ -32,15 +32,11 @@
 					if event:
 						if self.hideLabel:
 							self.text = "%s%s%s%s%s" % (self.timecolor, strftime("%H:%M", localtime(event.getBeginTime())), spaces, self.foregroundColor, event.getEventName())
-						else:
-							self.text = "%s%s:%s%s%s" % (self.labelcolor, pgettext("now/next: 'next' event label", "Next"), spaces, self.foregroundColor, event.getEventName())
 				else:
 					for x in range(self.numberOfItems):
 						event = self.epgcache.getNextTimeEntry()
 						if event:
 							self.text += "%s%s%s%s%s\n" % (self.timecolor, strftime("%H:%M", localtime(event.getBeginTime())), spaces, self.foregroundColor, event.getEventName())
-					if not self.hideLabel:
-						self.text = self.text and "%s%s\n%s" % (self.labelcolor, pgettext("now/next: 'next' event label", "Next"), self.text) or ""
 
 	def applySkin(self, desktop, parent):
 		attribs = []
diff -ruN o/lib/python/Components/Sensors.py pc/lib/python/Components/Sensors.py
--- o/lib/python/Components/Sensors.py	2020-08-01 17:47:17.165609544 +0300
+++ pc/lib/python/Components/Sensors.py	2020-11-01 12:15:23.040275552 +0300
@@ -51,12 +51,12 @@
 
 	def addSensors(self):
 		import os
-		if os.path.exists("/proc/stb/sensors"):
-			for dirname in os.listdir("/proc/stb/sensors"):
+		if os.path.exists("/usr/local/e2/etc/stb/sensors"):
+			for dirname in os.listdir("/usr/local/e2/etc/stb/sensors"):
 				if dirname.find("temp", 0, 4) == 0:
-					name = open("/proc/stb/sensors/%s/name" % dirname, "r").readline().strip()
-					unit = open("/proc/stb/sensors/%s/unit" % dirname, "r").readline().strip()
-					self.sensors_list.append((self.TYPE_TEMPERATURE, name, unit, "/proc/stb/sensors/%s" % dirname))
+					name = open("/usr/local/e2/etc/stb/sensors/%s/name" % dirname, "r").readline().strip()
+					unit = open("/usr/local/e2/etc/stb/sensors/%s/unit" % dirname, "r").readline().strip()
+					self.sensors_list.append((self.TYPE_TEMPERATURE, name, unit, "/usr/local/e2/etc/stb/sensors/%s" % dirname))
 		for fanid in range(fancontrol.getFanCount()):
 			if fancontrol.hasRPMSensor(fanid):
 				self.sensors_list.append((self.TYPE_FAN_RPM, _("Fan %d") % (fanid + 1), "rpm", fanid))
diff -ruN o/lib/python/Components/Sources/List.py pc/lib/python/Components/Sources/List.py
--- o/lib/python/Components/Sources/List.py	2020-08-01 17:47:17.166609510 +0300
+++ pc/lib/python/Components/Sources/List.py	2020-11-01 12:15:23.041275571 +0300
@@ -99,7 +99,6 @@
 
 	def updateList(self, list):
 		"""Changes the list without changing the selection or emitting changed Events"""
-		assert len(list) == len(self.__list)
 		old_index = self.index
 		self.disable_callbacks = True
 		self.list = list
diff -ruN o/lib/python/Components/SystemInfo.py pc/lib/python/Components/SystemInfo.py
--- o/lib/python/Components/SystemInfo.py	2020-11-01 12:09:51.536828886 +0300
+++ pc/lib/python/Components/SystemInfo.py	2020-11-01 12:19:07.955507458 +0300
@@ -21,8 +21,8 @@
 	return numVideoDecoders
 
 def countFrontpanelLEDs():
-	numLeds = fileExists("/proc/stb/fp/led_set_pattern") and 1 or 0
-	while fileExists("/proc/stb/fp/led%d_pattern" % numLeds):
+	numLeds = fileExists("/usr/local/e2/etc/stb/fp/led_set_pattern") and 1 or 0
+	while fileExists("/usr/local/e2/etc/stb/fp/led%d_pattern" % numLeds):
 		numLeds += 1
 	return numLeds
 
@@ -40,91 +40,91 @@
 model = HardwareInfo().get_device_model()
 SystemInfo["InDebugMode"] = eGetEnigmaDebugLvl() >= 4
 SystemInfo["CommonInterface"] = eDVBCIInterfaces.getInstance().getNumOfSlots()
-SystemInfo["CommonInterfaceCIDelay"] = fileCheck("/proc/stb/tsmux/rmx_delay")
+SystemInfo["CommonInterfaceCIDelay"] = fileCheck("/usr/local/e2/etc/stb/tsmux/rmx_delay")
 for cislot in range(0, SystemInfo["CommonInterface"]):
-	SystemInfo["CI%dSupportsHighBitrates" % cislot] = fileCheck("/proc/stb/tsmux/ci%d_tsclk" % cislot)
-	SystemInfo["CI%dRelevantPidsRoutingSupport" % cislot] = fileCheck("/proc/stb/tsmux/ci%d_relevant_pids_routing" % cislot)
+	SystemInfo["CI%dSupportsHighBitrates" % cislot] = fileCheck("/usr/local/e2/etc/stb/tsmux/ci%d_tsclk" % cislot)
+	SystemInfo["CI%dRelevantPidsRoutingSupport" % cislot] = fileCheck("/usr/local/e2/etc/stb/tsmux/ci%d_relevant_pids_routing" % cislot)
 SystemInfo["HasSoftcamInstalled"] = hassoftcaminstalled()
 SystemInfo["NumVideoDecoders"] = getNumVideoDecoders()
 SystemInfo["PIPAvailable"] = SystemInfo["NumVideoDecoders"] > 1
 SystemInfo["CanMeasureFrontendInputPower"] = eDVBResourceManager.getInstance().canMeasureFrontendInputPower()
 SystemInfo["12V_Output"] = Misc_Options.getInstance().detected_12V_output()
-SystemInfo["ZapMode"] = fileCheck("/proc/stb/video/zapmode") or fileCheck("/proc/stb/video/zapping_mode")
+SystemInfo["ZapMode"] = fileCheck("/usr/local/e2/etc/stb/video/zapmode") or fileCheck("/usr/local/e2/etc/stb/video/zapping_mode")
 SystemInfo["NumFrontpanelLEDs"] = countFrontpanelLEDs()
 SystemInfo["FrontpanelDisplay"] = fileExists("/dev/dbox/oled0") or fileExists("/dev/dbox/lcd0")
-SystemInfo["LCDsymbol_circle_recording"] = fileCheck("/proc/stb/lcd/symbol_circle") or model in ("hd51", "vs1500") and fileCheck("/proc/stb/lcd/symbol_recording")
-SystemInfo["LCDsymbol_timeshift"] = fileCheck("/proc/stb/lcd/symbol_timeshift")
-SystemInfo["LCDshow_symbols"] = (model.startswith("et9") or model in ("hd51", "vs1500")) and fileCheck("/proc/stb/lcd/show_symbols")
-SystemInfo["LCDsymbol_hdd"] = model in ("hd51", "vs1500") and fileCheck("/proc/stb/lcd/symbol_hdd")
+SystemInfo["LCDsymbol_circle_recording"] = fileCheck("/usr/local/e2/etc/stb/lcd/symbol_circle") or model in ("hd51", "vs1500") and fileCheck("/usr/local/e2/etc/stb/lcd/symbol_recording")
+SystemInfo["LCDsymbol_timeshift"] = fileCheck("/usr/local/e2/etc/stb/lcd/symbol_timeshift")
+SystemInfo["LCDshow_symbols"] = (model.startswith("et9") or model in ("hd51", "vs1500")) and fileCheck("/usr/local/e2/etc/stb/lcd/show_symbols")
+SystemInfo["LCDsymbol_hdd"] = model in ("hd51", "vs1500") and fileCheck("/usr/local/e2/etc/stb/lcd/symbol_hdd")
 SystemInfo["FrontpanelDisplayGrayscale"] = fileExists("/dev/dbox/oled0")
 SystemInfo["DeepstandbySupport"] = HardwareInfo().get_device_name() != "dm800"
-SystemInfo["Fan"] = fileCheck("/proc/stb/fp/fan")
-SystemInfo["FanPWM"] = SystemInfo["Fan"] and fileCheck("/proc/stb/fp/fan_pwm")
-SystemInfo["PowerLED"] = fileCheck("/proc/stb/power/powerled")
-SystemInfo["StandbyLED"] = fileCheck("/proc/stb/power/standbyled")
-SystemInfo["SuspendLED"] = fileCheck("/proc/stb/power/suspendled")
+SystemInfo["Fan"] = fileCheck("/usr/local/e2/etc/stb/fp/fan")
+SystemInfo["FanPWM"] = SystemInfo["Fan"] and fileCheck("/usr/local/e2/etc/stb/fp/fan_pwm")
+SystemInfo["PowerLED"] = fileCheck("/usr/local/e2/etc/stb/power/powerled")
+SystemInfo["StandbyLED"] = fileCheck("/usr/local/e2/etc/stb/power/standbyled")
+SystemInfo["SuspendLED"] = fileCheck("/usr/local/e2/etc/stb/power/suspendled")
 SystemInfo["Display"] = SystemInfo["FrontpanelDisplay"] or SystemInfo["StandbyLED"]
-SystemInfo["LedPowerColor"] = fileCheck("/proc/stb/fp/ledpowercolor")
-SystemInfo["LedStandbyColor"] = fileCheck("/proc/stb/fp/ledstandbycolor")
-SystemInfo["LedSuspendColor"] = fileCheck("/proc/stb/fp/ledsuspendledcolor")
-SystemInfo["Power4x7On"] = fileCheck("/proc/stb/fp/power4x7on")
-SystemInfo["Power4x7Standby"] = fileCheck("/proc/stb/fp/power4x7standby")
-SystemInfo["Power4x7Suspend"] = fileCheck("/proc/stb/fp/power4x7suspend")
-SystemInfo["PowerOffDisplay"] = model not in "formuler1" and fileCheck("/proc/stb/power/vfd") or fileCheck("/proc/stb/lcd/vfd")
-SystemInfo["WakeOnLAN"] = not model.startswith("et8000") and fileCheck("/proc/stb/power/wol") or fileCheck("/proc/stb/fp/wol")
-SystemInfo["HasExternalPIP"] = not (model.startswith("et9") or model in ("e4hd",)) and fileCheck("/proc/stb/vmpeg/1/external")
-SystemInfo["VideoDestinationConfigurable"] = fileExists("/proc/stb/vmpeg/0/dst_left")
-SystemInfo["hasPIPVisibleProc"] = fileCheck("/proc/stb/vmpeg/1/visible")
+SystemInfo["LedPowerColor"] = fileCheck("/usr/local/e2/etc/stb/fp/ledpowercolor")
+SystemInfo["LedStandbyColor"] = fileCheck("/usr/local/e2/etc/stb/fp/ledstandbycolor")
+SystemInfo["LedSuspendColor"] = fileCheck("/usr/local/e2/etc/stb/fp/ledsuspendledcolor")
+SystemInfo["Power4x7On"] = fileCheck("/usr/local/e2/etc/stb/fp/power4x7on")
+SystemInfo["Power4x7Standby"] = fileCheck("/usr/local/e2/etc/stb/fp/power4x7standby")
+SystemInfo["Power4x7Suspend"] = fileCheck("/usr/local/e2/etc/stb/fp/power4x7suspend")
+SystemInfo["PowerOffDisplay"] = model not in "formuler1" and fileCheck("/usr/local/e2/etc/stb/power/vfd") or fileCheck("/usr/local/e2/etc/stb/lcd/vfd")
+SystemInfo["WakeOnLAN"] = not model.startswith("et8000") and fileCheck("/usr/local/e2/etc/stb/power/wol") or fileCheck("/usr/local/e2/etc/stb/fp/wol")
+SystemInfo["HasExternalPIP"] = not (model.startswith("et9") or model in ("e4hd",)) and fileCheck("/usr/local/e2/etc/stb/vmpeg/1/external")
+SystemInfo["VideoDestinationConfigurable"] = fileExists("/usr/local/e2/etc/stb/vmpeg/0/dst_left")
+SystemInfo["hasPIPVisibleProc"] = fileCheck("/usr/local/e2/etc/stb/vmpeg/1/visible")
 SystemInfo["MaxPIPSize"] = model in ("hd51", "h7", "vs1500", "e4hd") and (360, 288) or (540, 432)
-SystemInfo["VFD_scroll_repeats"] = not model.startswith("et8500") and fileCheck("/proc/stb/lcd/scroll_repeats")
-SystemInfo["VFD_scroll_delay"] = not model.startswith("et8500") and fileCheck("/proc/stb/lcd/scroll_delay")
-SystemInfo["VFD_initial_scroll_delay"] = not model.startswith("et8500") and fileCheck("/proc/stb/lcd/initial_scroll_delay")
-SystemInfo["VFD_final_scroll_delay"] = not model.startswith("et8500") and fileCheck("/proc/stb/lcd/final_scroll_delay")
-SystemInfo["LcdLiveTV"] = fileCheck("/proc/stb/fb/sd_detach") or fileCheck("/proc/stb/lcd/live_enable")
-SystemInfo["LcdLiveTVMode"] = fileCheck("/proc/stb/lcd/mode")
-SystemInfo["LcdLiveDecoder"] = fileCheck("/proc/stb/lcd/live_decoder")
+SystemInfo["VFD_scroll_repeats"] = not model.startswith("et8500") and fileCheck("/usr/local/e2/etc/stb/lcd/scroll_repeats")
+SystemInfo["VFD_scroll_delay"] = not model.startswith("et8500") and fileCheck("/usr/local/e2/etc/stb/lcd/scroll_delay")
+SystemInfo["VFD_initial_scroll_delay"] = not model.startswith("et8500") and fileCheck("/usr/local/e2/etc/stb/lcd/initial_scroll_delay")
+SystemInfo["VFD_final_scroll_delay"] = not model.startswith("et8500") and fileCheck("/usr/local/e2/etc/stb/lcd/final_scroll_delay")
+SystemInfo["LcdLiveTV"] = fileCheck("/usr/local/e2/etc/stb/fb/sd_detach") or fileCheck("/usr/local/e2/etc/stb/lcd/live_enable")
+SystemInfo["LcdLiveTVMode"] = fileCheck("/usr/local/e2/etc/stb/lcd/mode")
+SystemInfo["LcdLiveDecoder"] = fileCheck("/usr/local/e2/etc/stb/lcd/live_decoder")
 SystemInfo["FastChannelChange"] = False
-SystemInfo["3DMode"] = fileCheck("/proc/stb/fb/3dmode") or fileCheck("/proc/stb/fb/primary/3d")
-SystemInfo["3DZNorm"] = fileCheck("/proc/stb/fb/znorm") or fileCheck("/proc/stb/fb/primary/zoffset")
-SystemInfo["Blindscan_t2_available"] = fileCheck("/proc/stb/info/vumodel")
-SystemInfo["RcTypeChangable"] = not(model.startswith("et8500") or model.startswith("et7")) and pathExists("/proc/stb/ir/rc/type")
+SystemInfo["3DMode"] = fileCheck("/usr/local/e2/etc/stb/fb/3dmode") or fileCheck("/usr/local/e2/etc/stb/fb/primary/3d")
+SystemInfo["3DZNorm"] = fileCheck("/usr/local/e2/etc/stb/fb/znorm") or fileCheck("/usr/local/e2/etc/stb/fb/primary/zoffset")
+SystemInfo["Blindscan_t2_available"] = fileCheck("/usr/local/e2/etc/stb/info/vumodel")
+SystemInfo["RcTypeChangable"] = not(model.startswith("et8500") or model.startswith("et7")) and pathExists("/usr/local/e2/etc/stb/ir/rc/type")
 SystemInfo["HasFullHDSkinSupport"] = model not in ("et4000", "et5000", "sh1", "hd500c", "hd1100", "xp1000", "lc")
-SystemInfo["HasBypassEdidChecking"] = fileCheck("/proc/stb/hdmi/bypass_edid_checking")
-SystemInfo["HasColorspace"] = fileCheck("/proc/stb/video/hdmi_colorspace")
+SystemInfo["HasBypassEdidChecking"] = fileCheck("/usr/local/e2/etc/stb/hdmi/bypass_edid_checking")
+SystemInfo["HasColorspace"] = fileCheck("/usr/local/e2/etc/stb/video/hdmi_colorspace")
 SystemInfo["HasColorspaceSimple"] = SystemInfo["HasColorspace"] and model in "vusolo4k"
-SystemInfo["HasMultichannelPCM"] = fileCheck("/proc/stb/audio/multichannel_pcm")
+SystemInfo["HasMultichannelPCM"] = fileCheck("/usr/local/e2/etc/stb/audio/multichannel_pcm")
 SystemInfo["HasMMC"] = "root" in cmdline and cmdline["root"].startswith("/dev/mmcblk")
-SystemInfo["HasTranscoding"] = pathExists("/proc/stb/encoder/0") or fileCheck("/dev/bcm_enc0")
-SystemInfo["HasH265Encoder"] = fileHas("/proc/stb/encoder/0/vcodec_choices", "h265")
+SystemInfo["HasTranscoding"] = pathExists("/usr/local/e2/etc/stb/encoder/0") or fileCheck("/dev/bcm_enc0")
+SystemInfo["HasH265Encoder"] = fileHas("/usr/local/e2/etc/stb/encoder/0/vcodec_choices", "h265")
 SystemInfo["CanNotDoSimultaneousTranscodeAndPIP"] = model in "vusolo4k"
-SystemInfo["HasColordepth"] = fileCheck("/proc/stb/video/hdmi_colordepth")
+SystemInfo["HasColordepth"] = fileCheck("/usr/local/e2/etc/stb/video/hdmi_colordepth")
 SystemInfo["HasFrontDisplayPicon"] = model in ("vusolo4k", "et8500")
-SystemInfo["Has24hz"] = fileCheck("/proc/stb/video/videomode_24hz")
-SystemInfo["Has2160p"] = fileHas("/proc/stb/video/videomode_preferred", "2160p50")
-SystemInfo["HasHDMIpreemphasis"] = fileCheck("/proc/stb/hdmi/preemphasis")
-SystemInfo["HasColorimetry"] = fileCheck("/proc/stb/video/hdmi_colorimetry")
-SystemInfo["HasHdrType"] = fileCheck("/proc/stb/video/hdmi_hdrtype")
-SystemInfo["HasHDMI-CEC"] = HardwareInfo().has_hdmi() and fileExists(resolveFilename(SCOPE_PLUGINS, "SystemPlugins/HdmiCEC/plugin.pyo")) and (fileExists("/dev/cec0") or fileExists("/dev/hdmi_cec") or fileExists("/dev/misc/hdmi_cec0"))
+SystemInfo["Has24hz"] = fileCheck("/usr/local/e2/etc/stb/video/videomode_24hz")
+SystemInfo["Has2160p"] = fileHas("/usr/local/e2/etc/stb/video/videomode_preferred", "2160p50")
+SystemInfo["HasHDMIpreemphasis"] = fileCheck("/usr/local/e2/etc/stb/hdmi/preemphasis")
+SystemInfo["HasColorimetry"] = fileCheck("/usr/local/e2/etc/stb/video/hdmi_colorimetry")
+SystemInfo["HasHdrType"] = fileCheck("/usr/local/e2/etc/stb/video/hdmi_hdrtype")
+SystemInfo["HasHDMI-CEC"] = HardwareInfo().has_hdmi() and fileExists(resolveFilename(SCOPE_PLUGINS, "SystemPlugins/HdmiCEC/plugin.pyc")) and (fileExists("/dev/cec0") or fileExists("/dev/hdmi_cec") or fileExists("/dev/misc/hdmi_cec0"))
 SystemInfo["HasYPbPr"] = model in ("dm8000", "et5000", "et6000", "et6500", "et9000", "et9200", "et9500", "et10000", "formuler1", "mbtwinplus", "spycat", "vusolo", "vuduo", "vuduo2", "vuultimo")
 SystemInfo["HasScart"] = model in ("dm8000", "et4000", "et6500", "et8000", "et9000", "et9200", "et9500", "et10000", "formuler1", "hd1100", "hd1200", "hd1265", "hd2400", "vusolo", "vusolo2", "vuduo", "vuduo2", "vuultimo", "vuuno", "xp1000")
 SystemInfo["HasSVideo"] = model in ("dm8000")
 SystemInfo["HasComposite"] = model not in ("i55", "gbquad4k", "gbue4k", "hd1500", "osnino", "osninoplus", "purehd", "purehdse", "revo4k", "vusolo4k", "vuzero4k", "vuduo4k", "vuduo4kse", "vuuno4k", "vuuno4kse", "vuultimo4k",)
-SystemInfo["HasAutoVolume"] = fileExists("/proc/stb/audio/avl_choices") and fileCheck("/proc/stb/audio/avl")
-SystemInfo["HasAutoVolumeLevel"] = fileExists("/proc/stb/audio/autovolumelevel_choices") and fileCheck("/proc/stb/audio/autovolumelevel")
-SystemInfo["Has3DSurround"] = fileExists("/proc/stb/audio/3d_surround_choices") and fileCheck("/proc/stb/audio/3d_surround")
-SystemInfo["Has3DSpeaker"] = fileExists("/proc/stb/audio/3d_surround_speaker_position_choices") and fileCheck("/proc/stb/audio/3d_surround_speaker_position")
-SystemInfo["Has3DSurroundSpeaker"] = fileExists("/proc/stb/audio/3dsurround_choices") and fileCheck("/proc/stb/audio/3dsurround")
-SystemInfo["Has3DSurroundSoftLimiter"] = fileExists("/proc/stb/audio/3dsurround_softlimiter_choices") and fileCheck("/proc/stb/audio/3dsurround_softlimiter")
+SystemInfo["HasAutoVolume"] = fileExists("/usr/local/e2/etc/stb/audio/avl_choices") and fileCheck("/usr/local/e2/etc/stb/audio/avl")
+SystemInfo["HasAutoVolumeLevel"] = fileExists("/usr/local/e2/etc/stb/audio/autovolumelevel_choices") and fileCheck("/usr/local/e2/etc/stb/audio/autovolumelevel")
+SystemInfo["Has3DSurround"] = fileExists("/usr/local/e2/etc/stb/audio/3d_surround_choices") and fileCheck("/usr/local/e2/etc/stb/audio/3d_surround")
+SystemInfo["Has3DSpeaker"] = fileExists("/usr/local/e2/etc/stb/audio/3d_surround_speaker_position_choices") and fileCheck("/usr/local/e2/etc/stb/audio/3d_surround_speaker_position")
+SystemInfo["Has3DSurroundSpeaker"] = fileExists("/usr/local/e2/etc/stb/audio/3dsurround_choices") and fileCheck("/usr/local/e2/etc/stb/audio/3dsurround")
+SystemInfo["Has3DSurroundSoftLimiter"] = fileExists("/usr/local/e2/etc/stb/audio/3dsurround_softlimiter_choices") and fileCheck("/usr/local/e2/etc/stb/audio/3dsurround_softlimiter")
 SystemInfo["hasXcoreVFD"] = model in ("osmega", "spycat4k", "spycat4kmini", "spycat4kcombo") and fileCheck("/sys/module/brcmstb_%s/parameters/pt6302_cgram" % model)
 SystemInfo["HasOfflineDecoding"] = model not in ("osmini", "osminiplus", "et7000mini", "et11000", "mbmicro", "mbtwinplus", "mbmicrov2", "et7000", "et8500")
 SystemInfo["MultibootStartupDevice"] = getMultibootStartupDevice()
 SystemInfo["canMode12"] = "%s_4.boxmode" % model in cmdline and cmdline["%s_4.boxmode" % model] in ("1", "12") and "192M"
 SystemInfo["canMultiBoot"] = getMultibootslots()
 SystemInfo["canFlashWithOfgwrite"] = not(model.startswith("dm"))
-SystemInfo["HDRSupport"] = fileExists("/proc/stb/hdmi/hlg_support_choices") and fileCheck("/proc/stb/hdmi/hlg_support")
-SystemInfo["CanDownmixAC3"] = fileHas("/proc/stb/audio/ac3_choices", "downmix")
-SystemInfo["CanDownmixDTS"] = fileHas("/proc/stb/audio/dts_choices", "downmix")
-SystemInfo["CanDownmixAAC"] = fileHas("/proc/stb/audio/aac_choices", "downmix")
-SystemInfo["HDMIAudioSource"] = fileCheck("/proc/stb/hdmi/audio_source")
+SystemInfo["HDRSupport"] = fileExists("/usr/local/e2/etc/stb/hdmi/hlg_support_choices") and fileCheck("/usr/local/e2/etc/stb/hdmi/hlg_support")
+SystemInfo["CanDownmixAC3"] = fileHas("/usr/local/e2/etc/stb/audio/ac3_choices", "downmix")
+SystemInfo["CanDownmixDTS"] = fileHas("/usr/local/e2/etc/stb/audio/dts_choices", "downmix")
+SystemInfo["CanDownmixAAC"] = fileHas("/usr/local/e2/etc/stb/audio/aac_choices", "downmix")
+SystemInfo["HDMIAudioSource"] = fileCheck("/usr/local/e2/etc/stb/hdmi/audio_source")
 SystemInfo["BootDevice"] = getBootdevice()
 SystemInfo["FbcTunerPowerAlwaysOn"] = HardwareInfo().get_device_model() in ("vusolo4k", "vuduo4k", "vuultimo4k", "vuuno4k", "vuuno4kse", "gbquad4k", "gbue4k")
diff -ruN o/lib/python/Components/Timezones.py pc/lib/python/Components/Timezones.py
--- o/lib/python/Components/Timezones.py	2020-08-01 17:47:17.166609510 +0300
+++ pc/lib/python/Components/Timezones.py	2020-11-01 12:15:23.051275756 +0300
@@ -293,7 +293,7 @@
 		except Exception:
 			from enigma import e_tzset
 			e_tzset()
-		if path.exists("/proc/stb/fp/rtc_offset"):
+		if path.exists("/usr/local/e2/etc/stb/fp/rtc_offset"):
 			setRTCoffset()
 		now = int(time())
 		timeFormat = "%a %d-%b-%Y %H:%M:%S"
diff -ruN o/lib/python/Components/UsageConfig.py pc/lib/python/Components/UsageConfig.py
--- o/lib/python/Components/UsageConfig.py	2020-10-08 17:00:52.518646103 +0300
+++ pc/lib/python/Components/UsageConfig.py	2020-11-01 12:15:23.052275774 +0300
@@ -343,8 +343,8 @@
 
 	if SystemInfo["Fan"]:
 		choicelist = [('off', _("Off")), ('on', _("On")), ('auto', _("Auto"))]
-		if os.path.exists("/proc/stb/fp/fan_choices"):
-			choicelist = [x for x in choicelist if x[0] in open("/proc/stb/fp/fan_choices", "r").read().strip().split(" ")]
+		if os.path.exists("/usr/local/e2/etc/stb/fp/fan_choices"):
+			choicelist = [x for x in choicelist if x[0] in open("/usr/local/e2/etc/stb/fp/fan_choices", "r").read().strip().split(" ")]
 		config.usage.fan = ConfigSelection(choicelist)
 		def fanChanged(configElement):
 			open(SystemInfo["Fan"], "w").write(configElement.value)
@@ -603,24 +603,24 @@
 
 	if SystemInfo["HDRSupport"]:
 		def setHlgSupport(configElement):
-			open("/proc/stb/hdmi/hlg_support", "w").write(configElement.value)
+			open("/usr/local/e2/etc/stb/hdmi/hlg_support", "w").write(configElement.value)
 		config.av.hlg_support = ConfigSelection(default = "auto(EDID)",
 			choices = [ ("auto(EDID)", _("controlled by HDMI")), ("yes", _("force enabled")), ("no", _("force disabled")) ])
 		config.av.hlg_support.addNotifier(setHlgSupport)
 
 		def setHdr10Support(configElement):
-			open("/proc/stb/hdmi/hdr10_support", "w").write(configElement.value)
+			open("/usr/local/e2/etc/stb/hdmi/hdr10_support", "w").write(configElement.value)
 		config.av.hdr10_support = ConfigSelection(default = "auto(EDID)",
 			choices = [ ("auto(EDID)", _("controlled by HDMI")), ("yes", _("force enabled")), ("no", _("force disabled")) ])
 		config.av.hdr10_support.addNotifier(setHdr10Support)
 
 		def setDisable12Bit(configElement):
-			open("/proc/stb/video/disable_12bit", "w").write("on" if configElement.value else "off")
+			open("/usr/local/e2/etc/stb/video/disable_12bit", "w").write("on" if configElement.value else "off")
 		config.av.allow_12bit = ConfigYesNo(default=False)
 		config.av.allow_12bit.addNotifier(setDisable12Bit)
 
 		def setDisable10Bit(configElement):
-			open("/proc/stb/video/disable_10bit", "w").write("on" if configElement.value else "off")
+			open("/usr/local/e2/etc/stb/video/disable_10bit", "w").write("on" if configElement.value else "off")
 		config.av.allow_10bit = ConfigYesNo(default=False)
 		config.av.allow_10bit.addNotifier(setDisable10Bit)
 
@@ -781,6 +781,13 @@
 	config.autolanguage.subtitle_defaultdvb = ConfigYesNo(default = False)
 	config.autolanguage.subtitle_usecache = ConfigYesNo(default = True)
 
+	config.pc = ConfigSubsection()
+	config.pc.default_fullscreen = ConfigYesNo(default = False)
+	config.pc.zoom_enable = ConfigYesNo(default = False)
+	config.pc.image4_3_zoom_x = ConfigNumber(default = 100)
+	config.pc.image4_3_zoom_y = ConfigNumber(default = 100)
+	config.pc.image16_9_zoom_x = ConfigNumber(default = 100)
+	config.pc.image16_9_zoom_y = ConfigNumber(default = 100)
 	config.streaming = ConfigSubsection()
 	config.streaming.stream_ecm = ConfigYesNo(default = False)
 	config.streaming.descramble = ConfigYesNo(default = True)
@@ -795,6 +802,8 @@
 
 	config.misc.softcam_setup = ConfigSubsection()
 	config.misc.softcam_setup.extension_menu = ConfigYesNo(default = True)
+#	config.pc.initial_window_width = ConfigNumber(default = 0)
+#	config.pc.initial_window_height = ConfigNumber(default = 0)
 
 def updateChoices(sel, choices):
 	if choices:
diff -ruN o/lib/python/enigma_python.i pc/lib/python/enigma_python.i
--- o/lib/python/enigma_python.i	2020-08-01 17:47:17.205608160 +0300
+++ pc/lib/python/enigma_python.i	2020-11-01 12:15:23.053275793 +0300
@@ -43,7 +43,6 @@
 #include <lib/base/message.h>
 #include <lib/base/e2avahi.h>
 #include <lib/driver/rc.h>
-#include <lib/driver/rcinput_swig.h>
 #include <lib/service/event.h>
 #include <lib/service/iservice.h>
 #include <lib/service/service.h>
@@ -196,7 +195,6 @@
 %immutable iDVBChannel::receivedTsidOnid;
 %include <lib/base/message.h>
 %include <lib/driver/rc.h>
-%include <lib/driver/rcinput_swig.h>
 %include <lib/gdi/fb.h>
 %include <lib/gdi/font.h>
 %include <lib/gdi/gpixmap.h>
diff -ruN o/lib/python/Plugins/Extensions/DVDBurn/DreamboxDVD.ddvdp.xml pc/lib/python/Plugins/Extensions/DVDBurn/DreamboxDVD.ddvdp.xml
--- o/lib/python/Plugins/Extensions/DVDBurn/DreamboxDVD.ddvdp.xml	2020-08-01 17:47:17.169609406 +0300
+++ pc/lib/python/Plugins/Extensions/DVDBurn/DreamboxDVD.ddvdp.xml	2020-11-01 12:15:23.053275793 +0300
@@ -7,7 +7,7 @@
 		titlesetmode="multi"
 		vmgm="vmgmdream.mpg"
 		output="dvd"
-		isopath="/hdd/movie/"
+		isopath="/media/hdd/movies/"
 		dataformat="iso9660_4"
 	/>
 	<titles> </titles>
diff -ruN o/lib/python/Plugins/Extensions/MediaPlayer/plugin.py pc/lib/python/Plugins/Extensions/MediaPlayer/plugin.py
--- o/lib/python/Plugins/Extensions/MediaPlayer/plugin.py	2020-08-01 17:47:17.177609130 +0300
+++ pc/lib/python/Plugins/Extensions/MediaPlayer/plugin.py	2020-11-01 12:15:23.054275811 +0300
@@ -347,13 +347,11 @@
 		currPlay = self.session.nav.getCurrentService()
 		sTagAudioCodec = currPlay.info().getInfoString(iServiceInformation.sTagAudioCodec)
 		print "[__evAudioDecodeError] audio-codec %s can't be decoded by hardware" % (sTagAudioCodec)
-		self.session.open(MessageBox, _("This receiver cannot decode %s streams!") % sTagAudioCodec, type = MessageBox.TYPE_INFO,timeout = 20 )
 
 	def __evVideoDecodeError(self):
 		currPlay = self.session.nav.getCurrentService()
 		sTagVideoCodec = currPlay.info().getInfoString(iServiceInformation.sTagVideoCodec)
 		print "[__evVideoDecodeError] video-codec %s can't be decoded by hardware" % (sTagVideoCodec)
-		self.session.open(MessageBox, _("This receiver cannot decode %s streams!") % sTagVideoCodec, type = MessageBox.TYPE_INFO,timeout = 20 )
 
 	def __evPluginError(self):
 		currPlay = self.session.nav.getCurrentService()
diff -ruN o/lib/python/Plugins/SystemPlugins/OSDPositionSetup/overscanwizard.py pc/lib/python/Plugins/SystemPlugins/OSDPositionSetup/overscanwizard.py
--- o/lib/python/Plugins/SystemPlugins/OSDPositionSetup/overscanwizard.py	2020-08-01 17:47:17.187608783 +0300
+++ pc/lib/python/Plugins/SystemPlugins/OSDPositionSetup/overscanwizard.py	2020-11-01 12:15:23.072276145 +0300
@@ -171,7 +171,7 @@
 		if self.step == 1:
 			self.step = self.yes_no.value and 5 or 2
 		elif self.step == 2:
-			self.step = self.yes_no.value and 5 or os.path.exists("/proc/stb/fb/dst_left") and 3 or 4
+			self.step = self.yes_no.value and 5 or os.path.exists("/usr/local/e2/etc/stb/fb/dst_left") and 3 or 4
 		elif self.step == 3:
 			self.save_new_position = True
 			self.step = 5
diff -ruN o/lib/python/Plugins/SystemPlugins/OSDPositionSetup/plugin.py pc/lib/python/Plugins/SystemPlugins/OSDPositionSetup/plugin.py
--- o/lib/python/Plugins/SystemPlugins/OSDPositionSetup/plugin.py	2020-08-01 17:47:17.187608783 +0300
+++ pc/lib/python/Plugins/SystemPlugins/OSDPositionSetup/plugin.py	2020-11-01 12:15:23.087276423 +0300
@@ -13,10 +13,10 @@
 	if dst_top + dst_height > 576:
 		dst_height = 576 - dst_top
 	try:
-		open("/proc/stb/fb/dst_left", "w").write('%08x' % dst_left)
-		open("/proc/stb/fb/dst_width", "w").write('%08x' % dst_width)
-		open("/proc/stb/fb/dst_top", "w").write('%08x' % dst_top)
-		open("/proc/stb/fb/dst_height", "w").write('%08x' % dst_height)
+		open("/usr/local/e2/etc/stb/fb/dst_left", "w").write('%08x' % dst_left)
+		open("/usr/local/e2/etc/stb/fb/dst_width", "w").write('%08x' % dst_width)
+		open("/usr/local/e2/etc/stb/fb/dst_top", "w").write('%08x' % dst_top)
+		open("/usr/local/e2/etc/stb/fb/dst_height", "w").write('%08x' % dst_height)
 	except:
 		return
 
diff -ruN o/lib/python/Plugins/SystemPlugins/SoftwareManager/BackupRestore.py pc/lib/python/Plugins/SystemPlugins/SoftwareManager/BackupRestore.py
--- o/lib/python/Plugins/SystemPlugins/SoftwareManager/BackupRestore.py	2020-08-01 17:47:17.190608679 +0300
+++ pc/lib/python/Plugins/SystemPlugins/SoftwareManager/BackupRestore.py	2020-11-01 12:15:23.088276441 +0300
@@ -116,7 +116,7 @@
 
 		self.selectedFiles = config.plugins.configurationbackup.backupdirs.value
 		defaultDir = '/'
-		inhibitDirs = ["/bin", "/boot", "/dev", "/autofs", "/lib", "/proc", "/sbin", "/sys", "/hdd", "/tmp", "/mnt", "/media"]
+		inhibitDirs = ["/bin", "/boot", "/dev", "/autofs", "/lib", "/proc", "/sbin", "/sys", "/media/hdd", "/tmp", "/mnt", "/media"]
 		self.filelist = MultiFileSelectList(self.selectedFiles, defaultDir, inhibitDirs = inhibitDirs )
 		self["checkList"] = self.filelist
 
@@ -312,8 +312,8 @@
 		self.setTitle(_("Restoring..."))
 
 	def doRestore(self):
-		if path.exists("/proc/stb/vmpeg/0/dst_width"):
-			restorecmdlist = ["tar -xzvf " + self.fullbackupfilename + " -C /", "echo 0 > /proc/stb/vmpeg/0/dst_height", "echo 0 > /proc/stb/vmpeg/0/dst_left", "echo 0 > /proc/stb/vmpeg/0/dst_top", "echo 0 > /proc/stb/vmpeg/0/dst_width", "killall -9 enigma2"]
+		if path.exists("/usr/local/e2/etc/stb/vmpeg/0/dst_width"):
+			restorecmdlist = ["tar -xzvf " + self.fullbackupfilename + " -C /", "echo 0 > /usr/local/e2/etc/stb/vmpeg/0/dst_height", "echo 0 > /usr/local/e2/etc/stb/vmpeg/0/dst_left", "echo 0 > /usr/local/e2/etc/stb/vmpeg/0/dst_top", "echo 0 > /usr/local/e2/etc/stb/vmpeg/0/dst_width", "killall -9 enigma2"]
 		else:
 			restorecmdlist = ["tar -xzvf " + self.fullbackupfilename + " -C /", "killall -9 enigma2"]
 		if self.finished_cb:
diff -ruN o/lib/python/Plugins/SystemPlugins/SoftwareManager/plugin.py pc/lib/python/Plugins/SystemPlugins/SoftwareManager/plugin.py
--- o/lib/python/Plugins/SystemPlugins/SoftwareManager/plugin.py	2020-08-01 17:47:17.191608645 +0300
+++ pc/lib/python/Plugins/SystemPlugins/SoftwareManager/plugin.py	2020-11-01 12:15:23.089276460 +0300
@@ -1384,7 +1384,7 @@
 
 	def fill_list(self):
 		flist = []
-		self.path = '/etc/opkg/'
+		self.path = '/etc/dpkg/'
 		if (os.path.exists(self.path) == False):
 			self.entry = False
 			return
diff -ruN o/lib/python/Plugins/SystemPlugins/VideoClippingSetup/plugin.py pc/lib/python/Plugins/SystemPlugins/VideoClippingSetup/plugin.py
--- o/lib/python/Plugins/SystemPlugins/VideoClippingSetup/plugin.py	2020-08-01 17:47:17.191608645 +0300
+++ pc/lib/python/Plugins/SystemPlugins/VideoClippingSetup/plugin.py	2020-11-01 12:15:23.102276701 +0300
@@ -98,16 +98,16 @@
 	if clip_top + clip_height > 576:
 		clip_height = 576 - clip_top
 	try:
-		file = open("/proc/stb/vmpeg/0/clip_left", "w")
+		file = open("/usr/local/e2/etc/stb/vmpeg/0/clip_left", "w")
 		file.write('%X' % clip_left)
 		file.close()
-		file = open("/proc/stb/vmpeg/0/clip_width", "w")
+		file = open("/usr/local/e2/etc/stb/vmpeg/0/clip_width", "w")
 		file.write('%X' % clip_width)
 		file.close()
-		file = open("/proc/stb/vmpeg/0/clip_top", "w")
+		file = open("/usr/local/e2/etc/stb/vmpeg/0/clip_top", "w")
 		file.write('%X' % clip_top)
 		file.close()
-		file = open("/proc/stb/vmpeg/0/clip_height", "w")
+		file = open("/usr/local/e2/etc/stb/vmpeg/0/clip_height", "w")
 		file.write('%X' % clip_height)
 		file.close()
 	except:
@@ -124,7 +124,7 @@
 
 def Plugins(**kwargs):
 	from os import path
-	if path.exists("/proc/stb/vmpeg/0/clip_left"):
+	if path.exists("/usr/local/e2/etc/stb/vmpeg/0/clip_left"):
 		from Plugins.Plugin import PluginDescriptor
 		return [PluginDescriptor(name = _("Video clipping setup"), description = _("clip overscan / letterbox borders"), where = PluginDescriptor.WHERE_PLUGINMENU, fnc = main),
 					PluginDescriptor(name = _("Video clipping setup"), description = "", where = PluginDescriptor.WHERE_SESSIONSTART, fnc = startup)]
diff -ruN o/lib/python/Plugins/SystemPlugins/VideoEnhancement/plugin.py pc/lib/python/Plugins/SystemPlugins/VideoEnhancement/plugin.py
--- o/lib/python/Plugins/SystemPlugins/VideoEnhancement/plugin.py	2020-08-01 17:47:17.193608576 +0300
+++ pc/lib/python/Plugins/SystemPlugins/VideoEnhancement/plugin.py	2020-11-01 12:15:23.115276941 +0300
@@ -392,6 +392,6 @@
 
 def Plugins(**kwargs):
 	list = []
-	if config.usage.setup_level.index >= 2 and os.path.exists("/proc/stb/vmpeg/0/pep_apply"):
+	if config.usage.setup_level.index >= 2 and os.path.exists("/usr/local/e2/etc/stb/vmpeg/0/pep_apply"):
 		list.append(PluginDescriptor(name=_("Video enhancement setup"), description=_("Advanced video enhancement setup"), where = PluginDescriptor.WHERE_MENU, needsRestart = False, fnc=startSetup))
 	return list
diff -ruN o/lib/python/Plugins/SystemPlugins/VideoEnhancement/VideoEnhancement.py pc/lib/python/Plugins/SystemPlugins/VideoEnhancement/VideoEnhancement.py
--- o/lib/python/Plugins/SystemPlugins/VideoEnhancement/VideoEnhancement.py	2020-08-01 17:47:17.192608610 +0300
+++ pc/lib/python/Plugins/SystemPlugins/VideoEnhancement/VideoEnhancement.py	2020-11-01 12:15:23.118276997 +0300
@@ -1,7 +1,7 @@
 from Components.config import config, ConfigSubsection, ConfigSlider, ConfigSelection, ConfigBoolean, ConfigNothing, NoSave
 import os
 
-# The "VideoEnhancement" is the interface to /proc/stb/vmpeg/0.
+# The "VideoEnhancement" is the interface to /usr/local/e2/etc/stb/vmpeg/0.
 
 class VideoEnhancement:
 	firstRun = True
@@ -14,12 +14,12 @@
 		config.pep = ConfigSubsection()
 		config.pep.configsteps = NoSave(ConfigSelection(choices=[1, 5, 10, 25], default = 1))
 
-		if os.path.exists("/proc/stb/vmpeg/0/pep_contrast"):
+		if os.path.exists("/usr/local/e2/etc/stb/vmpeg/0/pep_contrast"):
 			def setContrast(config):
 				myval = int(config.value * 256)
 				try:
 					print "[VideoEnhancement] setting contrast to: %0.8X" % myval
-					open("/proc/stb/vmpeg/0/pep_contrast", "w").write("%0.8X" % myval)
+					open("/usr/local/e2/etc/stb/vmpeg/0/pep_contrast", "w").write("%0.8X" % myval)
 				except IOError:
 					print "[VideoEnhancement] couldn't write pep_contrast."
 
@@ -31,12 +31,12 @@
 		else:
 			config.pep.contrast = NoSave(ConfigNothing())
 
-		if os.path.exists("/proc/stb/vmpeg/0/pep_saturation"):
+		if os.path.exists("/usr/local/e2/etc/stb/vmpeg/0/pep_saturation"):
 			def setSaturation(config):
 				myval = int(config.value * 256)
 				try:
 					print "[VideoEnhancement] setting saturation to: %0.8X" % myval
-					open("/proc/stb/vmpeg/0/pep_saturation", "w").write("%0.8X" % myval)
+					open("/usr/local/e2/etc/stb/vmpeg/0/pep_saturation", "w").write("%0.8X" % myval)
 				except IOError:
 					print "[VideoEnhancement] couldn't write pep_saturaion."
 
@@ -48,12 +48,12 @@
 		else:
 			config.pep.saturation = NoSave(ConfigNothing())
 
-		if os.path.exists("/proc/stb/vmpeg/0/pep_hue"):
+		if os.path.exists("/usr/local/e2/etc/stb/vmpeg/0/pep_hue"):
 			def setHue(config):
 				myval = int(config.value * 256)
 				try:
 					print "[VideoEnhancement] setting hue to: %0.8X" % myval
-					open("/proc/stb/vmpeg/0/pep_hue", "w").write("%0.8X" % myval)
+					open("/usr/local/e2/etc/stb/vmpeg/0/pep_hue", "w").write("%0.8X" % myval)
 				except IOError:
 					print "[VideoEnhancement] couldn't write pep_hue."
 
@@ -65,12 +65,12 @@
 		else:
 			config.pep.hue = NoSave(ConfigNothing())
 
-		if os.path.exists("/proc/stb/vmpeg/0/pep_brightness"):
+		if os.path.exists("/usr/local/e2/etc/stb/vmpeg/0/pep_brightness"):
 			def setBrightness(config):
 				myval = int(config.value * 256)
 				try:
 					print "[VideoEnhancement] setting brightness to: %0.8X" % myval
-					open("/proc/stb/vmpeg/0/pep_brightness", "w").write("%0.8X" % myval)
+					open("/usr/local/e2/etc/stb/vmpeg/0/pep_brightness", "w").write("%0.8X" % myval)
 				except IOError:
 					print "[VideoEnhancement] couldn't write pep_brightness."
 
@@ -81,12 +81,12 @@
 		else:
 			config.pep.brightness = NoSave(ConfigNothing())
 
-		if os.path.exists("/proc/stb/vmpeg/0/pep_block_noise_reduction"):
+		if os.path.exists("/usr/local/e2/etc/stb/vmpeg/0/pep_block_noise_reduction"):
 			def setBlock_noise_reduction(config):
 				myval = int(config.value)
 				try:
 					print "[VideoEnhancement] setting block_noise_reduction to: %0.8X" % myval
-					open("/proc/stb/vmpeg/0/pep_block_noise_reduction", "w").write("%0.8X" % myval)
+					open("/usr/local/e2/etc/stb/vmpeg/0/pep_block_noise_reduction", "w").write("%0.8X" % myval)
 				except IOError:
 					print "[VideoEnhancement] couldn't write pep_block_noise_reduction."
 
@@ -98,12 +98,12 @@
 		else:
 			config.pep.block_noise_reduction = NoSave(ConfigNothing())
 
-		if os.path.exists("/proc/stb/vmpeg/0/pep_mosquito_noise_reduction"):
+		if os.path.exists("/usr/local/e2/etc/stb/vmpeg/0/pep_mosquito_noise_reduction"):
 			def setMosquito_noise_reduction(config):
 				myval = int(config.value)
 				try:
 					print "[VideoEnhancement] setting mosquito_noise_reduction to: %0.8X" % myval
-					open("/proc/stb/vmpeg/0/pep_mosquito_noise_reduction", "w").write("%0.8X" % myval)
+					open("/usr/local/e2/etc/stb/vmpeg/0/pep_mosquito_noise_reduction", "w").write("%0.8X" % myval)
 				except IOError:
 					print "[VideoEnhancement] couldn't write pep_mosquito_noise_reduction."
 
@@ -115,12 +115,12 @@
 		else:
 			config.pep.mosquito_noise_reduction = NoSave(ConfigNothing())
 
-		if os.path.exists("/proc/stb/vmpeg/0/pep_digital_contour_removal"):
+		if os.path.exists("/usr/local/e2/etc/stb/vmpeg/0/pep_digital_contour_removal"):
 			def setDigital_contour_removal(config):
 				myval = int(config.value)
 				try:
 					print "[VideoEnhancement] setting digital_contour_removal to: %0.8X" % myval
-					open("/proc/stb/vmpeg/0/pep_digital_contour_removal", "w").write("%0.8X" % myval)
+					open("/usr/local/e2/etc/stb/vmpeg/0/pep_digital_contour_removal", "w").write("%0.8X" % myval)
 				except IOError:
 					print "[VideoEnhancement] couldn't write pep_digital_contour_removal."
 
@@ -132,11 +132,11 @@
 		else:
 			config.pep.digital_contour_removal = NoSave(ConfigNothing())
 
-		if os.path.exists("/proc/stb/vmpeg/0/pep_split"):
+		if os.path.exists("/usr/local/e2/etc/stb/vmpeg/0/pep_split"):
 			def setSplitMode(config):
 				try:
 					print "[VideoEnhancement] setting splitmode to:",str(config.value)
-					open("/proc/stb/vmpeg/0/pep_split", "w").write(str(config.value))
+					open("/usr/local/e2/etc/stb/vmpeg/0/pep_split", "w").write(str(config.value))
 				except IOError:
 					print "[VideoEnhancement] couldn't write pep_split."
 
@@ -152,12 +152,12 @@
 		else:
 			config.pep.split = NoSave(ConfigNothing())
 
-		if os.path.exists("/proc/stb/vmpeg/0/pep_sharpness"):
+		if os.path.exists("/usr/local/e2/etc/stb/vmpeg/0/pep_sharpness"):
 			def setSharpness(config):
 				myval = int(config.value * 256)
 				try:
 					print "[VideoEnhancement] setting sharpness to: %0.8X" % myval
-					open("/proc/stb/vmpeg/0/pep_sharpness", "w").write("%0.8X" % myval)
+					open("/usr/local/e2/etc/stb/vmpeg/0/pep_sharpness", "w").write("%0.8X" % myval)
 				except IOError:
 					print "[VideoEnhancement] couldn't write pep_sharpness."
 
@@ -169,12 +169,12 @@
 		else:
 			config.pep.sharpness = NoSave(ConfigNothing())
 
-		if os.path.exists("/proc/stb/vmpeg/0/pep_auto_flesh"):
+		if os.path.exists("/usr/local/e2/etc/stb/vmpeg/0/pep_auto_flesh"):
 			def setAutoflesh(config):
 				myval = int(config.value)
 				try:
 					print "[VideoEnhancement] setting auto_flesh to: %0.8X" % myval
-					open("/proc/stb/vmpeg/0/pep_auto_flesh", "w").write("%0.8X" % myval)
+					open("/usr/local/e2/etc/stb/vmpeg/0/pep_auto_flesh", "w").write("%0.8X" % myval)
 				except IOError:
 					print "[VideoEnhancement] couldn't write pep_auto_flesh."
 
@@ -186,12 +186,12 @@
 		else:
 			config.pep.auto_flesh = NoSave(ConfigNothing())
 
-		if os.path.exists("/proc/stb/vmpeg/0/pep_green_boost"):
+		if os.path.exists("/usr/local/e2/etc/stb/vmpeg/0/pep_green_boost"):
 			def setGreenboost(config):
 				myval = int(config.value)
 				try:
 					print "[VideoEnhancement] setting green_boost to: %0.8X" % myval
-					open("/proc/stb/vmpeg/0/pep_green_boost", "w").write("%0.8X" % myval)
+					open("/usr/local/e2/etc/stb/vmpeg/0/pep_green_boost", "w").write("%0.8X" % myval)
 				except IOError:
 					print "[VideoEnhancement] couldn't write pep_green_boost."
 
@@ -203,12 +203,12 @@
 		else:
 			config.pep.green_boost = NoSave(ConfigNothing())
 
-		if os.path.exists("/proc/stb/vmpeg/0/pep_blue_boost"):
+		if os.path.exists("/usr/local/e2/etc/stb/vmpeg/0/pep_blue_boost"):
 			def setBlueboost(config):
 				myval = int(config.value)
 				try:
 					print "[VideoEnhancement] setting blue_boost to: %0.8X" % myval
-					open("/proc/stb/vmpeg/0/pep_blue_boost", "w").write("%0.8X" % myval)
+					open("/usr/local/e2/etc/stb/vmpeg/0/pep_blue_boost", "w").write("%0.8X" % myval)
 				except IOError:
 					print "[VideoEnhancement] couldn't write pep_blue_boost."
 
@@ -220,12 +220,12 @@
 		else:
 			config.pep.blue_boost = NoSave(ConfigNothing())
 
-		if os.path.exists("/proc/stb/vmpeg/0/pep_dynamic_contrast"):
+		if os.path.exists("/usr/local/e2/etc/stb/vmpeg/0/pep_dynamic_contrast"):
 			def setDynamic_contrast(config):
 				myval = int(config.value)
 				try:
 					print "[VideoEnhancement] setting dynamic_contrast to: %0.8X" % myval
-					open("/proc/stb/vmpeg/0/pep_dynamic_contrast", "w").write("%0.8X" % myval)
+					open("/usr/local/e2/etc/stb/vmpeg/0/pep_dynamic_contrast", "w").write("%0.8X" % myval)
 				except IOError:
 					print "[VideoEnhancement] couldn't write pep_dynamic_contrast."
 
@@ -240,12 +240,12 @@
 		try:
 			x = config.av.scaler_sharpness.value
 		except KeyError:
-			if os.path.exists("/proc/stb/vmpeg/0/pep_scaler_sharpness"):
+			if os.path.exists("/usr/local/e2/etc/stb/vmpeg/0/pep_scaler_sharpness"):
 				def setScaler_sharpness(config):
 					myval = int(config.value)
 					try:
 						print "[VideoEnhancement] setting scaler_sharpness to: %0.8X" % myval
-						open("/proc/stb/vmpeg/0/pep_scaler_sharpness", "w").write("%0.8X" % myval)
+						open("/usr/local/e2/etc/stb/vmpeg/0/pep_scaler_sharpness", "w").write("%0.8X" % myval)
 					except IOError:
 						print "[VideoEnhancement] couldn't write pep_scaler_sharpness."
 
@@ -257,12 +257,12 @@
 			else:
 				config.av.scaler_sharpness = NoSave(ConfigNothing())
 
-		if os.path.exists("/proc/stb/vmpeg/0/pep_scaler_vertical_dejagging"):
+		if os.path.exists("/usr/local/e2/etc/stb/vmpeg/0/pep_scaler_vertical_dejagging"):
 			def setScaler_vertical_dejagging(configElement):
 				myval = configElement.value and "enable" or "disable"
 				try:
 					print "[VideoEnhancement] setting scaler_vertical_dejagging to: %s" % myval
-					open("/proc/stb/vmpeg/0/pep_scaler_vertical_dejagging", "w").write(myval)
+					open("/usr/local/e2/etc/stb/vmpeg/0/pep_scaler_vertical_dejagging", "w").write(myval)
 				except IOError:
 					print "[VideoEnhancement] couldn't write pep_scaler_vertical_dejagging."
 
@@ -274,12 +274,12 @@
 		else:
 			config.pep.scaler_vertical_dejagging = NoSave(ConfigNothing())
 
-		if os.path.exists("/proc/stb/vmpeg/0/smooth"):
+		if os.path.exists("/usr/local/e2/etc/stb/vmpeg/0/smooth"):
 			def setSmooth(configElement):
 				myval = configElement.value and "enable" or "disable"
 				try:
 					print "[VideoEnhancement] setting smooth to: %s" % myval
-					open("/proc/stb/vmpeg/0/smooth", "w").write(myval)
+					open("/usr/local/e2/etc/stb/vmpeg/0/smooth", "w").write(myval)
 				except IOError:
 					print "[VideoEnhancement] couldn't write smooth."
 
@@ -299,7 +299,7 @@
 	def setConfiguredValues(self):
 		try:
 			print "[VideoEnhancement] applying pep values"
-			open("/proc/stb/vmpeg/0/pep_apply", "w").write("1")
+			open("/usr/local/e2/etc/stb/vmpeg/0/pep_apply", "w").write("1")
 		except IOError:
 			print "[VideoEnhancement] couldn't apply pep values."
 
diff -ruN o/lib/python/Plugins/SystemPlugins/Videomode/plugin.py pc/lib/python/Plugins/SystemPlugins/Videomode/plugin.py
--- o/lib/python/Plugins/SystemPlugins/Videomode/plugin.py	2020-08-01 17:47:17.195608506 +0300
+++ pc/lib/python/Plugins/SystemPlugins/Videomode/plugin.py	2020-11-01 12:15:23.125277127 +0300
@@ -16,11 +16,13 @@
 		Screen.__init__(self, session)
 		# for the skin: first try VideoSetup, then Setup, this allows individual skinning
 		self.skinName = ["VideoSetup", "Setup" ]
-		self.setup_title = _("A/V settings")
+		self.setup_title = _("Xine A/V settings")
 		self.setTitle(self.setup_title)
 		self.hw = hw
 		self.onChangedEntry = [ ]
 
+		self.port = "DVI-PC"
+
 		# handle hotplug by re-creating setup
 		self.onShow.append(self.startHotplug)
 		self.onHide.append(self.stopHotplug)
@@ -56,79 +58,49 @@
 	def createSetup(self):
 		level = config.usage.setup_level.index
 
-		self.list = [
-			getConfigListEntry(_("Video output"), config.av.videoport, _("Configures which video output connector will be used."))
-		]
-
-		# if we have modes for this port:
-		if config.av.videoport.value in config.av.videomode:
-			# add mode- and rate-selection:
-			self.list.append(getConfigListEntry(pgettext("Video output mode", "Mode"), config.av.videomode[config.av.videoport.value], _("Configure the video output mode (or resolution).")))
-			if config.av.videomode[config.av.videoport.value].value == 'PC':
-				self.list.append(getConfigListEntry(_("Resolution"), config.av.videorate[config.av.videomode[config.av.videoport.value].value], _("Configure the screen resolution in PC output mode.")))
-			else:
-				self.list.append(getConfigListEntry(_("Refresh rate"), config.av.videorate[config.av.videomode[config.av.videoport.value].value], _("Configure the refresh rate of the screen.")))
-
-		port = config.av.videoport.value
-		if port not in config.av.videomode:
-			mode = None
-		else:
-			mode = config.av.videomode[port].value
-
-		# some modes (720p, 1080i) are always widescreen. Don't let the user select something here, "auto" is not what he wants.
-		force_wide = self.hw.isWidescreenMode(port, mode)
-
-		if not force_wide:
-			self.list.append(getConfigListEntry(_("Aspect ratio"), config.av.aspect, _("Configure the aspect ratio of the screen.")))
+		self.list = [ ]
+		self.list.append(getConfigListEntry(_("Refresh Rate"), config.av.videorate, _("Select Xine refresh rate.")))
+		self.list.append(getConfigListEntry(_("Aspect Ratio"), config.av.aspect, _("Select Xine aspect ratio.")))
 
-		if force_wide or config.av.aspect.value in ("16_9", "16_10"):
-			self.list.extend((
-				getConfigListEntry(_("Display 4:3 content as"), config.av.policy_43, _("When the content has an aspect ratio of 4:3, choose whether to scale/stretch the picture.")),
-				getConfigListEntry(_("Display >16:9 content as"), config.av.policy_169, _("When the content has an aspect ratio of 16:9, choose whether to scale/stretch the picture."))
-			))
-		elif config.av.aspect.value == "4_3":
-			self.list.append(getConfigListEntry(_("Display 16:9 content as"), config.av.policy_169, _("When the content has an aspect ratio of 16:9, choose whether to scale/stretch the picture.")))
-
-		if config.av.videoport.value == "DVI":
-			if level >= 1:
-				self.list.append(getConfigListEntry(_("Allow unsupported modes"), config.av.edid_override, _("When selected this allows video modes to be selected even if they are not reported as supported.")))
-				if SystemInfo["HasBypassEdidChecking"]:
-					self.list.append(getConfigListEntry(_("Bypass HDMI EDID checking"), config.av.bypassEdidChecking, _("Configure if the HDMI EDID checking should be bypassed as this might solve issue with some TVs.")))
-				if SystemInfo["HasColorspace"]:
-					self.list.append(getConfigListEntry(_("HDMI Colorspace"), config.av.hdmicolorspace, _("This option allows you to configure the Colorspace from Auto to RGB")))
-				if SystemInfo["HasColordepth"]:
-					self.list.append(getConfigListEntry(_("HDMI Colordepth"), config.av.hdmicolordepth, _("This option allows you to configure the Colordepth for UHD")))
-				if SystemInfo["HasColorimetry"]:
-					self.list.append(getConfigListEntry(_("HDMI Colorimetry"), config.av.hdmicolorimetry, _("This option allows you to configure the Colorimetry for HDR.")))
-				if SystemInfo["HasHdrType"]:
-					self.list.append(getConfigListEntry(_("HDMI HDR Type"), config.av.hdmihdrtype, _("This option allows you to configure the HDR type.")))
-				if SystemInfo["HasHDMIpreemphasis"]:
-					self.list.append(getConfigListEntry(_("Use HDMI pre-emphasis"), config.av.hdmipreemphasis, _("This option can be useful for long HDMI cables.")))
-				if SystemInfo["HDRSupport"]:
-					self.list.append(getConfigListEntry(_("HLG support"), config.av.hlg_support,_("This option allows you to force the HLG modes for UHD")))
-					self.list.append(getConfigListEntry(_("HDR10 support"), config.av.hdr10_support,_("This option allows you to force the HDR10 modes for UHD")))
-					self.list.append(getConfigListEntry(_("Allow 12bit"), config.av.allow_12bit,_("This option allows you to enable or disable the 12 bit color mode")))
-					self.list.append(getConfigListEntry(_("Allow 10bit"), config.av.allow_10bit,_("This option allows you to enable or disable the 10 bit color mode")))
-					
-		if config.av.videoport.value == "Scart":
-			self.list.append(getConfigListEntry(_("Color format"), config.av.colorformat, _("Configure which color format should be used on the SCART output.")))
-			if level >= 1:
-				self.list.append(getConfigListEntry(_("WSS on 4:3"), config.av.wss, _("When enabled, content with an aspect ratio of 4:3 will be stretched to fit the screen.")))
-				if SystemInfo["ScartSwitch"]:
-					self.list.append(getConfigListEntry(_("Auto scart switching"), config.av.vcrswitch, _("When enabled, your receiver will detect activity on the VCR SCART input.")))
+		if config.av.aspect.value != "auto":
+			self.list.append(getConfigListEntry(_("Display 4:3 content as"), config.av.policy_43, _("Select 4:3 display zoom method.")))
+			if config.av.policy_43.value == "zoom":
+				self.list.extend((
+					getConfigListEntry(_("Zoom 4:3 X"), config.pc.image4_3_zoom_x),
+					getConfigListEntry(_("Zoom 4:3 Y"), config.pc.image4_3_zoom_y)
+				))
+
+			self.list.append(getConfigListEntry(_("Display 16:9 content as"), config.av.policy_169, _("Select 16:9 display zoom method.")))
+			if config.av.policy_169.value == "zoom":
+				self.list.extend((
+					getConfigListEntry(_("Zoom 16:9 X"), config.pc.image16_9_zoom_x),
+					getConfigListEntry(_("Zoom 16:9 Y"), config.pc.image16_9_zoom_y)
+				))
+
+		self.list.append(getConfigListEntry(_("Deinterlacing"), config.av.deinterlace, _("Using Xine deinterlacing.")))
+		if config.av.deinterlace.value == "1":
+			self.list.append(getConfigListEntry(_("SD deinterlace method"), config.av.deinterlace_sd, _("Select Xine SD deinterlace method.")))
+			self.list.append(getConfigListEntry(_("HD deinterlace method"), config.av.deinterlace_hd, _("Select Xine HD deinterlace method.")))
+
+		self.list.append(getConfigListEntry(_("SD sharpness"), config.pc.sd_sharpness, _("Adjust Xine SD sharpness.")))
+		self.list.append(getConfigListEntry(_("SD noise reduction"), config.pc.sd_noise, _("Adjust Xine SD noise reduction.")))
+
+		self.list.append(getConfigListEntry(_("Fullscreen default"), config.pc.default_fullscreen, _("Configure whether to turn on full screen mode on start Enigma2.")))
+
+		self.list.append(getConfigListEntry(_("TV resolution width"), config.pc.initial_window_width, _("Adjust the width resolution.")))
+		self.list.append(getConfigListEntry(_("TV resolution height"), config.pc.initial_window_height, _("Adjust the height resolution.")))
+
+		self.list.append(getConfigListEntry(_("HEVC prebuffer metronome"), config.pc.prebuffer_metronom_hevc, _("Adjust Xine HEVC prebuffer metronome.")))
+		self.list.append(getConfigListEntry(_("AVC prebuffer metronome"), config.pc.prebuffer_metronom_avc, _("Adjust Xine AVC prebuffer metronome.")))
+		self.list.append(getConfigListEntry(_("MPEG2 prebuffer metronome"), config.pc.prebuffer_metronom_mpeg2, _("Adjust Xine MPEG2 prebuffer metronome.")))
 
 		if level >= 1:
-			self.list.append(getConfigListEntry(_("Audio volume step size"), config.av.volume_stepsize, _("Configure the general audio volume step size (limit 1-10).")))
 			if SystemInfo["CanDownmixAC3"]:
 				self.list.append(getConfigListEntry(_("AC3 downmix"), config.av.downmix_ac3, _("Configure whether multi channel sound tracks should be downmixed to stereo.")))
 			if SystemInfo["CanDownmixDTS"]:
 				self.list.append(getConfigListEntry(_("DTS downmix"), config.av.downmix_dts, _("Configure whether multi channel sound tracks should be downmixed to stereo.")))
 			if SystemInfo["CanDownmixAAC"]:
 				self.list.append(getConfigListEntry(_("AAC downmix"), config.av.downmix_aac, _("Configure whether multi channel sound tracks should be downmixed to stereo.")))
-			self.list.extend((
-				getConfigListEntry(_("General AC3 delay"), config.av.generalAC3delay, _("Configure the general audio delay of Dolby Digital sound tracks.")),
-				getConfigListEntry(_("General PCM delay"), config.av.generalPCMdelay, _("Configure the general audio delay of stereo sound tracks."))
-			))
 			if SystemInfo["HasMultichannelPCM"]:
 				self.list.append(getConfigListEntry(_("Multichannel PCM"), config.av.multichannel_pcm, _("Configure whether multi channel PCM sound should be enabled.")))
 			if SystemInfo["HasAutoVolume"] or SystemInfo["HasAutoVolumeLevel"]:
@@ -142,11 +114,11 @@
 				if SystemInfo["Has3DSurroundSoftLimiter"] and config.av.surround_3d_speaker.value != "disabled":
 					self.list.append(getConfigListEntry(_("3D surround softlimiter"), config.av.surround_softlimiter_3d, _("This option allows you to enable 3D surround softlimiter.")))
 
-		if SystemInfo["CanChangeOsdAlpha"]:
-			self.list.append(getConfigListEntry(_("OSD transparency"), config.av.osd_alpha, _("Configure the transparency of the OSD.")))
-
-		if not isinstance(config.av.scaler_sharpness, ConfigNothing):
-			self.list.append(getConfigListEntry(_("Scaler sharpness"), config.av.scaler_sharpness, _("Configure the sharpness of the video scaling.")))
+		self.list.append(getConfigListEntry(_("Sound mode"), config.av.sound_mode, _("Select audio device as card and device number. To show your audio cards, type aplay -l in the terminal.")))
+		if config.av.sound_mode.value == "1":
+			self.list.append(getConfigListEntry(_("Sound card"), config.av.sound_card))
+			self.list.append(getConfigListEntry(_("Sound device"), config.av.sound_device))
+			self.list.append(getConfigListEntry(_("Sound output"), config.av.sound_output))
 
 		self["config"].list = self.list
 		self["config"].l.setList(self.list)
@@ -161,7 +133,6 @@
 
 	def confirm(self, confirmed):
 		if not confirmed:
-			config.av.videoport.value = self.last_good[0]
 			config.av.videomode[self.last_good[0]].value = self.last_good[1]
 			config.av.videorate[self.last_good[1]].value = self.last_good[2]
 			self.hw.setMode(*self.last_good)
@@ -169,17 +140,15 @@
 			self.keySave()
 
 	def grabLastGoodMode(self):
-		port = config.av.videoport.value
-		mode = config.av.videomode[port].value
-		rate = config.av.videorate[mode].value
-		self.last_good = (port, mode, rate)
+		rate = config.av.videorate.value
+		self.last_good = (self.port, rate)
 
 	def apply(self):
-		port = config.av.videoport.value
-		mode = config.av.videomode[port].value
-		rate = config.av.videorate[mode].value
-		if (port, mode, rate) != self.last_good:
-			self.hw.setMode(port, mode, rate)
+		print "Apply"
+		rate = config.av.videorate.value
+		video_hw.updateAspect(None)
+		if (self.port, rate) != self.last_good:
+			self.hw.setMode(self.port, rate)
 			from Screens.MessageBox import MessageBox
 			self.session.openWithCallback(self.confirm, MessageBox, _("Is this video mode ok?"), MessageBox.TYPE_YESNO, timeout = 20, default = False)
 		else:
@@ -215,20 +184,18 @@
 
 	def hotplug(self, what):
 		print "hotplug detected on port '%s'" % (what)
-		port = config.av.videoport.value
-		mode = config.av.videomode[port].value
-		rate = config.av.videorate[mode].value
-
-		if not self.hw.isModeAvailable(port, mode, rate):
-			print "mode %s/%s/%s went away!" % (port, mode, rate)
-			modelist = self.hw.getModeList(port)
+		rate = config.av.videorate.value
+
+		if not self.hw.isModeAvailable(self.port, mode, rate):
+			print "mode %s/%s/%s went away!" % (self.port, mode, rate)
+			modelist = self.hw.getModeList(self.port)
 			if not len(modelist):
 				print "sorry, no other mode is available (unplug?). Doing nothing."
 				return
 			mode = modelist[0][0]
 			rate = modelist[0][1]
-			print "setting %s/%s/%s" % (port, mode, rate)
-			self.hw.setMode(port, mode, rate)
+			print "setting %s/%s/%s" % (self.port, mode, rate)
+			self.hw.setMode(self.port, mode, rate)
 
 hotplug = None
 
@@ -257,10 +224,10 @@
 	session.open(VideoSetup, video_hw)
 
 def startSetup(menuid):
-	if menuid != "video":
+	if menuid != "system":
 		return [ ]
 
-	return [(_("A/V settings"), videoSetupMain, "av_setup", 40)]
+	return [(_("Xine A/V settings"), videoSetupMain, "av_setup", 40)]
 
 def VideoWizard(*args, **kwargs):
 	from VideoWizard import VideoWizard
diff -ruN o/lib/python/Plugins/SystemPlugins/Videomode/VideoHardware.py pc/lib/python/Plugins/SystemPlugins/Videomode/VideoHardware.py
--- o/lib/python/Plugins/SystemPlugins/Videomode/VideoHardware.py	2020-08-01 17:47:17.194608541 +0300
+++ pc/lib/python/Plugins/SystemPlugins/Videomode/VideoHardware.py	2020-11-01 12:15:23.134277293 +0300
@@ -1,202 +1,102 @@
+from enigma import eTimer, eAVSwitch
 from Components.config import config, ConfigSelection, ConfigSubDict, ConfigYesNo
 from Components.SystemInfo import SystemInfo
 from Tools.CList import CList
 from Tools.HardwareInfo import HardwareInfo
+from Components.AVSwitch import AVSwitch
 import os
 
-# The "VideoHardware" is the interface to /proc/stb/video.
+# The "VideoHardware" is the interface to /usr/local/e2/etc/stb/video.
 # It generates hotplug events, and gives you the list of
 # available and preferred modes, as well as handling the currently
 # selected mode. No other strict checking is done.
-
-config.av.edid_override = ConfigYesNo(default = True)
-
 class VideoHardware:
-	rates = { } # high-level, use selectable modes.
-
-	modes = { }  # a list of (high-level) modes for a certain port.
-
-	rates["PAL"] =			{ "50Hz":	{ 50: "pal" },
-								"60Hz":		{ 60: "pal60" },
-								"multi":	{ 50: "pal", 60: "pal60" } }
-
-	rates["NTSC"] =			{ "60Hz": 	{ 60: "ntsc" } }
-
-	rates["Multi"] =		{ "multi": 	{ 50: "pal", 60: "ntsc" } }
-
-	rates["480i"] =			{ "60Hz": 	{ 60: "480i" } }
-
-	rates["576i"] =			{ "50Hz": 	{ 50: "576i" } }
-
-	rates["480p"] =			{ "60Hz": 	{ 60: "480p" } }
-
-	rates["576p"] =			{ "50Hz": 	{ 50: "576p" } }
-
-	rates["720p"] =			{ "50Hz": 	{ 50: "720p50" },
-								"60Hz": 	{ 60: "720p" },
-								"multi": 	{ 50: "720p50", 60: "720p" },
-								"auto":		{ 50: "720p50", 60: "720p", 24: "720p24" } }
-
-	rates["1080i"] =		{ "50Hz":	{ 50: "1080i50" },
-								"60Hz":		{ 60: "1080i" },
-								"multi":	{ 50: "1080i50", 60: "1080i" },
-								"auto": 	{ 50: "1080i50", 60: "1080i", 24: "1080p24" } }
-
-	rates["1080p"] =		{ "50Hz":	{ 50: "1080p50" },
-								"60Hz":		{ 60: "1080p" },
-								"multi":	{ 50: "1080p50", 60: "1080p" },
-								"auto":		{ 50: "1080p50", 60: "1080p", 24: "1080p24" } }
-
-	rates["2160p30"] =		{ "25Hz":	{ 50: "2160p25" },
-								"30Hz":		{ 60: "2160p30" },
-								"multi":	{ 50: "2160p25", 60: "2160p30" },
-								"auto":		{ 50: "2160p25", 60: "2160p30", 24: "2160p24" } }
-
-	rates["2160p"] =		{ "50Hz":	{ 50: "2160p50" },
-								"60Hz":		{ 60: "2160p" },
-								"multi":	{ 50: "2160p50", 60: "2160p" }, 
-								"auto":		{ 50: "2160p50", 60: "2160p", 24: "2160p24" }}
-
-	rates["PC"] = {
-		"1024x768": { 60: "1024x768" }, # not possible on DM7025
-		"800x600" : { 60: "800x600" },  # also not possible
-		"720x480" : { 60: "720x480" },
-		"720x576" : { 60: "720x576" },
-		"1280x720": { 60: "1280x720" },
-		"1280x720 multi": { 50: "1280x720_50", 60: "1280x720" },
-		"1920x1080": { 60: "1920x1080"},
-		"1920x1080 multi": { 50: "1920x1080", 60: "1920x1080_50" },
-		"1280x1024" : { 60: "1280x1024"},
-		"1366x768" : { 60: "1366x768"},
-		"1366x768 multi" : { 50: "1366x768", 60: "1366x768_50" },
-		"1280x768": { 60: "1280x768" },
-		"640x480" : { 60: "640x480" }
+	rates = {
+		"24": _("24Hz"),
+		"50": _("50Hz"),
+		"60": _("60Hz"),
 	}
 
-	if SystemInfo["HasScart"]:
-		modes["Scart"] = ["PAL", "NTSC", "Multi"]
-	elif SystemInfo["HasComposite"]:
-		modes["RCA"] = ["576i", "PAL", "NTSC", "Multi"]
-	if SystemInfo["HasYPbPr"]:
-		modes["YPbPr"] = ["720p", "1080i", "576p", "480p", "576i", "480i"]
-	if SystemInfo["Has2160p"]:
-		modes["DVI"] = ["720p", "1080p", "2160p", "1080i", "576p", "480p", "576i", "480i"]
-	else:
-		modes["DVI"] = ["720p", "1080p", "2160p", "2160p30", "1080i", "576p", "480p", "576i", "480i"]
-	modes["DVI-PC"] = ["PC"]
+	deinterlace_modes = {
+		"0": _("bob"),
+		"1": _("half temporal"),
+		"2": _("half temporal spatial"),
+		"3": _("temporal"),
+		"4": _("temporal spatial"),
+	}
 
 	def getOutputAspect(self):
 		ret = (16,9)
-		port = config.av.videoport.value
-		if port not in config.av.videomode:
-			print "[VideoHardware] current port not available in getOutputAspect!!! force 16:9"
-		else:
-			mode = config.av.videomode[port].value
-			force_widescreen = self.isWidescreenMode(port, mode)
-			is_widescreen = force_widescreen or config.av.aspect.value in ("16_9", "16_10")
-			is_auto = config.av.aspect.value == "auto"
-			if is_widescreen:
-				if force_widescreen:
-					pass
-				else:
-					aspect = {"16_9": "16:9", "16_10": "16:10"}[config.av.aspect.value]
-					if aspect == "16:10":
-						ret = (16,10)
-			elif is_auto:
-				try:
-					aspect_str = open("/proc/stb/vmpeg/0/aspect", "r").read()
-					if aspect_str == "1": # 4:3
-						ret = (4,3)
-				except IOError:
-					pass
-			else:  # 4:3
-				ret = (4,3)
+		is_widescreen = config.av.aspect.value in ("16_9", "16_10")
+		is_auto = config.av.aspect.value == "auto"
+		if is_widescreen:
+			aspect = {"16_9": "16:9", "16_10": "16:10"}[config.av.aspect.value]
+			if aspect == "16:10":
+				ret = (16,10)
+		elif is_auto:
+			try:
+				aspect_str = open("/usr/local/e2/etc/stb/vmpeg/0/aspect", "r").read()
+				if aspect_str == "1": # 4:3
+					ret = (4,3)
+			except IOError:
+				pass
+		else:  # 4:3
+			ret = (4,3)
 		return ret
 
 	def __init__(self):
-		self.last_modes_preferred =  [ ]
 		self.on_hotplug = CList()
-		self.current_mode = None
-		self.current_port = None
-
-		self.readAvailableModes()
-		self.readPreferredModes()
-		self.widescreen_modes = set(["720p", "1080i", "1080p", "2160p", "2160p30"]).intersection(*[self.modes_available])
-
-		if "DVI-PC" in self.modes and not self.getModeList("DVI-PC"):
-			print "[VideoHardware] remove DVI-PC because of not existing modes"
-			del self.modes["DVI-PC"]
-		if "Scart" in self.modes and not self.getModeList("Scart"):
-			print "[VideoHardware] remove Scart because of not existing modes"
-			del self.modes["Scart"]
-
 		self.createConfig()
 
-		# take over old AVSwitch component :)
-		from Components.AVSwitch import AVSwitch
 		config.av.aspectratio.notifiers = [ ]
 		config.av.tvsystem.notifiers = [ ]
-		config.av.wss.notifiers = [ ]
 		AVSwitch.getOutputAspect = self.getOutputAspect
-
 		config.av.aspect.addNotifier(self.updateAspect)
-		config.av.wss.addNotifier(self.updateAspect)
 		config.av.policy_169.addNotifier(self.updateAspect)
 		config.av.policy_43.addNotifier(self.updateAspect)
 
-	def readAvailableModes(self):
-		try:
-			modes = open("/proc/stb/video/videomode_choices").read()[:-1]
-		except IOError:
-			print "[VideoHardware] couldn't read available videomodes."
-			self.modes_available = [ ]
-			return
-		self.modes_available = modes.split(' ')
-
-	def readPreferredModes(self):
-		if config.av.edid_override.value == False:
-			try:
-				modes = open("/proc/stb/video/videomode_preferred").read()[:-1]
-				self.modes_preferred = modes.split(' ')
-			except IOError:
-				print "[VideoHardware] reading preferred modes failed, using all video modes"
-				self.modes_preferred = self.modes_available
-
-			if len(self.modes_preferred) <= 1:
-				self.modes_preferred = self.modes_available
-				print "[VideoHardware] reading preferred modes is empty, using all video modes"
-		else:
-			self.modes_preferred = self.modes_available
-			print "[VideoHardware] reading preferred modes override, using all video modes"
-
-		self.last_modes_preferred = self.modes_preferred
-
-	# check if a high-level mode with a given rate is available.
-	def isModeAvailable(self, port, mode, rate):
-		rate = self.rates[mode][rate]
-		for mode in rate.values():
-			if port == "DVI":
-				if mode not in self.modes_preferred:
-					return False
-			else:
-				if mode not in self.modes_available:
-					return False
-		return True
+		config.av.deinterlace    = ConfigSelection(choices = {"0": _("Off"), "1": _("On")}, default="0")
+		config.av.deinterlace_sd = ConfigSelection(choices = self.deinterlace_modes, default="4")
+		config.av.deinterlace_hd = ConfigSelection(choices = self.deinterlace_modes, default="3")
+		config.av.deinterlace.addNotifier(self.updateDeinterlace)
+		config.av.deinterlace_sd.addNotifier(self.updateDeinterlace)
+		config.av.deinterlace_hd.addNotifier(self.updateDeinterlace)
+
+		config.av.sound_mode    = ConfigSelection(choices = {"0": _("default"), "1": _("custom")}, default="0")
+		config.av.sound_card    = ConfigSelection(choices = {"0": _("Card 0"), "1": _("Card 1"), "2": _("Card 2"), "3": _("Card 3")}, default="0")
+		config.av.sound_device  = ConfigSelection(choices = {"0": _("Device 0"), "1": _("Device 1"), "2": _("Device 2"), "3": _("Device 3"),  "4": _("Device 4"), "5": _("Device 5"), "6": _("Device 6"),  "7": _("Device 7"), "8": _("Device 8"), "9": _("Device 9")}, default="0")
+		config.av.sound_output  = ConfigSelection(choices = {"1": _("Stereo 2.0"), "8": _("Surround 5.1"), "11": _("Surround 7.1"), "12": _("Pass Through")}, default="1")
+		config.av.sound_mode.addNotifier(self.updateSoundMode)
+		config.av.sound_card.addNotifier(self.updateSoundMode)
+		config.av.sound_device.addNotifier(self.updateSoundMode)
+		config.av.sound_output.addNotifier(self.updateSoundMode)
+
+		config.pc.image4_3_zoom_x.addNotifier(self.updateAspect)
+		config.pc.image4_3_zoom_y.addNotifier(self.updateAspect)
+		config.pc.image16_9_zoom_x.addNotifier(self.updateAspect)
+		config.pc.image16_9_zoom_y.addNotifier(self.updateAspect)
+
+		config.pc.sd_sharpness = ConfigSelection(choices = {"0": _("Off"), "1": _("On")}, default="0")
+		config.pc.sd_noise     = ConfigSelection(choices = {"0": _("Off"), "1": _("On")}, default="0")
+		config.pc.sd_sharpness.addNotifier(self.updateSDfeatures)
+		config.pc.sd_noise.addNotifier(self.updateSDfeatures)
+		config.pc.initial_window_width = ConfigSelection(choices = {"0": _("0"), "720": _("720"), "1280": _("1280"), "1366": _("1366"), "1600": _("1600"), "1680": _("1680"), "1920": _("1920")}, default="0")
+		config.pc.initial_window_height = ConfigSelection(choices = {"0": _("0"), "576": _("576"), "720": _("720"), "768": _("768"), "1050": _("1050"), "1080": _("1080"), "1200": _("1200")}, default="0")
+
+		config.pc.prebuffer_metronom_hevc = ConfigSelection(choices = {"180000": _("2.0"), "189000": _("2.1"), "198000": _("2.2"), "207000": _("2.3"), "216000": _("2.4"), "225000": _("2.5")}, default="216000")
+		config.pc.prebuffer_metronom_avc = ConfigSelection(choices = {"126000": _("1.4"), "135000": _("1.5"), "144000": _("1.6"), "153000": _("1.7"), "162000": _("1.8"), "171000": _("1.9")}, default="162000")
+		config.pc.prebuffer_metronom_mpeg2 = ConfigSelection(choices = {"90000": _("1"), "99000": _("1.1"), "108000": _("1.2"), "117000": _("1.3"), "126000": _("1.4"), "135000": _("1.5")}, default="126000")
+
+		config.pc.prebuffer_metronom_hevc.addNotifier(self.updateBufMetronom)
+		config.pc.prebuffer_metronom_avc.addNotifier(self.updateBufMetronom)
+		config.pc.prebuffer_metronom_mpeg2.addNotifier(self.updateBufMetronom)
 
-	def isWidescreenMode(self, port, mode):
-		return mode in self.widescreen_modes
-
-	def setMode(self, port, mode, rate, force = None):
-		print "[VideoHardware] setMode - port:", port, "mode:", mode, "rate:", rate
+	def setMode(self, port, rate, force = None):
+		print "[VideoHardware] setMode - port:", port, "rate:", rate
 		# we can ignore "port"
-		self.current_mode = mode
-		self.current_port = port
-		modes = self.rates[mode][rate]
-
-		mode_50 = modes.get(50)
-		mode_60 = modes.get(60)
-		mode_24 = modes.get(24)
-
+		mode_50 = self.rates.get(50)
+		mode_60 = self.rates.get(60)
+		mode_24 = self.rates.get(24)
 		if mode_50 is None or force == 60:
 			mode_50 = mode_60
 		if mode_60 is None or force == 50:
@@ -206,113 +106,26 @@
 			if force == 50:
 				mode_24 = mode_50
 
-		try:
-			open("/proc/stb/video/videomode_50hz", "w").write(mode_50)
-			open("/proc/stb/video/videomode_60hz", "w").write(mode_60)
-		except IOError:
-			try:
-				# fallback if no possibility to setup 50/60 hz mode
-				open("/proc/stb/video/videomode", "w").write(mode_50)
-			except IOError:
-				print "[VideoHardware] setting videomode failed."
-
-		try:
-			open("/etc/videomode", "w").write(mode_50) # use 50Hz mode (if available) for booting
-		except IOError:
-			print "[VideoHardware] writing initial videomode to /etc/videomode failed."
-
-		if SystemInfo["Has24hz"]:
-			try:
-				open("/proc/stb/video/videomode_24hz", "w").write(mode_24)
-			except IOError:
-				print "[VideoHardware] cannot open /proc/stb/video/videomode_24hz"
-
+		self.updateDeinterlace(None)
+		self.updateSDfeatures(None)
+		self.updateBufMetronom(None)
 		self.updateAspect(None)
 
 	def saveMode(self, port, mode, rate):
 		print "[VideoHardware] saveMode", port, mode, rate
-		config.av.videoport.value = port
-		config.av.videoport.save()
-		if port in config.av.videomode:
-			config.av.videomode[port].value = mode
-			config.av.videomode[port].save()
-		if mode in config.av.videorate:
-			config.av.videorate[mode].value = rate
-			config.av.videorate[mode].save()
-
-	def isPortAvailable(self, port):
-		# fixme
-		return True
-
-	def isPortUsed(self, port):
-		if port == "DVI":
-			self.readPreferredModes()
-			return len(self.modes_preferred) != 0
-		else:
-			return True
-
-	def getPortList(self):
-		return [port for port in self.modes if self.isPortAvailable(port)]
 
-	# get a list with all modes, with all rates, for a given port.
-	def getModeList(self, port):
-		print "[VideoHardware] getModeList for port", port
-		res = [ ]
-		for mode in self.modes[port]:
-			# list all rates which are completely valid
-			rates = [rate for rate in self.rates[mode] if self.isModeAvailable(port, mode, rate)]
-
-			# if at least one rate is ok, add this mode
-			if len(rates):
-				res.append( (mode, rates) )
-		return res
+		config.av.videorate.value = rate
+		config.av.videorate.save()
 
 	def createConfig(self, *args):
 		has_hdmi = HardwareInfo().has_hdmi()
 		lst = []
 
-		config.av.videomode = ConfigSubDict()
-		config.av.videorate = ConfigSubDict()
-
-		# create list of output ports
-		portlist = self.getPortList()
-		for port in portlist:
-			descr = port
-			if descr == 'DVI' and has_hdmi:
-				descr = 'HDMI'
-			elif descr == 'DVI-PC' and has_hdmi:
-				descr = 'HDMI-PC'
-			lst.append((port, descr))
-
-			# create list of available modes
-			modes = self.getModeList(port)
-			if len(modes):
-				config.av.videomode[port] = ConfigSelection(choices = [mode for (mode, rates) in modes])
-			for (mode, rates) in modes:
-				ratelist = []
-				for rate in rates:
-					if rate in ("auto"):
-						if SystemInfo["Has24hz"]:
-							ratelist.append((rate, rate))
-					else:
-						ratelist.append((rate, rate))
-				config.av.videorate[mode] = ConfigSelection(choices = ratelist)
-		config.av.videoport = ConfigSelection(choices = lst)
+		config.av.videorate = ConfigSelection(choices = self.rates)
 
 	def setConfiguredMode(self):
-		port = config.av.videoport.value
-		if port not in config.av.videomode:
-			print "[VideoHardware] current port not available, not setting videomode"
-			return
-
-		mode = config.av.videomode[port].value
-
-		if mode not in config.av.videorate:
-			print "[VideoHardware] current mode not available, not setting videomode"
-			return
-
-		rate = config.av.videorate[mode].value
-		self.setMode(port, mode, rate)
+		rate = config.av.videorate.value
+		self.setMode("DVI-PC", rate)
 
 	def updateAspect(self, cfgelement):
 		# determine aspect = {any,4:3,16:9,16:10}
@@ -335,53 +148,58 @@
 		#     nonlinear       use nonlinear
 		#     scale           use bestfit
 
-		port = config.av.videoport.value
-		if port not in config.av.videomode:
-			print "[VideoHardware] current port not available, not setting videomode"
-			return
-		mode = config.av.videomode[port].value
-
-		force_widescreen = self.isWidescreenMode(port, mode)
-
-		is_widescreen = force_widescreen or config.av.aspect.value in ("16_9", "16_10")
-		is_auto = config.av.aspect.value == "auto"
-		policy2 = "policy" # use main policy
-
-		if is_widescreen:
-			if force_widescreen:
-				aspect = "16:9"
-			else:
-				aspect = {"16_9": "16:9", "16_10": "16:10"}[config.av.aspect.value]
-			policy_choices = {"pillarbox": "panscan", "panscan": "letterbox", "nonlinear": "nonlinear", "scale": "bestfit", "full": "full", "auto": "auto"}
-			policy = policy_choices[config.av.policy_43.value]
-			policy2_choices = {"letterbox": "letterbox", "panscan": "panscan", "scale": "bestfit", "full": "full", "auto": "auto"}
-			policy2 = policy2_choices[config.av.policy_169.value]
-		elif is_auto:
-			aspect = "any"
-			if "auto" in config.av.policy_43.choices:
-				policy = "auto"
-			else:
-				policy = "bestfit"
+		valstr = config.av.aspect.value
+		if valstr == "auto":
+			val = 0
+		elif valstr == "4_3":
+			val = 2
+		elif valstr == "16_9":
+			val = 3
+		elif valstr == "16_10":
+			val = 3
+		eAVSwitch.getInstance().setAspectRatio(val)
+
+		valstr = config.av.policy_43.value
+		if valstr == "zoom":
+			val = 4
+		elif valstr == "pillarbox":
+			val = 3
+		elif valstr == "panscan":
+			val = 2
+		elif valstr == "nonlinear":
+			val = 1
 		else:
-			aspect = "4:3"
-			policy = {"letterbox": "letterbox", "panscan": "panscan", "scale": "bestfit", "full": "full", "auto": "auto"}[config.av.policy_169.value]
-
-		if not config.av.wss.value:
-			wss = "auto(4:3_off)"
+			val = 0
+		eAVSwitch.getInstance().setPolicy43(val)
+		
+		valstr = config.av.policy_169.value
+		if valstr == "zoom":
+			val = 3
+		elif valstr == "letterbox":
+			val = 2
+		elif valstr == "panscan":
+			val = 1
 		else:
-			wss = "auto"
-
-		print "[VideoHardware] -> setting aspect, policy, policy2, wss", aspect, policy, policy2, wss
-		open("/proc/stb/video/aspect", "w").write(aspect)
-		open("/proc/stb/video/policy", "w").write(policy)
-		try:
-			open("/proc/stb/denc/0/wss", "w").write(wss)
-		except IOError:
-			pass
-		try:
-			open("/proc/stb/video/policy2", "w").write(policy2)
-		except IOError:
-			pass
+			val = 0
+		eAVSwitch.getInstance().setPolicy169(val)
+		eAVSwitch.getInstance().setZoom(int(config.pc.image4_3_zoom_x.value), int(config.pc.image4_3_zoom_y.value), int(config.pc.image16_9_zoom_x.value), int(config.pc.image16_9_zoom_y.value))
+		eAVSwitch.getInstance().updateScreen()
+
+	def updateSoundMode(self, cfgelement):
+		print "**************** -> Update Sound Mode!"
+
+	def updateDeinterlace(self, cfgelement):
+		print "**************** -> Uupdate deinterlace!"
+		eAVSwitch.getInstance().setDeinterlace(int(config.av.deinterlace.value), int(config.av.deinterlace_sd.value), int(config.av.deinterlace_hd.value))
+
+	def updateSDfeatures(self, cfgelement):
+		print "**************** -> Update SD features!"
+		eAVSwitch.getInstance().setSDfeatures(int(config.pc.sd_sharpness.value), int(config.pc.sd_noise.value))
+
+	def updateBufMetronom(self, cfgelement):
+		print "**************** -> Update Prebuffer Metronom!"
+		eAVSwitch.getInstance().setBufMetronom(int(config.pc.prebuffer_metronom_hevc.value), int(config.pc.prebuffer_metronom_avc.value), int(config.pc.prebuffer_metronom_mpeg2.value))
 
+config.av.edid_override = ConfigYesNo(default = False)
 video_hw = VideoHardware()
 video_hw.setConfiguredMode()
diff -ruN o/lib/python/Plugins/SystemPlugins/Videomode/VideoWizard.py pc/lib/python/Plugins/SystemPlugins/Videomode/VideoWizard.py
--- o/lib/python/Plugins/SystemPlugins/Videomode/VideoWizard.py	2020-08-01 17:47:17.194608541 +0300
+++ pc/lib/python/Plugins/SystemPlugins/Videomode/VideoWizard.py	2020-11-01 12:15:23.144277479 +0300
@@ -3,7 +3,7 @@
 from Screens.Rc import Rc
 from VideoHardware import video_hw
 
-from Components.Pixmap import Pixmap
+from Components.Pixmap import Pixmap, MovingPixmap, MultiPixmap
 from Components.config import config, ConfigBoolean, configfile
 from Components.SystemInfo import SystemInfo
 
@@ -13,38 +13,51 @@
 config.misc.showtestcard = ConfigBoolean(default = False)
 
 class VideoWizardSummary(WizardSummary):
+	skin = (
+	"""<screen name="VideoWizardSummary" position="0,0" size="132,64" id="1">
+		<widget name="text" position="6,4" size="120,40" font="Regular;12" transparent="1" />
+		<widget source="parent.list" render="Label" position="6,40" size="120,21" font="Regular;14">
+			<convert type="StringListSelection" />
+		</widget>
+		<!--widget name="pic" pixmap="%s" position="6,22" zPosition="10" size="64,64" transparent="1" alphatest="on"/-->
+	</screen>""",
+	"""<screen name="VideoWizardSummary" position="0,0" size="96,64" id="2">
+		<widget name="text" position="0,4" size="96,40" font="Regular;12" transparent="1" />
+		<widget source="parent.list" render="Label" position="0,40" size="96,21" font="Regular;14">
+			<convert type="StringListSelection" />
+		</widget>
+		<!--widget name="pic" pixmap="%s" position="0,22" zPosition="10" size="64,64" transparent="1" alphatest="on"/-->
+	</screen>""")
+	#% (resolveFilename(SCOPE_PLUGINS, "SystemPlugins/Videomode/lcd_Scart.png"))
+	
 	def __init__(self, session, parent):
 		WizardSummary.__init__(self, session, parent)
-
+		#self["pic"] = Pixmap()
+		
 	def setLCDPicCallback(self):
 		self.parent.setLCDTextCallback(self.setText)
-
+		
 	def setLCDPic(self, file):
 		self["pic"].instance.setPixmapFromFile(file)
 
 class VideoWizard(WizardLanguage, Rc):
 	skin = """
-		<screen position="fill" title="Welcome..." flags="wfNoBorder" >
-			<panel name="WizardMarginsTemplate"/>
-			<panel name="WizardPictureLangTemplate"/>
-			<panel name="RemoteControlTemplate"/>
-			<panel position="left" size="10,*" />
-			<panel position="right" size="10,*" />
-			<panel position="fill">
-				<widget name="text" position="top" size="*,270" font="Regular;23" valign="center" />
-				<panel position="fill">
-					<panel position="left" size="150,*">
-						<widget name="portpic" position="top" zPosition="10" size="150,150" transparent="1" alphatest="on"/>
-					</panel>
-					<panel position="fill" layout="stack">
-						<widget source="list" render="Listbox" position="fill" scrollbarMode="showOnDemand" >
-							<convert type="StringList" />
-						</widget>
-						<!--<widget name="config" position="fill" zPosition="1" scrollbarMode="showOnDemand" />-->
-					</panel>
-				</panel>
-			</panel>
-		</screen>"""
+		<screen position="0,0" size="720,576" title="Welcome..." flags="wfNoBorder" >
+			<widget name="text" position="153,50" size="340,270" font="Regular;23" />
+			<widget source="list" render="Listbox" position="200,300" size="290,200" scrollbarMode="showOnDemand" >
+				<convert type="StringList" />
+			</widget>
+			<widget name="config" position="50,300" zPosition="1" size="440,200" transparent="1" scrollbarMode="showOnDemand" />
+			<widget name="wizard" pixmap="skin_default/wizard.png" position="40,50" zPosition="10" size="110,174" transparent="1" alphatest="on"/>
+			<ePixmap pixmap="skin_default/buttons/button_red.png" position="40,225" zPosition="0" size="15,16" transparent="1" alphatest="on" />
+			<widget name="languagetext" position="55,225" size="95,30" font="Regular;18" />
+			<widget name="portpic" pixmap="%s" position="50,300" zPosition="10" size="150,150" transparent="1" alphatest="on"/>
+			<widget name="rc" pixmaps="skin_default/rc.png,skin_default/rcold.png" position="500,50" zPosition="10" size="154,500" transparent="1" alphatest="on"/>
+			<widget name="arrowdown" pixmap="skin_default/arrowdown.png" position="0,0" zPosition="11" size="37,70" transparent="1" alphatest="on"/>
+			<widget name="arrowdown2" pixmap="skin_default/arrowdown.png" position="0,0" zPosition="11" size="37,70" transparent="1" alphatest="on"/>
+			<widget name="arrowup" pixmap="skin_default/arrowup.png" position="-100,-100" zPosition="11" size="37,70" transparent="1" alphatest="on"/>
+			<widget name="arrowup2" pixmap="skin_default/arrowup.png" position="-100,-100" zPosition="11" size="37,70" transparent="1" alphatest="on"/>
+		</screen>""" % (resolveFilename(SCOPE_PLUGINS, "SystemPlugins/Videomode/Scart.png"))
 
 	def __init__(self, session):
 		# FIXME anyone knows how to use relative paths from the plugin's directory?
@@ -67,7 +80,6 @@
 		return VideoWizardSummary
 
 	def markDone(self):
-		self.hw.saveMode(self.port, self.mode, self.rate)
 		config.misc.videowizardenabled.value = 0
 		config.misc.videowizardenabled.save()
 		configfile.save()
diff -ruN o/lib/python/Plugins/SystemPlugins/VideoTune/Makefile.am pc/lib/python/Plugins/SystemPlugins/VideoTune/Makefile.am
--- o/lib/python/Plugins/SystemPlugins/VideoTune/Makefile.am	2020-08-01 17:47:17.193608576 +0300
+++ pc/lib/python/Plugins/SystemPlugins/VideoTune/Makefile.am	2020-11-01 12:15:23.151277608 +0300
@@ -4,4 +4,4 @@
 
 install_PYTHON =	\
 	__init__.py \
-	plugin.py VideoFinetune.py testbeeld-4k.mvi
+	plugin.py VideoFinetune.py
diff -ruN o/lib/python/Plugins/SystemPlugins/VideoTune/VideoFinetune.py pc/lib/python/Plugins/SystemPlugins/VideoTune/VideoFinetune.py
--- o/lib/python/Plugins/SystemPlugins/VideoTune/VideoFinetune.py	2020-08-01 17:47:17.193608576 +0300
+++ pc/lib/python/Plugins/SystemPlugins/VideoTune/VideoFinetune.py	2020-11-01 12:15:23.152277627 +0300
@@ -1,8 +1,6 @@
 from Screens.Screen import Screen
-from Components.config import config
 from Components.Sources.CanvasSource import CanvasSource
 from Components.ActionMap import ActionMap, NumberActionMap
-from Components.Console import Console
 from Components.SystemInfo import SystemInfo
 from Tools.Directories import fileExists, resolveFilename, SCOPE_PLUGINS
 from enigma import gFont, getDesktop, gMainDC, eSize, RT_HALIGN_RIGHT, RT_WRAP
@@ -26,8 +24,6 @@
 			"4": self.keyNumber,
 			"5": self.keyNumber,
 			"7": self.keyNumber,
-			"8": self.keyNumber,
-			"9": self.keyNumber,
 			"ok": self.ok,
 			"cancel": self.cancel
 		})
@@ -65,8 +61,6 @@
 			"4": self.keyNumber,
 			"5": self.keyNumber,
 			"6": self.keyNumber,
-			"8": self.keyNumber,
-			"9": self.keyNumber,
 			"ok": self.ok,
 			"cancel": self.cancel
 		})
@@ -75,35 +69,6 @@
 		gMainDC.getInstance().setResolution(self.xres, self.yres)
 		getDesktop(0).resize(eSize(self.xres, self.yres))
 
-class FullUHDTestScreen(OverscanTestScreen):
-	skin = """<screen position="0,0" size="0,0"/>"""
-
-	def __init__(self, session):
-		Screen.__init__(self, session)
-		self.oldref = self.session.nav.getCurrentlyPlayingServiceOrGroup()
-		self.session.nav.stopService()
-		Console().ePopen("/usr/bin/showiframe %s" % resolveFilename(SCOPE_PLUGINS, "SystemPlugins/VideoTune/testbeeld-4k.mvi"))
-		self.hide()
-		self.onClose.append(self.__close)
-
-		self["actions"] = NumberActionMap(["InputActions", "OkCancelActions"],
-		{
-			"1": self.keyNumber,
-			"2": self.keyNumber,
-			"3": self.keyNumber,
-			"4": self.keyNumber,
-			"5": self.keyNumber,
-			"6": self.keyNumber,
-			"7": self.keyNumber,
-			"8": self.keyNumber,
-			"9": self.keyNumber,
-			"ok": self.ok,
-			"cancel": self.cancel
-		})
-
-	def __close(self):
-		self.session.nav.playService(self.oldref)
-
 class VideoFinetune(Screen):
 	skin = """
 		<screen position="fill">
@@ -112,25 +77,21 @@
 
 	def __init__(self, session):
 		Screen.__init__(self, session)
-
-		port = config.av.videoport.value
-		self.hasUHD = port and config.av.videomode[port].value.startswith("2160")
-
 		self["Canvas"] = CanvasSource()
 
 		self.basic_colors = [RGB(255, 255, 255), RGB(255, 255, 0), RGB(0, 255, 255), RGB(0, 255, 0), RGB(255, 0, 255), RGB(255, 0, 0), RGB(0, 0, 255), RGB(0, 0, 0)]
 		self.fontsize = getDesktop(0).size().height() == 1080 and 30 or 20
 
-		if fileExists("/proc/stb/fb/dst_left"):
-			self.left = open("/proc/stb/fb/dst_left", "r").read()
-			self.width = open("/proc/stb/fb/dst_width", "r").read()
-			self.top = open("/proc/stb/fb/dst_top", "r").read()
-			self.height = open("/proc/stb/fb/dst_height", "r").read()
+		if fileExists("/usr/local/e2/etc/stb/fb/dst_left"):
+			self.left = open("/usr/local/e2/etc/stb/fb/dst_left", "r").read()
+			self.width = open("/usr/local/e2/etc/stb/fb/dst_width", "r").read()
+			self.top = open("/usr/local/e2/etc/stb/fb/dst_top", "r").read()
+			self.height = open("/usr/local/e2/etc/stb/fb/dst_height", "r").read()
 			if self.left != "00000000" or self.top != "00000000" or self.width != "000002d0" or self.height != "0000000240":
-				open("/proc/stb/fb/dst_left", "w").write("00000000")
-				open("/proc/stb/fb/dst_width", "w").write("000002d0")
-				open("/proc/stb/fb/dst_top", "w").write("00000000")
-				open("/proc/stb/fb/dst_height", "w").write("0000000240")
+				open("/usr/local/e2/etc/stb/fb/dst_left", "w").write("00000000")
+				open("/usr/local/e2/etc/stb/fb/dst_width", "w").write("000002d0")
+				open("/usr/local/e2/etc/stb/fb/dst_top", "w").write("00000000")
+				open("/usr/local/e2/etc/stb/fb/dst_height", "w").write("0000000240")
 				self.onClose.append(self.__close)
 
 		self["actions"] = NumberActionMap(["InputActions", "OkCancelActions"],
@@ -142,21 +103,19 @@
 			"5": self.keyNumber,
 			"6": self.keyNumber,
 			"7": self.keyNumber,
-			"8": self.keyNumber,
-			"9": self.keyNumber,
 			"ok": self.callNext,
 			"cancel": self.close,
 		})
 		self.testpic_brightness()
 
 	def __close(self):
-		open("/proc/stb/fb/dst_left", "w").write(self.left)
-		open("/proc/stb/fb/dst_width", "w").write(self.width)
-		open("/proc/stb/fb/dst_top", "w").write(self.top)
-		open("/proc/stb/fb/dst_height", "w").write(self.height)
+		open("/usr/local/e2/etc/stb/fb/dst_left", "w").write(self.left)
+		open("/usr/local/e2/etc/stb/fb/dst_width", "w").write(self.width)
+		open("/usr/local/e2/etc/stb/fb/dst_top", "w").write(self.top)
+		open("/usr/local/e2/etc/stb/fb/dst_height", "w").write(self.height)
 
 	def keyNumber(self, key):
-		(self.testpic_brightness, self.testpic_contrast, self.testpic_colors, self.testpic_filter, self.testpic_gamma, self.testpic_overscan, self.testpic_fullhd, self.testpic_uhd, self.testpic_pixels)[key-1]()
+		(self.testpic_brightness, self.testpic_contrast, self.testpic_colors, self.testpic_filter, self.testpic_gamma, self.testpic_overscan, self.testpic_fullhd)[key-1]()
 
 	def callNext(self):
 		if self.next:
@@ -372,30 +331,17 @@
 		c.flush()
 
 	def testpic_overscan(self):
-		self.next = SystemInfo["HasFullHDSkinSupport"] and self.testpic_fullhd or self.testpic_pixels
+		self.next = SystemInfo["HasFullHDSkinSupport"] and self.testpic_fullhd or self.testpic_brightness
 		self.hide()
 		self.session.openWithCallback(self.testpicCallback, OverscanTestScreen)
 
 	def testpic_fullhd(self):
 		if SystemInfo["HasFullHDSkinSupport"]:
-			self.next = self.hasUHD and self.testpic_uhd or self.testpic_pixels
+			self.next = self.testpic_brightness
 			self.hide()
 			self.session.openWithCallback(self.testpicCallback, FullHDTestScreen)
 		else:
-			self.testpic_pixels()
-
-	def testpic_uhd(self):
-		if self.hasUHD:
-			self.next = self.testpic_pixels
-			self.hide()
-			self.session.openWithCallback(self.testpicCallback, FullUHDTestScreen)
-		else:
-			self.testpic_pixels()
-
-	def testpic_pixels(self):
-		self.next = self.testpic_brightness
-		self.hide()
-		self.session.openWithCallback(self.testpicCallback, PixelsTestScreen)
+			return 0
 
 	def testpicCallback(self, key):
 		if key:
@@ -405,86 +351,3 @@
 				self.keyNumber(key)
 		else:
 			self.close()
-
-class PixelsTestScreen(Screen):
-	skin = """
-		<screen position="fill">
-			<widget source="Canvas" render="Canvas" position="fill" zPosition="2"/>
-		</screen>"""
-
-	def __init__(self, session):
-		Screen.__init__(self, session)
-
-		self["Canvas"] = CanvasSource()
-		self.fontsize = getDesktop(0).size().height() == 1080 and 30 or 20
-		self.xres, self.yres = getDesktop(0).size().width(), getDesktop(0).size().height()
-
-		self["actions"] = NumberActionMap(["InputActions", "OkCancelActions", "ColorActions"],
-		{
-			"1": self.keyNumber,
-			"2": self.keyNumber,
-			"3": self.keyNumber,
-			"4": self.keyNumber,
-			"5": self.keyNumber,
-			"6": self.keyNumber,
-			"7": self.keyNumber,
-			"8": self.keyNumber,
-			"red": self.togglered,
-			"green": self.togglegreen,
-			"yellow": self.intro,
-			"blue": self.toggleblue,
-			"ok": self.ok,
-			"cancel": self.cancel,
-			"left": self.left,
-			"right": self.right,
-		})
-		self.intro()
-
-	def intro(self):
-		c = self["Canvas"]
-		c.fill(0, 0, self.xres, self.yres, RGB(0,0,0))
-		c.writeText(self.xres / 10, self.yres / 6 - self.fontsize * 2, self.xres * 3 / 5, 40, RGB(255,128,255), RGB(0,0,0), gFont("Regular", self.fontsize * 2),
-			_("Pixels\n"))
-		c.writeText(self.xres / 10, self.yres / 6, self.xres / 2, self.yres * 4 / 6, RGB(255,255,255), RGB(0,0,0), gFont("Regular", self.fontsize),
-			_("Can be used to test defect pixels on TV screen.\n\n"
-			"Available color test screens:\n\n"
-			"red\ngreen\nblue\nwhite\nblack\ncyan\nmagenta\nyellow\n\n"
-			"Screens change with left/right buttons or use red, green, blue to toggle.\n"
-			"Yellow for returning back to this intro"),
-			RT_WRAP)
-		c.flush()
-		self.color = 8
-
-	def left(self):
-		self.setArea((7, 2, 4, 0, 8, 3, 5, 1, 6)[self.color])
-
-	def right(self):
-		self.setArea((3, 7, 1, 5, 2, 6, 8, 0, 4)[self.color])
-
-	def togglered(self):
-		self.setArea(self.color ^ 4)
-
-	def togglegreen(self):
-		self.setArea(self.color ^ 2)
-
-	def toggleblue(self):
-		self.setArea(self.color ^ 1)
-
-	def setArea(self, color):
-		if color == 8:
-			self.intro()
-		else:
-			self.color = color & 7
-			self.show()
-			c = self["Canvas"]
-			c.fill(0, 0, self.xres, self.yres, RGB(color & 4 and 255, color & 2 and 255, color & 1 and 255))
-			c.flush()
-
-	def ok(self):
-		self.close(True)
-
-	def cancel(self):
-		self.close(False)
-
-	def keyNumber(self, key):
-		self.close(key)
diff -ruN o/lib/python/Screens/About.py pc/lib/python/Screens/About.py
--- o/lib/python/Screens/About.py	2020-08-01 17:47:17.196608472 +0300
+++ pc/lib/python/Screens/About.py	2020-11-01 12:15:23.153277645 +0300
@@ -437,18 +437,18 @@
 
 	def getDebugFilesList(self):
 		import glob
-		return [x for x in sorted(glob.glob("/home/root/enigma.*.debuglog"), key=lambda x: os.path.isfile(x) and os.path.getmtime(x))]
+		return [x for x in sorted(glob.glob("/media/hdd/enigma.*.debuglog"), key=lambda x: os.path.isfile(x) and os.path.getmtime(x))]
 
 	def getLogFilesList(self):
 		import glob
-		home_root = "/home/root/enigma2_crash.log"
+		home_root = "/media/hdd/enigma2_crash.log"
 		tmp = "/tmp/enigma2_crash.log"
-		return [x for x in sorted(glob.glob("/mnt/hdd/*.log"), key=lambda x: os.path.isfile(x) and os.path.getmtime(x))] + (os.path.isfile(home_root) and [home_root] or []) + (os.path.isfile(tmp) and [tmp] or [])
+		return [x for x in sorted(glob.glob("/media/hdd/*.log"), key=lambda x: os.path.isfile(x) and os.path.getmtime(x))] + (os.path.isfile(home_root) and [home_root] or []) + (os.path.isfile(tmp) and [tmp] or [])
 
 	def updateOptions(self):
 		self.titles = ["dmesg", "ifconfig", "df", "top", "ps", "messages"]
 		self.commands = ["dmesg", "ifconfig", "df -h", "top -n 1", "ps", "cat /var/volatile/log/messages"]
-		install_log = "/home/root/autoinstall.log"
+		install_log = "/media/hdd/autoinstall.log"
 		if os.path.isfile(install_log):
 				self.titles.append("%s" % install_log)
 				self.commands.append("cat %s" % install_log)
diff -ruN o/lib/python/Screens/AudioSelection.py pc/lib/python/Screens/AudioSelection.py
--- o/lib/python/Screens/AudioSelection.py	2020-08-01 17:47:17.196608472 +0300
+++ pc/lib/python/Screens/AudioSelection.py	2020-11-01 12:15:23.153277645 +0300
@@ -392,6 +392,20 @@
 		AudioSelection.__init__(self, session, infobar, page=PAGE_SUBTITLES)
 		self.skinName = ["AudioSelection"]
 
+import xml.etree.cElementTree
+from Screens.Setup import setupdom
+from enigma import eTimer
+from Components.Label import Label
+
+def findSetupText(text):
+	xmldata = setupdom.getroot()
+	for subtitlesection in xmldata:
+		if subtitlesection.attrib["key"] == 'subtitlesetup':
+			for d in subtitlesection:
+				if d.text == text:
+					return _(d.attrib['text'])
+	return ""
+
 class QuickSubtitlesConfigMenu(ConfigListScreen, Screen):
 	skin = """
 	<screen position="50,50" size="480,305" title="Subtitle settings" backgroundColor="#7f000000" flags="wfNoBorder">
diff -ruN o/lib/python/Screens/ChannelSelection.py pc/lib/python/Screens/ChannelSelection.py
--- o/lib/python/Screens/ChannelSelection.py	2020-10-08 17:00:52.536646277 +0300
+++ pc/lib/python/Screens/ChannelSelection.py	2020-11-01 12:15:23.162277812 +0300
@@ -177,7 +177,7 @@
 								append_when_current_valid(current, menu, (_("Remove from parental protection"), boundFunction(self.removeParentalProtection, current)), level=0)
 						if self.parentalControl.blacklist and config.ParentalControl.hideBlacklist.value and not self.parentalControl.sessionPinCached and config.ParentalControl.storeservicepin.value != "never":
 							append_when_current_valid(current, menu, (_("Unhide parental control services"), self.unhideParentalServices), level=0, key="1")
-					if SystemInfo["3DMode"] and fileExists(resolveFilename(SCOPE_PLUGINS, "SystemPlugins/OSD3DSetup/plugin.pyo")):
+					if SystemInfo["3DMode"] and fileExists(resolveFilename(SCOPE_PLUGINS, "SystemPlugins/OSD3DSetup/plugin.pyc")):
 						if eDVBDB.getInstance().getFlag(eServiceReference(current.toString())) & FLAG_IS_DEDICATED_3D:
 							append_when_current_valid(current, menu, (_("Unmark service as dedicated 3D service"), self.removeDedicated3DFlag), level=2)
 						else:
diff -ruN o/lib/python/Screens/DVD.py pc/lib/python/Screens/DVD.py
--- o/lib/python/Screens/DVD.py	2020-08-01 17:47:17.197608437 +0300
+++ pc/lib/python/Screens/DVD.py	2020-11-01 12:15:23.181278164 +0300
@@ -255,16 +255,16 @@
 		self.onFirstExecBegin.append(self.opened)
 		self.service = None
 		self.in_menu = False
-		if fileExists("/proc/stb/fb/dst_left"):
-			self.left = open("/proc/stb/fb/dst_left", "r").read()
-			self.width = open("/proc/stb/fb/dst_width", "r").read()
-			self.top = open("/proc/stb/fb/dst_top", "r").read()
-			self.height = open("/proc/stb/fb/dst_height", "r").read()
+		if fileExists("/usr/local/e2/etc/stb/fb/dst_left"):
+			self.left = open("/usr/local/e2/etc/stb/fb/dst_left", "r").read()
+			self.width = open("/usr/local/e2/etc/stb/fb/dst_width", "r").read()
+			self.top = open("/usr/local/e2/etc/stb/fb/dst_top", "r").read()
+			self.height = open("/usr/local/e2/etc/stb/fb/dst_height", "r").read()
 			if self.left != "00000000" or self.top != "00000000" or self.width != "000002d0" or self.height != "0000000240":
-				open("/proc/stb/fb/dst_left", "w").write("00000000")
-				open("/proc/stb/fb/dst_width", "w").write("000002d0")
-				open("/proc/stb/fb/dst_top", "w").write("00000000")
-				open("/proc/stb/fb/dst_height", "w").write("0000000240")
+				open("/usr/local/e2/etc/stb/fb/dst_left", "w").write("00000000")
+				open("/usr/local/e2/etc/stb/fb/dst_width", "w").write("000002d0")
+				open("/usr/local/e2/etc/stb/fb/dst_top", "w").write("00000000")
+				open("/usr/local/e2/etc/stb/fb/dst_height", "w").write("0000000240")
 				self.onClose.append(self.__restoreOSDSize)
 
 	def save_infobar_seek_config(self):
@@ -292,10 +292,10 @@
 		config.seek.on_pause.value = self.saved_config_seek_on_pause
 
 	def __restoreOSDSize(self):
-		open("/proc/stb/fb/dst_left", "w").write(self.left)
-		open("/proc/stb/fb/dst_width", "w").write(self.width)
-		open("/proc/stb/fb/dst_top", "w").write(self.top)
-		open("/proc/stb/fb/dst_height", "w").write(self.height)
+		open("/usr/local/e2/etc/stb/fb/dst_left", "w").write(self.left)
+		open("/usr/local/e2/etc/stb/fb/dst_width", "w").write(self.width)
+		open("/usr/local/e2/etc/stb/fb/dst_top", "w").write(self.top)
+		open("/usr/local/e2/etc/stb/fb/dst_height", "w").write(self.height)
 
 	def chapterZap(self):
 		if not self.in_menu:
diff -ruN o/lib/python/Screens/EpgSelection.py pc/lib/python/Screens/EpgSelection.py
--- o/lib/python/Screens/EpgSelection.py	2020-08-01 17:47:17.197608437 +0300
+++ pc/lib/python/Screens/EpgSelection.py	2020-11-01 12:15:23.183278201 +0300
@@ -66,8 +66,8 @@
 			self.setTitle(_("Multi EPG"))
 			self.skinName = "EPGSelectionMulti"
 			self.type = EPG_TYPE_MULTI
-			self["key_yellow"] = StaticText(pgettext("button label, 'previous screen'", "Prev"))
-			self["key_blue"] = StaticText(pgettext("button label, 'next screen'", "Next"))
+			self["key_yellow"] = StaticText(_("Prev"))
+			self["key_blue"] = StaticText(_("Next"))
 			self["now_button"] = Pixmap()
 			self["next_button"] = Pixmap()
 			self["more_button"] = Pixmap()
diff -ruN o/lib/python/Screens/Hotkey.py pc/lib/python/Screens/Hotkey.py
--- o/lib/python/Screens/Hotkey.py	2020-08-01 17:47:17.198608403 +0300
+++ pc/lib/python/Screens/Hotkey.py	2020-11-01 12:15:23.211278720 +0300
@@ -219,8 +219,8 @@
 	hotkey.functions.append((_("PowerMenu"), "Menu/shutdown", "Power"))
 	hotkey.functions.append((_("Standby"), "Module/Screens.Standby/Standby", "Power"))
 	hotkey.functions.append((_("Restart"), "Module/Screens.Standby/TryQuitMainloop/2", "Power"))
-	hotkey.functions.append((_("Restart enigma"), "Module/Screens.Standby/TryQuitMainloop/3", "Power"))
-	hotkey.functions.append((_("Deep standby"), "Module/Screens.Standby/TryQuitMainloop/1", "Power"))
+	hotkey.functions.append((_("Quit"), "Module/Screens.Standby/TryQuitMainloop/3", "Power"))
+	hotkey.functions.append((_("Shutdown"), "Module/Screens.Standby/TryQuitMainloop/1", "Power"))
 	hotkey.functions.append((_("Usage Setup"), "Setup/usage", "Setup"))
 	hotkey.functions.append((_("User interface"), "Setup/userinterface", "Setup"))
 	hotkey.functions.append((_("Recording Setup"), "Setup/recording", "Setup"))
diff -ruN o/lib/python/Screens/InfoBarGenerics.py pc/lib/python/Screens/InfoBarGenerics.py
--- o/lib/python/Screens/InfoBarGenerics.py	2020-10-08 17:00:52.537646286 +0300
+++ pc/lib/python/Screens/InfoBarGenerics.py	2020-11-01 12:15:23.213278757 +0300
@@ -106,7 +106,7 @@
 	global resumePointCache, resumePointCacheLast
 	import cPickle
 	try:
-		f = open('/home/root/resumepoints.pkl', 'wb')
+		f = open('/media/hdd/resumepoints.pkl', 'wb')
 		cPickle.dump(resumePointCache, f, cPickle.HIGHEST_PROTOCOL)
 	except Exception, ex:
 		print "[InfoBar] Failed to write resumepoints:", ex
@@ -115,7 +115,7 @@
 def loadResumePoints():
 	import cPickle
 	try:
-		return cPickle.load(open('/home/root/resumepoints.pkl', 'rb'))
+		return cPickle.load(open('/media/hdd/resumepoints.pkl', 'rb'))
 	except Exception, ex:
 		print "[InfoBar] Failed to load resumepoints:", ex
 		return {}
@@ -479,8 +479,7 @@
 	def	mayShowEndTimer(self):
 		self.mayShow = True
 		if self.getBufferValue() == 0:
-			self["status"].setText(_("No data received yet"))
-			self.show()
+			self.hide()
 
 	def getBufferValue(self):
 		service = self.session.nav.getCurrentService()
@@ -3537,7 +3536,7 @@
 	def goStandby(self):
 		if not Screens.Standby.inStandby:
 			print "[InfoBarPowersaver] goto standby"
-			self.session.open(Screens.Standby.Standby)
+			self.session.open(Screens.Standby.TryQuitMainloop, 1)
 
 class InfoBarHDMI:
 	def HDMIIn(self):
diff -ruN o/lib/python/Screens/MovieSelection.py pc/lib/python/Screens/MovieSelection.py
--- o/lib/python/Screens/MovieSelection.py	2020-08-19 11:30:41.933663908 +0300
+++ pc/lib/python/Screens/MovieSelection.py	2020-11-01 12:15:23.236279183 +0300
@@ -48,7 +48,7 @@
 config.movielist.last_selected_tags = ConfigSet([], default=[])
 config.movielist.play_audio_internal = ConfigYesNo(default=True)
 config.movielist.settings_per_directory = ConfigYesNo(default=True)
-config.movielist.root = ConfigSelection(default="/media", choices=["/","/media","/media/hdd","/media/hdd/movie","/media/usb","/media/usb/movie"])
+config.movielist.root = ConfigSelection(default="/media", choices=["/","/media","/media/hdd","/media/hdd/movies","/media/usb","/media/usb/movies"])
 config.movielist.hide_extensions = ConfigYesNo(default=False)
 config.movielist.stop_service = ConfigYesNo(default=True)
 config.movielist.add_bookmark = ConfigYesNo(default=True)
diff -ruN o/lib/python/Screens/PluginBrowser.py pc/lib/python/Screens/PluginBrowser.py
--- o/lib/python/Screens/PluginBrowser.py	2020-08-01 17:47:17.201608298 +0300
+++ pc/lib/python/Screens/PluginBrowser.py	2020-11-01 12:15:23.240279257 +0300
@@ -57,7 +57,6 @@
 		self.firsttime = True
 
 		self["key_red"] = self["red"] = Label(_("Remove plugins"))
-		self["key_green"] = self["green"] = Label(_("Download plugins"))
 		self.list = []
 		self["list"] = PluginList(self.list)
 
@@ -70,7 +69,6 @@
 		self["PluginDownloadActions"] = ActionMap(["ColorActions"],
 		{
 			"red": self.delete,
-			"green": self.download
 		})
 		self["DirectionActions"] = ActionMap(["DirectionActions"],
 		{
@@ -281,8 +279,8 @@
 			"ok": self.go,
 			"back": self.requestClose,
 		})
-		if os.path.isfile('/usr/bin/opkg'):
-			self.opkg = '/usr/bin/opkg'
+		if os.path.isfile('/usr/bin/dpkg'):
+			self.opkg = '/usr/bin/dpkg'
 			self.opkg_install = self.opkg + ' install'
 			self.opkg_remove =  self.opkg + ' remove --autoremove'
 		else:
@@ -417,7 +415,7 @@
 				print "[PluginBrowser] postInstallCall failed:", ex
 			self.resetPostInstall()
 		try:
-			os.unlink('/tmp/opkg.conf')
+			os.unlink('/tmp/dpkg.conf')
 		except:
 			pass
 		for plugin in self.pluginlist:
diff -ruN o/lib/python/Screens/Satconfig.py pc/lib/python/Screens/Satconfig.py
--- o/lib/python/Screens/Satconfig.py	2020-09-17 15:23:39.062015393 +0300
+++ pc/lib/python/Screens/Satconfig.py	2020-11-01 12:15:23.242279294 +0300
@@ -129,7 +129,7 @@
 				self.configMode = getConfigListEntry(self.indent % _("Configuration mode"), self.nimConfig.configMode, _("Select 'FBC SCR' if this tuner will connect to a SCR (Unicable/JESS) device. For all other setups select 'FBC automatic'.") if self.nim.isFBCLink() else _("Configure this tuner using simple or advanced options, or loop it through to another tuner, or copy a configuration from another tuner, or disable it."))
 				self.list.append(self.configMode)
 				if self.nimConfig.configMode.value == "simple":			#simple setup
-					self.diseqcModeEntry = getConfigListEntry(self.indent % pgettext("Satellite configuration mode", "Mode"), self.nimConfig.diseqcMode, _("Select how the satellite dish is set up. i.e. fixed dish, single LNB, DiSEqC switch, positioner, etc."))
+					self.diseqcModeEntry = getConfigListEntry(_("Satellite configuration mode"), self.nimConfig.diseqcMode, _("Select how the satellite dish is set up. i.e. fixed dish, single LNB, DiSEqC switch, positioner, etc."))
 					self.list.append(self.diseqcModeEntry)
 					if self.nimConfig.diseqcMode.value in ("single", "toneburst_a_b", "diseqc_a_b", "diseqc_a_b_c_d"):
 						self.createSimpleSetup(self.list, self.nimConfig.diseqcMode.value)
@@ -184,13 +184,13 @@
 							self.fillListWithAdvancedSatEntrys(self.nimConfig.advanced.sat[cur_orb_pos])
 					self.have_advanced = True
 				if self.nimConfig.configMode.value != "nothing" and config.usage.setup_level.index >= 2:
-					if fileExists("/proc/stb/frontend/%d/tone_amplitude" % self.nim.slot):
+					if fileExists("/usr/local/e2/etc/stb/frontend/%d/tone_amplitude" % self.nim.slot):
 						self.toneamplitude = getConfigListEntry(self.indent % _("Tone amplitude"), self.nimConfig.toneAmplitude, _("Your receiver can use tone amplitude. Consult your receiver's manual for more information."))
 						self.list.append(self.toneamplitude)
-					if fileExists("/proc/stb/frontend/%d/use_scpc_optimized_search_range" % self.nim.slot):
+					if fileExists("/usr/local/e2/etc/stb/frontend/%d/use_scpc_optimized_search_range" % self.nim.slot):
 						self.scpc = getConfigListEntry(self.indent % _("SCPC optimized search range"), self.nimConfig.scpcSearchRange, _("Your receiver can use SCPC optimized search range. Consult your receiver's manual for more information."))
 						self.list.append(self.scpc)
-					if fileExists("/proc/stb/frontend/%d/t2mirawmode" % self.nim.slot):
+					if fileExists("/usr/local/e2/etc/stb/frontend/%d/t2mirawmode" % self.nim.slot):
 						self.t2mirawmode = getConfigListEntry(self.indent % _("T2MI RAW Mode"), self.nimConfig.t2miRawMode, _("With T2MI RAW mode disabled (default) we can use single T2MI PLP de-encapsulation. With T2MI RAW mode enabled we can use astra-sm to analyze T2MI"))
 						self.list.append(self.t2mirawmode)
 		if self.nim.isCompatible("DVB-C") or (self.nim.isCombined() and self.nim.canBeCompatible("DVB-C")):
diff -ruN o/lib/python/Screens/SkinSelector.py pc/lib/python/Screens/SkinSelector.py
--- o/lib/python/Screens/SkinSelector.py	2020-08-29 17:37:20.509822575 +0300
+++ pc/lib/python/Screens/SkinSelector.py	2020-11-01 12:15:23.243279313 +0300
@@ -5,7 +5,7 @@
 from os import listdir
 from os.path import dirname, exists, isdir, join as pathjoin
 
-from skin import DEFAULT_SKIN, DEFAULT_DISPLAY_SKIN, EMERGENCY_NAME, EMERGENCY_SKIN, currentDisplaySkin, currentPrimarySkin, domScreens
+from skin import DEFAULT_SKIN, DEFAULT_DISPLAY_SKIN, EMERGENCY_SKIN, currentDisplaySkin, currentPrimarySkin, domScreens
 from Components.ActionMap import HelpableNumberActionMap
 from Components.config import config
 from Components.Pixmap import Pixmap
@@ -19,7 +19,7 @@
 
 
 class SkinSelector(Screen, HelpableScreen):
-	skin = ["""
+	skinTemplate = """
 	<screen name="SkinSelector" position="center,center" size="%d,%d">
 		<widget name="preview" position="center,%d" size="%d,%d" alphatest="blend" />
 		<widget source="skins" render="Listbox" position="center,%d" size="%d,%d" enableWrapAround="1" scrollbarMode="showOnDemand">
@@ -37,7 +37,8 @@
 		<widget source="description" render="Label" position="center,e-%d" size="%d,%d" font="Regular;%d" valign="center" />
 		<widget source="key_red" render="Label" position="%d,e-%d" size="%d,%d" backgroundColor="key_red" font="Regular;%d" foregroundColor="key_text" halign="center" valign="center" />
 		<widget source="key_green" render="Label" position="%d,e-%d" size="%d,%d" backgroundColor="key_green" font="Regular;%d" foregroundColor="key_text" halign="center" valign="center" />
-	</screen>""",
+	</screen>"""
+	scaleData = [
 		670, 570,
 		10, 356, 200,
 		230, 650, 240,
@@ -49,12 +50,13 @@
 		10, 50, 140, 40, 20,
 		160, 50, 140, 40, 20
 	]
+	skin = None
 
 	def __init__(self, session, screenTitle=_("GUI Skin")):
-		Screen.__init__(self, session, mandatoryWidgets=["description", "skins"])
+		Screen.__init__(self, session)
 		HelpableScreen.__init__(self)
-
-		element = domScreens.get("SkinSelector", (None, None))[0]
+		if SkinSelector.skin is None:
+			self.initialiseSkin()
 		Screen.setTitle(self, screenTitle)
 		self.rootDir = resolveFilename(SCOPE_SKIN)
 		self.config = config.skin.primary_skin
@@ -81,6 +83,29 @@
 		self.picload.PictureData.get().append(self.showPic)
 		self.onLayoutFinish.append(self.layoutFinished)
 
+	def initialiseSkin(self):
+		element, path = domScreens.get("SkinSelector", (None, None))
+		if element is None:  # This skin does not have a SkinConverter screen.
+			buildSkin = True
+		else:  # Test the skin's SkinConverter screen to ensure it works with the new code.
+			buildSkin = False
+			widgets = element.findall("widget")
+			if widgets is not None:
+				for widget in widgets:
+					name = widget.get("name", None)
+					source = widget.get("source", None)
+					if name and name in ("Preview", "SkinList") or source == "introduction":
+						print "[SkinSelector] Warning: Current skin '%s' does not support this version of SkinSelector!    Please contact the skin's author!" % config.skin.primary_skin.value
+						del domScreens["SkinSelector"]  # It is incompatible, delete the screen from the skin.
+						buildSkin = True
+						break
+		if buildSkin:  # Build the embedded skin and scale it to the current screen resolution.
+			# The skin template is designed for a HD screen so the scaling factor is 720.
+			SkinSelector.skin = SkinSelector.skinTemplate % tuple([x * getDesktop(0).size().height() / 720 for x in SkinSelector.scaleData])
+			# print "[SkinSelector] DEBUG: Height=%d\n" % getDesktop(0).size().height(), SkinSelector.skin
+		else:
+			SkinSelector.skin = "<screen />"
+
 	def showPic(self, picInfo=""):
 		ptr = self.picload.getData()
 		if ptr is not None:
@@ -91,11 +116,20 @@
 		self.refreshList()
 
 	def refreshList(self):
-		emergency = _("Emergency")
-		default = _("Default")
-		defaultPicon = _("Default+Picon")
-		current = _("Current")
-		pending = _("Pending restart")
+		resolutions = {
+			"480": _("NTSC"),
+			"576": _("PAL"),
+			"720": _("HD"),
+			"1080": _("FHD"),
+			"2160": _("4K"),
+			"4320": _("8K"),
+			"8640": _("16K")
+		}
+		emergency = _("< Emergency >")
+		default = _("< Default >")
+		defaultPicon = _("< Default + Picon >")
+		current = _("< Current >")
+		pending = _("< Pending restart >")
 		displayPicon = pathjoin(dirname(DEFAULT_DISPLAY_SKIN), "skin_display_picon.xml")
 		skinList = []
 		# Find and list the available skins...
@@ -108,25 +142,16 @@
 					resolution = None
 					if skinFile == "skin.xml":
 						with open(skinPath, "r") as fd:
-							resolutions = {
-								"480": _("NTSC"),
-								"576": _("PAL"),
-								"720": _("HD"),
-								"1080": _("FHD"),
-								"2160": _("4K"),
-								"4320": _("8K"),
-								"8640": _("16K")
-							}
 							mm = mmap.mmap(fd.fileno(), 0, prot=mmap.PROT_READ)
-							skinheight = re.search("\<?resolution.*?\syres\s*=\s*\"(\d+)\"", mm).group(1)
-							resolution = skinheight and resolutions.get(skinheight, None)
+							resolution = re.search("\<?resolution.*?\syres\s*=\s*\"(\d+)\"", mm)
+							resolution = resolution and resolutions.get(resolution.group(1), None)
 							mm.close()
 						print("[SkinSelector] Resolution of skin '%s': '%s'." % (skinPath, "Unknown" if resolution is None else resolution))
 						# Code can be added here to reject unsupported resolutions.
 					# The "piconprev.png" image should be "prevpicon.png" to keep it with its partner preview image.
 					preview = pathjoin(previewPath, "piconprev.png" if skinFile == "skin_display_picon.xml" else "prev.png")
 					if skin == EMERGENCY_SKIN:
-						list = [EMERGENCY_NAME, emergency, dir, skin, resolution, preview]
+						list = [emergency, emergency, dir, skin, resolution, preview]
 					elif skin == DEFAULT_SKIN:
 						list = [dir, default, dir, skin, resolution, preview]
 					elif skin == DEFAULT_DISPLAY_SKIN:
@@ -139,9 +164,6 @@
 						list[1] = current
 					elif skin == self.config.value:
 						list[1] = pending
-					list.append("%s (%s)" % (list[0], list[1]) if list[1] else list[0])
-					if list[1]:
-						list[1] = "<%s>" % list[1]
 					#0=SortKey, 1=Label, 2=Flag, 3=Directory, 4=Skin, 5=Resolution, 6=Preview, 7=Label + Flag
 					skinList.append(tuple([list[0].upper()] + list))
 		skinList.sort()
@@ -154,16 +176,17 @@
 		self.loadPreview()
 
 	def loadPreview(self):
-		self.currentSelectedSkin = self["skins"].getCurrent()
-		preview, resolution, skin = self.currentSelectedSkin[6], self.currentSelectedSkin[5], self.currentSelectedSkin[4]
 		self.changedEntry()
+		preview = self["skins"].getCurrent()[6]
 		if not exists(preview):
 			preview = resolveFilename(SCOPE_CURRENT_SKIN, "noprev.png")
 		self.picload.startDecode(preview)
-		if skin == self.config.value:
-			self["description"].setText(_("Press OK to keep the currently selected %s skin.") % resolution)
+		resolution = self["skins"].getCurrent()[5]
+		msg = "" if resolution is None else " %s" % resolution
+		if self["skins"].getCurrent()[4] == self.config.value:
+			self["description"].setText(_("Press OK to keep the currently selected%s skin.") % msg)
 		else:
-			self["description"].setText(_("Press OK to activate the selected %s skin.") % resolution)
+			self["description"].setText(_("Press OK to activate the selected%s skin.") % msg)
 
 	def cancel(self):
 		self.close(False)
@@ -172,7 +195,8 @@
 		self.close(True)
 
 	def save(self):
-		label, skin = self.currentSelectedSkin[1], self.currentSelectedSkin[4]
+		label = self["skins"].getCurrent()[1]
+		skin = self["skins"].getCurrent()[4]
 		if skin == self.config.value:
 			if skin == self.current:
 				print("[SkinSelector] Selected skin: '%s' (Unchanged!)" % pathjoin(self.rootDir, skin))
@@ -193,7 +217,7 @@
 
 	def restartGUI(self, answer):
 		if answer is True:
-			self.config.value = self.currentSelectedSkin[4]
+			self.config.value = self["skins"].getCurrent()[4]
 			self.config.save()
 			self.session.open(TryQuitMainloop, QUIT_RESTART)
 		self.refreshList()
diff -ruN o/lib/python/Screens/SoftcamSetup.py pc/lib/python/Screens/SoftcamSetup.py
--- o/lib/python/Screens/SoftcamSetup.py	2020-08-01 17:47:17.203608229 +0300
+++ pc/lib/python/Screens/SoftcamSetup.py	2020-11-01 12:15:23.243279313 +0300
@@ -93,13 +93,13 @@
 
 	def ppanelShortcut(self):
 		ppanelFileName = '/etc/ppanels/' + self.softcams.value + '.xml'
-		if "oscam" in self.softcams.value.lower() and os.path.isfile(resolveFilename(SCOPE_PLUGINS, 'Extensions/OscamStatus/plugin.pyo')):
+		if "oscam" in self.softcams.value.lower() and os.path.isfile(resolveFilename(SCOPE_PLUGINS, 'Extensions/OscamStatus/plugin.pyc')):
 			from Plugins.Extensions.OscamStatus.plugin import OscamStatus
 			self.session.open(OscamStatus)
-		elif "cccam" in self.softcams.value.lower() and os.path.isfile(resolveFilename(SCOPE_PLUGINS, 'Extensions/CCcamInfo/plugin.pyo')):
+		elif "cccam" in self.softcams.value.lower() and os.path.isfile(resolveFilename(SCOPE_PLUGINS, 'Extensions/CCcamInfo/plugin.pyc')):
 			from Plugins.Extensions.CCcamInfo.plugin import CCcamInfoMain
 			self.session.open(CCcamInfoMain)
-		elif os.path.isfile(ppanelFileName) and os.path.isfile(resolveFilename(SCOPE_PLUGINS, 'Extensions/PPanel/plugin.pyo')):
+		elif os.path.isfile(ppanelFileName) and os.path.isfile(resolveFilename(SCOPE_PLUGINS, 'Extensions/PPanel/plugin.pyc')):
 			from Plugins.Extensions.PPanel.ppanel import PPanel
 			self.session.open(PPanel, name = self.softcams.value + ' PPanel', node = None, filename = ppanelFileName, deletenode = None)
 		else:
diff -ruN o/lib/python/Screens/SoftwareUpdate.py pc/lib/python/Screens/SoftwareUpdate.py
--- o/lib/python/Screens/SoftwareUpdate.py	2020-08-19 11:30:41.933663908 +0300
+++ pc/lib/python/Screens/SoftwareUpdate.py	2020-11-01 12:15:23.245279350 +0300
@@ -151,7 +151,7 @@
 				return time.strftime("%Y-%m-%d %H:%M:%S", time.gmtime(calendar.timegm(urlopen("%s/Packages.gz" % url).info().getdate('Last-Modified'))-time.altzone))
 			except:
 				return ""
-		return sorted([gettime(open("/etc/opkg/%s" % file, "r").readlines()[0].split()[2]) for file in os.listdir("/etc/opkg") if not file.startswith("3rd-party") and file not in ("arch.conf", "opkg.conf", "picons-feed.conf")], reverse=True)[0]
+		return sorted([gettime(open("/etc/dpkg/%s" % file, "r").readlines()[0].split()[2]) for file in os.listdir("/etc/opkg") if not file.startswith("3rd-party") and file not in ("arch.conf", "opkg.conf", "picons-feed.conf")], reverse=True)[0]
 
 	def startActualUpdate(self,answer):
 		if answer:
@@ -230,7 +230,7 @@
 				else:
 					message = _("No updates available")
 					choices = []
-				if fileExists("/home/root/opkgupgrade.log"):
+				if fileExists("/home/hdd/dpkgupgrade.log"):
 					choices.append((_("Show latest update log"), "log"))
 				choices.append((_("Show latest commits"), "commits"))
 				choices.append((_("Cancel"), ""))
@@ -292,7 +292,7 @@
 			text = "\n".join([x[0] for x in sorted(self.opkg.getFetchedList(), key=lambda d: d[0])])
 			self.session.openWithCallback(boundFunction(self.opkgCallback, OpkgComponent.EVENT_DONE, None), TextBox, text, _("Packages to update"), True)
 		elif answer[1] == "log":
-			text = open("/home/root/opkgupgrade.log", "r").read()
+			text = open("/home/hdd/dpkgupgrade.log", "r").read()
 			self.session.openWithCallback(boundFunction(self.opkgCallback, OpkgComponent.EVENT_DONE, None), TextBox, text, _("Latest update log"), True)
 		else:
 			self.opkg.startCmd(OpkgComponent.CMD_UPGRADE, args = {'test_only': False})
diff -ruN o/lib/python/Screens/StartWizard.py pc/lib/python/Screens/StartWizard.py
--- o/lib/python/Screens/StartWizard.py	2020-08-01 17:47:17.203608229 +0300
+++ pc/lib/python/Screens/StartWizard.py	2020-11-01 12:15:23.245279350 +0300
@@ -94,7 +94,7 @@
 		self["AboutScrollLabel"] = ScrollLabel("", showscrollbar=False)
 		self["header"] = Label(_("Autoinstalling please wait for packages being updated"))
 
-		self.logfile = open('/home/root/autoinstall.log', 'w')
+		self.logfile = open('/media/hdd/autoinstall.log', 'w')
 		self.container = eConsoleAppContainer()
 		self.container.appClosed.append(self.appClosed)
 		self.container.dataAvail.append(self.dataAvail)
@@ -142,7 +142,7 @@
 				self.dataAvail("An error occurred during installing %s - Please try again later\n" % self.package)
 			else:
 				self.dataAvail("An error occurred during opkg update - Please try again later\n")
-		installed = [line.strip().split(":", 1)[1].strip() for line in open('/var/lib/opkg/status').readlines() if line.startswith('Package:')]
+		installed = [line.strip().split(":", 1)[1].strip() for line in open('/var/lib/dpkg/status').readlines() if line.startswith('Package:')]
 		self.packages = [package for package in self.packages if package not in installed]
 		if self.packages:
 			self.run_console()
diff -ruN o/lib/python/Tools/Directories.py pc/lib/python/Tools/Directories.py
--- o/lib/python/Tools/Directories.py	2020-08-01 17:47:17.204608195 +0300
+++ pc/lib/python/Tools/Directories.py	2020-11-01 12:15:23.246279368 +0300
@@ -61,7 +61,7 @@
 	SCOPE_KEYMAPS: (eEnv.resolve("${datadir}/keymaps/"), PATH_CREATE),
 	SCOPE_METADIR: (eEnv.resolve("${datadir}/meta"), PATH_CREATE),
 	SCOPE_CURRENT_PLUGIN: (eEnv.resolve("${libdir}/enigma2/python/Plugins/"), PATH_CREATE),
-	SCOPE_TIMESHIFT: ("/media/hdd/timeshift/", PATH_DONTCREATE),
+	SCOPE_TIMESHIFT: ("/media/hdd/", PATH_DONTCREATE),
 	SCOPE_ACTIVE_SKIN: (eEnv.resolve("${datadir}/enigma2/"), PATH_DONTCREATE),
 	SCOPE_LCDSKIN: (eEnv.resolve("${datadir}/enigma2/display/"), PATH_DONTCREATE),
 	SCOPE_CURRENT_LCDSKIN: (eEnv.resolve("${datadir}/enigma2/display/"), PATH_DONTCREATE),
diff -ruN o/lib/python/Tools/HardwareInfo.py pc/lib/python/Tools/HardwareInfo.py
--- o/lib/python/Tools/HardwareInfo.py	2020-08-01 17:47:17.205608160 +0300
+++ pc/lib/python/Tools/HardwareInfo.py	2020-11-01 12:15:23.258279591 +0300
@@ -18,19 +18,19 @@
 		print "[HardwareInfo] Scanning hardware info"
 		# Version
 		try:
-			self.device_version = open("/proc/stb/info/version").read().strip()
+			self.device_version = open("/usr/local/e2/etc/stb/info/version").read().strip()
 		except:
 			pass
 
 		# Revision
 		try:
-			self.device_revision = open("/proc/stb/info/board_revision").read().strip()
+			self.device_revision = open("/usr/local/e2/etc/stb/info/board_revision").read().strip()
 		except:
 			pass
 
 		# Name ... bit odd, but history prevails
 		try:
-			self.device_name = open("/proc/stb/info/model").read().strip()
+			self.device_name = open("/usr/local/e2/etc/stb/info/model").read().strip()
 		except:
 			pass
 
@@ -44,7 +44,7 @@
 					infoFname = l
 					prefix = ""
 				try:
-					self.device_model = prefix + open("/proc/stb/info/" + infoFname).read().strip()
+					self.device_model = prefix + open("/usr/local/e2/etc/stb/info/" + infoFname).read().strip()
 					break
 				except:
 					pass
diff -ruN o/lib/python/Tools/Multiboot.py pc/lib/python/Tools/Multiboot.py
--- o/lib/python/Tools/Multiboot.py	2020-08-01 17:47:17.205608160 +0300
+++ pc/lib/python/Tools/Multiboot.py	2020-11-01 12:15:23.273279869 +0300
@@ -98,7 +98,7 @@
 			if os.path.isfile(os.path.join(imagedir, 'usr/bin/enigma2')):
 				try:
 					from datetime import datetime
-					date = datetime.fromtimestamp(os.stat(os.path.join(imagedir, "var/lib/opkg/status")).st_mtime).strftime('%Y-%m-%d')
+					date = datetime.fromtimestamp(os.stat(os.path.join(imagedir, "var/lib/dpkg/status")).st_mtime).strftime('%Y-%m-%d')
 					if date.startswith("1970"):
 						date = datetime.fromtimestamp(os.stat(os.path.join(imagedir, "usr/share/bootlogo.mvi")).st_mtime).strftime('%Y-%m-%d')
 					date = max(date, datetime.fromtimestamp(os.stat(os.path.join(imagedir, "usr/bin/enigma2")).st_mtime).strftime('%Y-%m-%d'))
diff -ruN o/lib/python/Tools/StbHardware.py pc/lib/python/Tools/StbHardware.py
--- o/lib/python/Tools/StbHardware.py	2020-08-01 17:47:17.205608160 +0300
+++ pc/lib/python/Tools/StbHardware.py	2020-11-01 12:15:23.273279869 +0300
@@ -6,7 +6,7 @@
 def getFPVersion():
 	ret = None
 	try:
-		ret = long(open("/proc/stb/fp/version", "r").read())
+		ret = long(open("/usr/local/e2/etc/stb/fp/version", "r").read())
 	except IOError:
 		try:
 			fp = open("/dev/dbox/fp0")
@@ -20,7 +20,7 @@
 
 def setFPWakeuptime(wutime):
 	try:
-		open("/proc/stb/fp/wakeup_time", "w").write(str(wutime))
+		open("/usr/local/e2/etc/stb/fp/wakeup_time", "w").write(str(wutime))
 	except IOError:
 		try:
 			fp = open("/dev/dbox/fp0")
@@ -32,16 +32,16 @@
 	if forsleep is None:
 		forsleep = (localtime(time()).tm_hour-gmtime(time()).tm_hour)*3600
 	try:
-		open("/proc/stb/fp/rtc_offset", "w").write(str(forsleep))
+		open("/usr/local/e2/etc/stb/fp/rtc_offset", "w").write(str(forsleep))
 		print "[RTC] set RTC offset to %s sec." % (forsleep)
 	except IOError:
 		print "setRTCoffset failed!"
 
 def setRTCtime(wutime):
-	if path.exists("/proc/stb/fp/rtc_offset"):
+	if path.exists("/usr/local/e2/etc/stb/fp/rtc_offset"):
 		setRTCoffset()
 	try:
-		open("/proc/stb/fp/rtc", "w").write(str(wutime))
+		open("/usr/local/e2/etc/stb/fp/rtc", "w").write(str(wutime))
 	except IOError:
 		try:
 			fp = open("/dev/dbox/fp0")
@@ -52,7 +52,7 @@
 def getFPWakeuptime():
 	ret = 0
 	try:
-		ret = long(open("/proc/stb/fp/wakeup_time", "r").read())
+		ret = long(open("/usr/local/e2/etc/stb/fp/wakeup_time", "r").read())
 	except IOError:
 		try:
 			fp = open("/dev/dbox/fp0")
@@ -69,7 +69,7 @@
 		return wasTimerWakeup
 	wasTimerWakeup = False
 	try:
-		wasTimerWakeup = int(open("/proc/stb/fp/was_timer_wakeup", "r").read()) and True or False
+		wasTimerWakeup = int(open("/usr/local/e2/etc/stb/fp/was_timer_wakeup", "r").read()) and True or False
 	except:
 		try:
 			fp = open("/dev/dbox/fp0")
@@ -83,7 +83,7 @@
 
 def clearFPWasTimerWakeup():
 	try:
-		open("/proc/stb/fp/was_timer_wakeup", "w").write('0')
+		open("/usr/local/e2/etc/stb/fp/was_timer_wakeup", "w").write('0')
 	except:
 		try:
 			fp = open("/dev/dbox/fp0")
diff -ruN o/lib/service/Makefile.inc pc/lib/service/Makefile.inc
--- o/lib/service/Makefile.inc	2020-08-01 17:47:17.206608126 +0300
+++ pc/lib/service/Makefile.inc	2020-11-01 12:15:23.285280091 +0300
@@ -10,7 +10,6 @@
 	service/servicedvb.cpp \
 	service/servicedvbrecord.cpp \
 	service/servicefs.cpp \
-	service/servicem2ts.cpp \
 	service/servicedvbstream.cpp \
 	service/servicehdmi.cpp \
 	service/servicepeer.cpp \
@@ -26,7 +25,6 @@
 	service/servicedvb.h \
 	service/servicedvbrecord.h \
 	service/servicefs.h \
-	service/servicem2ts.h \
 	service/servicedvbstream.h \
 	service/servicehdmi.h \
 	service/servicepeer.h \
diff -ruN o/lib/service/servicedvb.cpp pc/lib/service/servicedvb.cpp
--- o/lib/service/servicedvb.cpp	2020-08-01 17:47:17.207608091 +0300
+++ pc/lib/service/servicedvb.cpp	2020-11-01 12:15:23.296280295 +0300
@@ -646,7 +646,6 @@
 	if (sc)
 	{
 		std::list<std::string> extensions;
-		extensions.push_back("ts");
 		extensions.push_back("trp");
 		sc->addServiceFactory(eServiceFactoryDVB::id, this, extensions);
 		/*
@@ -1038,6 +1037,12 @@
 	CONNECT(m_service_handler.serviceEvent, eDVBServicePlay::serviceEvent);
 	CONNECT(m_service_handler_timeshift.serviceEvent, eDVBServicePlay::serviceEventTimeshift);
 	CONNECT(m_event_handler.m_eit_changed, eDVBServicePlay::gotNewEvent);
+
+	/*	OpenPliPC	*/
+	xineLib = cXineLib::getInstance();
+	xine_connection = CONNECT(xineLib->m_event, eDVBServicePlay::video_event);
+	/*	---------	*/
+
 	CONNECT(m_subtitle_sync_timer->timeout, eDVBServicePlay::checkSubtitleTiming);
 	CONNECT(m_nownext_timer->timeout, eDVBServicePlay::updateEpgCacheNowNext);
 }
@@ -1067,6 +1072,11 @@
 			meta.updateMeta(m_reference.path);
 		}
 	}
+
+	/*	OpenPliPC	*/
+	xine_connection.disconnect();
+	/*	---------	*/
+
 	if (m_subtitle_widget) m_subtitle_widget->destroy();
 }
 
@@ -1210,7 +1220,31 @@
 		if (!m_timeshift_active)
 			m_event((iPlayableService*)this, evUpdatedInfo);
 
-		m_event((iPlayableService*)this, evNewProgramInfo);
+		/*	OpenPliPC	*/
+		ePtr<iDVBDemux> demux;
+		if ((!m_is_pvr && !m_service_handler.getDataDemux(demux)) & !m_timeshift_enabled)
+		{
+			printf("Start live TV!\n");
+
+			demux->createTSRecorder(m_openpliPC_record);
+			if (!m_openpliPC_record)
+				return;
+
+			if (m_openpliPC_fd < 0)
+			{
+				m_openpliPC_record = 0;
+				return;
+			}
+			m_openpliPC_record->setTargetFD(m_openpliPC_fd);
+			m_openpliPC_record->setTargetFilename(m_openpliPC_file);
+			m_openpliPC_record->enableAccessPoints(false);
+			updateTimeshiftPids(); // workaround to set PIDs
+			m_openpliPC_record->start();
+
+			printf("Start live TV END\n");
+		}
+		/*	---------	*/
+
 		break;
 	}
 	case eDVBServicePMTHandler::eventPreStart:
@@ -1353,6 +1387,11 @@
 	else
 		m_event(this, evStart);
 
+	/*	OpenPliPC	*/
+	m_openpliPC_file = std::string("/tmp/ENIGMA_FIFO");
+	m_openpliPC_fd = ::open(m_openpliPC_file.c_str(), O_RDWR);
+	/*	---------	*/
+
 	if (m_is_stream)
 	{
 		/*
@@ -1369,10 +1408,6 @@
 		type = eDVBServicePMTHandler::streamclient;
 	}
 
-	m_first_program_info = 1;
-	ePtr<iTsSource> source = createTsSource(service, packetsize);
-	m_service_handler.tuneExt(service, source, service.path.c_str(), m_cue, false, m_dvb_service, type, scrambled);
-
 	if (m_is_pvr)
 	{
 		/* inject EIT if there is a stored one */
@@ -1388,6 +1423,19 @@
 		}
 		m_event(this, evStart);
 	}
+
+	/*	OpenPliPC	*/
+	cXineLib *xineLib = cXineLib::getInstance();
+	if (m_timeshift_changed)
+		xineLib->setScrambled(false);
+	else
+		xineLib->setScrambled(scrambled);
+	/*	---------	*/
+
+	m_first_program_info = 1;
+	ePtr<iTsSource> source = createTsSource(service, packetsize);
+	m_service_handler.tuneExt(service, source, service.path.c_str(), m_cue, false, m_dvb_service, type, scrambled);
+
 	return 0;
 }
 
@@ -1430,6 +1478,19 @@
 
 	stopTimeshift(); /* in case timeshift was enabled, remove buffer etc. */
 
+	/*	OpenPliPC (stop)	*/
+	if (m_openpliPC_record)
+	{
+		m_openpliPC_record->stop();
+		m_openpliPC_record = 0;
+	}
+	if (m_openpliPC_fd > 0) {
+		printf("close(m_openpliPC_fd) %d\n", m_openpliPC_fd);
+		close(m_openpliPC_fd);
+		m_openpliPC_fd = -1;
+	}
+	/*	----------------	*/
+
 	m_service_handler_timeshift.free();
 	m_service_handler.free();
 
@@ -1602,9 +1663,6 @@
 {
 	eDebug("[eDVBServicePlay] seekTo %lld", to);
 
-	if (!m_decode_demux)
-		return -1;
-
 	ePtr<iDVBPVRChannel> pvr_channel;
 
 	if ((m_timeshift_enabled ? m_service_handler_timeshift : m_service_handler).getPVRChannel(pvr_channel))
@@ -1613,6 +1671,11 @@
 	if (!m_cue)
 		return -1;
 
+	/*	OpenPliPC	*/
+	cXineLib *xineLib = cXineLib::getInstance();
+	xineLib->SeekTo(to);
+	/*	OpenPliPC	*/
+
 	m_cue->seekTo(0, to);
 	m_dvb_subtitle_pages.clear();
 	m_subtitle_pages.clear();
@@ -1646,6 +1709,12 @@
 	m_cue->seekTo(mode, to);
 	m_dvb_subtitle_pages.clear();
 	m_subtitle_pages.clear();
+
+	/*	OpenPliPC	*/
+	cXineLib *xineLib = cXineLib::getInstance();
+	xineLib->VideoRewT(to/90*direction);
+	/*	---------	*/
+
 	return 0;
 }
 
@@ -1662,12 +1731,12 @@
 	int r = 0;
 
 		/* if there is a decoder, use audio or video PTS */
-	if (m_decoder)
-	{
-		r = m_decoder->getPTS(0, pos);
+
+		/*	OpenPliPC	*/
+		r = xineLib->getPTS(pos);
 		if (r)
 			return r;
-	}
+		/*	---------	*/
 
 		/* fixup */
 	return pvr_channel->getCurrentPosition(m_decode_demux, pos, m_decoder);
@@ -1867,22 +1936,24 @@
 	switch (w)
 	{
 	case sVideoHeight:
-		if (m_decoder) return m_decoder->getVideoHeight();
+
+	/*	OpenPliPC	*/
+		return xineLib->getVideoHeight();
 		break;
 	case sVideoWidth:
-		if (m_decoder) return m_decoder->getVideoWidth();
+		return xineLib->getVideoWidth();
 		break;
 	case sFrameRate:
-		if (m_decoder) return m_decoder->getVideoFrameRate();
+		return xineLib->getVideoFrameRate();
 		break;
 	case sProgressive:
-		if (m_decoder) return m_decoder->getVideoProgressive();
+		return xineLib->getProgressive();
 		break;
 	case sAspect:
 	{
-		int aspect = -1;
-		if (m_decoder)
-			aspect = m_decoder->getVideoAspect();
+		int aspect = xineLib->getVideoAspect();
+	/*	--------	*/
+
 		if (aspect == -1 && no_program_info)
 			break;
 		else if (aspect == -1 && !program.videoStreams.empty() && program.videoStreams[0].component_tag != -1)
@@ -2093,6 +2164,11 @@
 	if (m_decoder->set())
 		return -5;
 
+	/*	OpenPliPC	*/
+		cXineLib *xineLib = cXineLib::getInstance();
+		xineLib->selectAudioStream(i); // switch audio track
+	/*	---------	*/
+
 	return ret;
 }
 
@@ -2171,6 +2247,13 @@
 
 	int apid = -1, apidtype = -1;
 
+	/*	OpenPliPC	*/
+	bool amode = false;  // if == true, radio mode
+
+	if (program.videoStreams.empty())
+		amode = true;
+	/*	---------	*/
+
 	if (((unsigned int)stream) < program.audioStreams.size())
 	{
 		apid = program.audioStreams[stream].pid;
@@ -2185,7 +2268,7 @@
 
 	m_current_audio_pid = apid;
 
-	if (!m_noaudio && m_decoder->setAudioPID(apid, apidtype))
+	if (!m_noaudio && m_decoder->setAudioPID(apid, apidtype, amode))
 	{
 		eDebug("[eDVBServicePlay] set audio pid %04x failed", apid);
 		return -4;
@@ -2744,9 +2827,6 @@
 
 void eDVBServicePlay::updateTimeshiftPids()
 {
-	if (!m_record)
-		return;
-
 	eDVBServicePMTHandler::program program;
 	eDVBServicePMTHandler &h = m_timeshift_active ? m_service_handler_timeshift : m_service_handler;
 
@@ -2808,14 +2888,31 @@
 				std::inserter(new_pids, new_pids.begin())
 				);
 
+		/*	OpenPliPC	*/
 		for (std::set<int>::iterator i(new_pids.begin()); i != new_pids.end(); ++i)
+		{
+		if (m_record)
 			m_record->addPID(*i);
+		if (m_openpliPC_record)
+			m_openpliPC_record->addPID(*i);
+		}
 
 		for (std::set<int>::iterator i(obsolete_pids.begin()); i != obsolete_pids.end(); ++i)
+		{
+		if (m_record)
 			m_record->removePID(*i);
+		if (m_openpliPC_record)
+			m_openpliPC_record->removePID(*i);
+		}
 
 		if (timing_pid != -1)
+		{
+		if (m_record)
 			m_record->setTimingPID(timing_pid, timing_pid_type, timing_stream_type);
+		if (m_openpliPC_record)
+			m_openpliPC_record->setTimingPID(timing_pid, timing_pid_type, timing_stream_type);
+		}
+		/* ------------------*/
 	}
 }
 
@@ -2839,6 +2936,33 @@
 	/* free the timeshift service handler, we need the resources */
 	m_service_handler_timeshift.free();
 
+	start();
+
+	/*	OpenPLiPC (Start LiveTV)	*/
+	ePtr<iDVBDemux> demux;
+	if (!m_is_pvr && !m_service_handler.getDataDemux(demux))
+	{
+		printf("Start live TV, end Timeshift!\n");
+
+		demux->createTSRecorder(m_openpliPC_record);
+		if (!m_openpliPC_record)
+			return;
+
+		if (m_openpliPC_fd < 0)
+		{
+			m_openpliPC_record = 0;
+		return;
+		}
+		m_openpliPC_record->setTargetFD(m_openpliPC_fd);
+		m_openpliPC_record->setTargetFilename(m_openpliPC_file);
+		m_openpliPC_record->enableAccessPoints(false);
+		updateTimeshiftPids(); // workaround to set PIDs
+		m_openpliPC_record->start();
+
+		printf("Start live TV END\n");
+	}
+	/*	------------------------	*/
+
 	updateDecoder(true);
 }
 
@@ -2914,11 +3038,28 @@
 	eDebug("[eDVBServicePlay] switchToTimeshift, in pause mode now.");
 	pause();
 	updateDecoder(true); /* mainly to switch off PCR, and to set pause */
+
+	/*	OpenPliPC (stop)	*/
+        if (m_openpliPC_record)
+        {
+                m_openpliPC_record->stop();
+                m_openpliPC_record = 0;
+        }
+        if (m_openpliPC_fd > 0) {
+                printf("Switch from Live TV to Timeshift, close(m_openpliPC_fd) %d\n", m_openpliPC_fd);
+                close(m_openpliPC_fd);
+                m_openpliPC_fd = -1;
+        }
+	/*	----------------	*/
+
 }
 
 void eDVBServicePlay::updateDecoder(bool sendSeekableStateChanged)
 {
-	int vpid = -1, vpidtype = -1, pcrpid = -1, tpid = -1, achannel = -1, ac3_delay=-1, pcm_delay=-1;
+	/* OpenPliPC */
+	int vpid = -1, vpidtype = -1, pcrpid = -1, tpid = -1, achannel = -1, ac3_delay=-1, pcm_delay=-1, vstreamtype=-1;
+	/* --------- */
+
 	bool mustPlay = false;
 
 	eDVBServicePMTHandler &h = m_timeshift_active ? m_service_handler_timeshift : m_service_handler;
@@ -2940,6 +3081,10 @@
 				{
 					vpid = i->pid;
 					vpidtype = i->type;
+
+					/* OpenPliPC */
+					vstreamtype = i->orig_streamtype;
+					/* --------- */
 				}
 				if (i != program.videoStreams.begin())
 					eDebugNoNewLine(", ");
@@ -3018,7 +3163,14 @@
 			setPCMDelay(pcm_delay == -1 ? 0 : pcm_delay);
 		}
 
-		m_decoder->setVideoPID(vpid, vpidtype);
+		/* OpenPliPC */
+		/* Viewing recordings and video in PVR Mode */
+		if (m_is_pvr) {
+			vstreamtype = 0;
+		}
+		m_decoder->setVideoPID(vpid, vpidtype, vstreamtype);
+		/* --------- */
+
 		m_have_video_pid = (vpid > 0 && vpid < 0x2000);
 
 		if (!m_noaudio)
@@ -3461,9 +3613,14 @@
 {
 	if (m_subtitle_widget)
 	{
+		/*	OpenPliPC	*/
+		pts_t pos = 0;
+		xineLib->getPTS(pos);
+		/*	--------	*/
+
 		int subtitledelay = 0;
 		pts_t pts;
-		m_decoder->getPTS(0, pts);
+
 		if (m_is_pvr || m_timeshift_enabled)
 		{
 			eDebug("[eDVBServicePlay] Subtitle in recording/timeshift");
@@ -3479,6 +3636,7 @@
 		eDVBTeletextSubtitlePage tmppage = page;
 		tmppage.m_have_pts = true;
 
+		pts = 0;
 		if (abs(tmppage.m_pts - pts) > 20*90000)
 			tmppage.m_pts = pts; // fix abnormal pts diffs
 
@@ -3499,10 +3657,8 @@
 	{
 		return;
 	}
-	if (m_decoder)
-	{
-		m_decoder->getPTS(0, pos);
-	}
+
+	xineLib->getPTS(pos);
 
 	while (1)
 	{
@@ -3556,8 +3712,8 @@
 	if (m_subtitle_widget)
 	{
 		pts_t pos = 0;
-		if (m_decoder)
-			m_decoder->getPTS(0, pos);
+
+		xineLib->getPTS(pos);
 
 		// Where subtitles are delivered out of sync with video, only treat subtitles in the past as having bad timing.
 		// Those that are delivered too early are cached for displaying at the appropriate later time
@@ -3677,7 +3833,7 @@
 		if (!m_noaudio)
 			selectAudioStream();
 		else
-			m_decoder->setAudioPID(-1, -1);
+			m_decoder->setAudioPID(-1, -1, -1);
 
 		m_decoder->set();
 	}
diff -ruN o/lib/service/servicedvb.h pc/lib/service/servicedvb.h
--- o/lib/service/servicedvb.h	2020-08-01 17:47:17.207608091 +0300
+++ pc/lib/service/servicedvb.h	2020-11-01 12:15:23.324280814 +0300
@@ -9,6 +9,8 @@
 #include <lib/dvb/subtitle.h>
 #include <lib/dvb/teletext.h>
 #include <lib/dvb/radiotext.h>
+#include <lib/dvb/filepush.h>
+#include <lib/gdi/xineLib.h>
 
 class eStaticServiceDVBInformation;
 class eStaticServiceDVBBouquetInformation;
@@ -247,6 +249,11 @@
 	ePtr<iDVBTSRecorder> m_record;
 	std::set<int> m_pids_active;
 
+		/* openpliPC */
+	ePtr<iDVBTSRecorder> m_openpliPC_record;
+	std::string m_openpliPC_file;
+	int m_openpliPC_fd;
+
 	void updateTimeshiftPids();
 
 	void resetTimeshift(int start);
@@ -320,6 +327,9 @@
 	void video_event(struct iTSMPEGDecoder::videoEvent);
 
 	virtual ePtr<iTsSource> createTsSource(eServiceReferenceDVB &ref, int packetsize = 188);
+
+	sigc::connection xine_connection;
+	cXineLib* xineLib;
 };
 
 class eStaticServiceDVBBouquetInformation: public iStaticServiceInformation
diff -ruN o/lib/service/servicedvd.cpp pc/lib/service/servicedvd.cpp
--- o/lib/service/servicedvd.cpp	2020-08-01 17:47:17.208608056 +0300
+++ pc/lib/service/servicedvd.cpp	2020-11-01 12:15:23.338281073 +0300
@@ -188,7 +188,7 @@
 	if (ddvd_language != "")
 		ddvd_set_language(m_ddvdconfig, (ddvd_language.substr(0, 2)).c_str());
 
-	int fd = open("/proc/stb/video/aspect", O_RDONLY);
+	int fd = open("/usr/local/e2/etc/stb/video/aspect", O_RDONLY);
 	if (fd > -1)
 	{
 		rd = read(fd, tmp, 255);
@@ -199,7 +199,7 @@
 		close(fd);
 	}
 
- 	fd = open("/proc/stb/video/policy", O_RDONLY);
+ 	fd = open("/usr/local/e2/etc/stb/video/policy", O_RDONLY);
 	if (fd > -1)
 	{
 		rd = read(fd, tmp, 255);
@@ -211,7 +211,7 @@
 	}
 
 #ifdef DDVD_SUPPORTS_16_10_SCALING
- 	fd = open("/proc/stb/video/policy2", O_RDONLY);
+ 	fd = open("/usr/local/e2/etc/stb/video/policy2", O_RDONLY);
 	if (fd > -1)
 	{
 		rd = read(fd, tmp, 255);
@@ -1021,7 +1021,7 @@
 	if (f == NULL)
 	{
 		// Determine cue filename
-		filename = "/home/root/.dvdcuts/";
+		filename = "/media/hdd/.dvdcuts/";
 		if (m_ddvd_titlestring[0] != '\0')
 			filename += m_ddvd_titlestring;
 		else
@@ -1116,8 +1116,8 @@
 	if (f == NULL)
 	{
 		// Determine cue filename
-		filename = "/home/root/.dvdcuts";
-		if (stat("/home/root", &st) == 0 && stat(filename.c_str(), &st) != 0)
+		filename = "/media/hdd/.dvdcuts";
+		if (stat("/media/hdd", &st) == 0 && stat(filename.c_str(), &st) != 0)
 			if (mkdir(filename.c_str(), 0755))
 				return; // cannot create directory so no point in trying to save cue data
 			
diff -ruN o/lib/service/servicehdmi.cpp pc/lib/service/servicehdmi.cpp
--- o/lib/service/servicehdmi.cpp	2020-08-01 17:47:17.208608056 +0300
+++ pc/lib/service/servicehdmi.cpp	2020-11-01 12:15:23.343281166 +0300
@@ -123,9 +123,9 @@
 RESULT eServiceHDMI::start()
 {
 	m_decoder = new eTSMPEGDecoder(NULL, m_decoder_index);
-	m_decoder->setVideoPID(1, 0);
+	m_decoder->setVideoPID(1, 0, 0);
 	if (!m_noaudio)
-		m_decoder->setAudioPID(1, 0);
+		m_decoder->setAudioPID(1, 0, 0);
 	m_decoder->play();
 	m_event(this, evStart);
 	return 0;
diff -ruN o/lib/service/servicets.cpp pc/lib/service/servicets.cpp
--- o/lib/service/servicets.cpp	2020-08-01 17:47:17.208608056 +0300
+++ pc/lib/service/servicets.cpp	2020-11-01 12:15:23.348281258 +0300
@@ -250,8 +250,8 @@
 			return -1;
 		}
 	}
-	m_decoder->setVideoPID(m_vpid, eDVBVideo::MPEG2);
-	m_decoder->setAudioPID(m_apid, eDVBAudio::aMPEG);
+	m_decoder->setVideoPID(m_vpid, eDVBVideo::MPEG2, 0);
+	m_decoder->setAudioPID(m_apid, eDVBAudio::aMPEG, 0);
 	m_streamthread = new eStreamThread();
 	CONNECT(m_streamthread->m_event, eServiceTS::recv_event);
 	m_decoder->pause();
@@ -420,7 +420,7 @@
 	if (m_audioInfo) {
 		m_apid = m_audioInfo->audioStreams[i].pid;
 		eDebug("[servicets] audio track %d PID 0x%02x type %d\n", i, m_apid, m_audioInfo->audioStreams[i].type);
-		m_decoder->setAudioPID(m_apid, m_audioInfo->audioStreams[i].type);
+		m_decoder->setAudioPID(m_apid, m_audioInfo->audioStreams[i].type, 0);
 		m_decoder->set();
 		return 0;
 	} else {
diff -ruN o/lib/service/servicewebts.cpp pc/lib/service/servicewebts.cpp
--- o/lib/service/servicewebts.cpp	2020-08-01 17:47:17.208608056 +0300
+++ pc/lib/service/servicewebts.cpp	2020-11-01 12:15:23.364281555 +0300
@@ -375,10 +375,10 @@
 			PID_SET = 1;
 			m_decodedemux->flush();
 			if (H264)
-				m_decoder->setVideoPID(VPID, eDVBVideo::MPEG4_H264);
+				m_decoder->setVideoPID(VPID, eDVBVideo::MPEG4_H264, 0);
 			else
-				m_decoder->setVideoPID(VPID, eDVBVideo::MPEG2);
-			m_decoder->setAudioPID(APID, eDVBAudio::aMPEG);
+				m_decoder->setVideoPID(VPID, eDVBVideo::MPEG2, 0);
+			m_decoder->setAudioPID(APID, eDVBAudio::aMPEG, 0);
 			m_decoder->pause();
 			m_event(this, evStart);
 			m_decoder->play();
@@ -528,7 +528,7 @@
 	if (m_audioInfo) {
 		m_apid = m_audioInfo->audioStreams[i].pid;
 		eDebug("[ServiceWebTS] audio track %d PID 0x%02x type %d\n", i, m_apid, m_audioInfo->audioStreams[i].type);
-		m_decoder->setAudioPID(m_apid, m_audioInfo->audioStreams[i].type);
+		m_decoder->setAudioPID(m_apid, m_audioInfo->audioStreams[i].type, 0);
 		m_decoder->set();
 		return 0;
 	} else {
diff -ruN o/main/bsod.cpp pc/main/bsod.cpp
--- o/main/bsod.cpp	2020-10-08 17:00:52.537646286 +0300
+++ pc/main/bsod.cpp	2020-11-01 12:15:23.369281647 +0300
@@ -133,7 +133,7 @@
 		 * alone because we may be in a crash loop and writing this file
 		 * all night long may damage the flash. Also, usually the first
 		 * crash log is the most interesting one. */
-		crashlog_name = "/home/root/enigma2_crash.log";
+		crashlog_name = "/media/hdd/enigma2_crash.log";
 		if ((access(crashlog_name.c_str(), F_OK) == 0) ||
 		    ((f = fopen(crashlog_name.c_str(), "wb")) == NULL))
 		{
@@ -171,11 +171,11 @@
 			enigma2_rev,
 			component);
 
-		stringFromFile(f, "stbmodel", "/proc/stb/info/boxtype");
-		stringFromFile(f, "stbmodel", "/proc/stb/info/vumodel");
-		stringFromFile(f, "stbmodel", "/proc/stb/info/model");
+		stringFromFile(f, "stbmodel", "/usr/local/e2/etc/stb/info/boxtype");
+		stringFromFile(f, "stbmodel", "/usr/local/e2/etc/stb/info/vumodel");
+		stringFromFile(f, "stbmodel", "/usr/local/e2/etc/stb/info/model");
 		stringFromFile(f, "kernelcmdline", "/proc/cmdline");
-		stringFromFile(f, "nimsockets", "/proc/bus/nim_sockets");
+		stringFromFile(f, "nimsockets", "/usr/local/e2/etc/tuxbox/nim_sockets");
 		stringFromFile(f, "imageversion", "/etc/image-version");
 		stringFromFile(f, "imageissue", "/etc/issue.net");
 
diff -ruN o/main/enigma.cpp pc/main/enigma.cpp
--- o/main/enigma.cpp	2020-08-01 17:47:17.209608021 +0300
+++ pc/main/enigma.cpp	2020-11-01 12:15:23.371281684 +0300
@@ -135,7 +135,7 @@
 
 void quitMainloop(int exitCode)
 {
-	FILE *f = fopen("/proc/stb/fp/was_timer_wakeup", "w");
+	FILE *f = fopen("/usr/local/e2/etc/stb/fp/was_timer_wakeup", "w");
 	if (f)
 	{
 		fprintf(f, "%d", 0);
diff -ruN o/main/Makefile.am pc/main/Makefile.am
--- o/main/Makefile.am	2020-08-01 17:47:17.209608021 +0300
+++ pc/main/Makefile.am	2020-11-01 12:15:23.372281703 +0300
@@ -45,7 +45,8 @@
 	@ALSA_LIBS@ \
 	@AVAHI_LIBS@ \
 	@LIBDL_LIBS@ \
-	-ltuxtxt32bpp
+	@X11_LIBS@ \
+	-ltuxtxt32bpp -lnl-3 -lnl-genl-3 -ldvbcsa
 
 enigma2_LDFLAGS = -Wl,--export-dynamic
 
diff -ruN o/mytest.py pc/mytest.py
--- o/mytest.py	2020-08-01 17:47:17.209608021 +0300
+++ pc/mytest.py	2020-11-01 12:15:23.382281888 +0300
@@ -53,7 +53,7 @@
 
 profile("config.misc")
 config.misc.radiopic = ConfigText(default = resolveFilename(SCOPE_CURRENT_SKIN, "radio.mvi"))
-config.misc.blackradiopic = ConfigText(default = resolveFilename(SCOPE_CURRENT_SKIN, "black.mvi"))
+config.misc.blackradiopic = ConfigText(default = resolveFilename(SCOPE_CURRENT_SKIN, "logo.mvi"))
 config.misc.useTransponderTime = ConfigYesNo(default=True)
 config.misc.startCounter = ConfigInteger(default=0) # number of e2 starts...
 config.misc.standbyCounter = NoSave(ConfigInteger(default=0)) # number of standby
@@ -63,7 +63,7 @@
 #config.misc.prev_wakeup_time_type is only valid when wakeup_time is not 0
 config.misc.prev_wakeup_time_type = ConfigInteger(default=0)
 # 0 = RecordTimer, 1 = ZapTimer, 2 = Plugins, 3 = WakeupTimer
-config.misc.epgcache_filename = ConfigText(default = "/hdd/epg.dat", fixed_size = False)
+config.misc.epgcache_filename = ConfigText(default = "/media/hdd/epg.dat", fixed_size = False)
 
 def setEPGCachePath(configElement):
 	if os.path.isdir(configElement.value) or os.path.islink(configElement.value):
diff -ruN o/po/ru.po pc/po/ru.po
--- o/po/ru.po	2020-10-21 11:27:59.848421884 +0300
+++ pc/po/ru.po	2020-11-01 12:15:23.395282129 +0300
@@ -2,16 +2,16 @@
 msgstr ""
 "Project-Id-Version: enigma2\n"
 "Report-Msgid-Bugs-To: \n"
-"POT-Creation-Date: 2020-10-10 21:34+0200\n"
-"PO-Revision-Date: 2020-09-06 21:40+0300\n"
-"Last-Translator: Dimitrij <Dima-73@inbox.lv>\n"
-"Language-Team: openPLi Dimitrij\n"
+"POT-Creation-Date: 2020-07-12 12:17+0200\n"
+"PO-Revision-Date: 2020-10-21 12:07+0300\n"
+"Last-Translator:   <a.g.prosat@gmail.com>\n"
+"Language-Team: Enthusiasts\n"
 "Language: ru\n"
 "MIME-Version: 1.0\n"
 "Content-Type: text/plain; charset=UTF-8\n"
 "Content-Transfer-Encoding: 8bit\n"
 "Plural-Forms: nplurals=3; plural=(n%10==1 && n%100!=11 ? 0 : n%10>=2 && n%10<=4 && (n%100<10 || n%100>=20) ? 1 : 2);\n"
-"X-Generator: Poedit 2.0.4\n"
+"X-Generator: Poedit 2.3\n"
 
 msgid ""
 "\n"
@@ -32,7 +32,7 @@
 "Press OK on your remote control to continue."
 msgstr ""
 "\n"
-"     /  ."
+"      ."
 
 msgid ""
 "\n"
@@ -77,16 +77,16 @@
 msgstr " ()"
 
 msgid " (disabled)"
-msgstr " ()"
+msgstr " ()"
 
 msgid " (higher than any auto)"
-msgstr " (   )"
+msgstr " (  '')"
 
 msgid " (higher than rotor any auto)"
-msgstr " (    )"
+msgstr " (  '' )"
 
 msgid " (lower than any auto)"
-msgstr " (   )"
+msgstr " (  '')"
 
 msgid " extensions."
 msgstr " ."
@@ -105,15 +105,15 @@
 
 #, python-format
 msgid "%.0f GB"
-msgstr "%.0f GB"
+msgstr "%.0f "
 
 #, python-format
 msgid "%.0f MB"
-msgstr "%.0f MB"
+msgstr "%.0f "
 
 #, python-format
 msgid "%.0f kB"
-msgstr "%.0f kB"
+msgstr "%.0f "
 
 #, python-format
 msgid "%.1f E"
@@ -125,7 +125,7 @@
 
 #, python-format
 msgid "%.2f GB"
-msgstr "%.2f GB"
+msgstr "%.2f "
 
 #, python-format
 msgid "%02d:%02d"
@@ -133,11 +133,11 @@
 
 #, python-format
 msgid "%03d MB"
-msgstr "%03d MB"
+msgstr "%03d "
 
 #, python-format
 msgid "%2.1f sec"
-msgstr "%2.1f ."
+msgstr "%2.1f "
 
 #. TRANSLATORS: short time representation hour:minute
 #, python-format
@@ -151,7 +151,7 @@
 
 #, python-format
 msgid "%3.01f dB"
-msgstr "%3.01f dB"
+msgstr "%3.01f "
 
 msgid "%A %d %B"
 msgstr "%A %d %B"
@@ -181,15 +181,15 @@
 
 #, python-format
 msgid "%d B"
-msgstr "%d B"
+msgstr "%d "
 
 #, python-format
 msgid "%d GB"
-msgstr "%d GB"
+msgstr "%d "
 
 #, python-format
 msgid "%d MB"
-msgstr "%d MB"
+msgstr "%d "
 
 #. TRANSLATORS: Intermediate scanning result, '%d' channel(s) have been found so far
 #, python-format
@@ -222,7 +222,7 @@
 
 #, python-format
 msgid "%d fps"
-msgstr "%d fps"
+msgstr "%d /"
 
 #, python-format
 msgid "%d hour"
@@ -240,11 +240,11 @@
 
 #, python-format
 msgid "%d kB"
-msgstr "%d kB"
+msgstr "%d "
 
 #, python-format
 msgid "%d kB/s"
-msgstr "%d kB/s"
+msgstr "%d /"
 
 #, python-format
 msgid "%d min"
@@ -306,7 +306,7 @@
 
 #, python-format
 msgid "%d.%03d GB"
-msgstr "%d.%03d GB"
+msgstr "%d.%03d "
 
 msgid "%d.%B %Y"
 msgstr "%d.%B %Y"
@@ -334,7 +334,7 @@
 "%s?"
 msgstr ""
 "%s\n"
-"     \n"
+"     \n"
 "%s?"
 
 #, python-format
@@ -344,7 +344,7 @@
 "Press exit to close"
 msgstr ""
 "%s\n"
-"    \n"
+" OK   \n"
 "   "
 
 #, python-format
@@ -361,7 +361,7 @@
 
 #, python-format
 msgid "%s imported from fallback tuner"
-msgstr "%s    "
+msgstr "%s    "
 
 #. TRANSLATORS: The satellite with name '%s' is no longer used after a configuration change. The user is asked whether or not the satellite should be deleted.
 #, python-format
@@ -377,7 +377,7 @@
 
 #, python-format
 msgid "%s%% Autoinstalling %s"
-msgstr "%s%%   %s"
+msgstr "%s%%  %s"
 
 #, python-format
 msgid "%s%d min"
@@ -395,7 +395,7 @@
 msgstr "(VU+ )"
 
 msgid "(ZAP as PiP)"
-msgstr "(  PiP)"
+msgstr "(,  PiP)"
 
 msgid "(ZAP)"
 msgstr "()"
@@ -411,7 +411,7 @@
 msgstr "( )"
 
 msgid "(show optional DVD audio menu)"
-msgstr "(  DVD  )"
+msgstr "(  DVD-)"
 
 msgid "(unknown)"
 msgstr "()"
@@ -451,16 +451,16 @@
 msgstr "100 /"
 
 msgid "10bit"
-msgstr "10bit"
+msgstr "10 "
 
 msgid "12V output"
 msgstr "12V "
 
 msgid "12bit"
-msgstr "12bit"
+msgstr "12 "
 
 msgid "13 V"
-msgstr "13 V"
+msgstr "13 "
 
 msgid "16:10"
 msgstr "16:10"
@@ -484,7 +484,7 @@
 msgstr "16K"
 
 msgid "18 V"
-msgstr "18 V"
+msgstr "18 "
 
 msgid "2"
 msgstr "2"
@@ -565,7 +565,7 @@
 msgstr "8K"
 
 msgid "8bit"
-msgstr "8bit"
+msgstr "8 "
 
 msgid "9"
 msgstr "9"
@@ -574,19 +574,19 @@
 msgstr ": 0000 -   ()"
 
 msgid "<Current movielist location>"
-msgstr "<   >"
+msgstr "<  >"
 
 msgid "<Default movie location>"
-msgstr "<   >"
+msgstr "<  >"
 
 msgid "<Last timer location>"
 msgstr "<  >"
 
 msgid "<unknown>"
-msgstr "<>"
+msgstr "<>"
 
 msgid "=NO STREAM\n"
-msgstr "= \n"
+msgstr "= \n"
 
 msgid "??"
 msgstr "??"
@@ -599,7 +599,7 @@
 "A configuration file (%s) has been modified since it was installed.\n"
 "Do you want to keep your modifications?"
 msgstr ""
-"  (%s)      .\n"
+"  (%s)     .\n"
 "  ?"
 
 #, python-format
@@ -607,11 +607,11 @@
 "A configuration file (%s) was modified since Installation.\n"
 "Do you want to keep your version?"
 msgstr ""
-"  (%s)      .\n"
-"  ?"
+"  (%s)     .\n"
+"  ?"
 
 msgid "A file from media is in use!"
-msgstr "  !"
+msgstr "   !"
 
 msgid ""
 "A finished record timer wants to set your\n"
@@ -624,11 +624,11 @@
 "A finished record timer wants to shut down\n"
 "your receiver. Shutdown now?"
 msgstr ""
-"   ,     (  ).\n"
+"   .     (  ).\n"
 " ?"
 
 msgid "A graphical EPG for all services of a specific bouquet"
-msgstr " EPG      "
+msgstr " EPG      "
 
 #, python-format
 msgid ""
@@ -646,17 +646,17 @@
 "What do you want to do?"
 msgstr ""
 "    .\n"
-"   ?"
+"   ?"
 
 msgid "A recording is currently running. Please stop the recording before trying to scan."
-msgstr "    .,  ,    ."
+msgstr "    . ,   ,   ."
 
 msgid "A recording is currently running. Please stop the recording before trying to start a testing DiSEqC."
-msgstr "    .       DiSEqC."
+msgstr "    . ,      DiSEqC."
 
 #, python-format
 msgid "A required tool (%s) was not found."
-msgstr "  (%s),  ."
+msgstr "  (%s)  ."
 
 msgid "A search for available updates is currently in progress."
 msgstr "     ."
@@ -674,7 +674,7 @@
 "A sleep timer wants to set your\n"
 "receiver to standby. Do that now?"
 msgstr ""
-"    \n"
+"    \n"
 "   .   ?"
 
 msgid ""
@@ -682,7 +682,7 @@
 "your receiver. Shutdown now?"
 msgstr ""
 "   \n"
-" .  ?"
+" .  ?"
 
 msgid "A small overview of the available icon states and actions."
 msgstr "      ."
@@ -692,10 +692,10 @@
 "Disable TV and try again?\n"
 msgstr ""
 "    !\n"
-"  ( )    ?\n"
+"  ( )    ?\n"
 
 msgid "A/V settings"
-msgstr "/ "
+msgstr "/ "
 
 msgid "AAC downmix"
 msgstr "AAC "
@@ -725,10 +725,10 @@
 msgstr ""
 
 msgid "Abort alternatives edit"
-msgstr "  "
+msgstr "  "
 
 msgid "Abort bouquet edit"
-msgstr "  "
+msgstr "  "
 
 msgid "Abort favourites edit"
 msgstr "  "
@@ -743,7 +743,7 @@
 msgstr " HbbTV ( ' ')"
 
 msgid "Activate Picture in Picture"
-msgstr " PiP (  )"
+msgstr " PiP"
 
 msgid "Activate current configuration"
 msgstr "  "
@@ -770,25 +770,25 @@
 msgstr " "
 
 msgid "Add a nameserver entry"
-msgstr "    (DNS)"
+msgstr "  "
 
 msgid "Add a new title"
 msgstr "  "
 
 msgid "Add alternatives"
-msgstr " "
+msgstr " "
 
 msgid "Add bookmark"
 msgstr " "
 
 msgid "Add bouquet"
-msgstr " "
+msgstr " "
 
 msgid "Add bouquet to parental protection"
-msgstr "    "
+msgstr "    "
 
 msgid "Add directory to playlist"
-msgstr "    "
+msgstr "    "
 
 msgid "Add file to playlist"
 msgstr "    "
@@ -809,7 +809,7 @@
 msgstr "  (  )"
 
 msgid "Add recording (indefinitely)"
-msgstr "  ( )"
+msgstr "  (  )"
 
 msgid "Add recording (stop after current event)"
 msgstr "  (   )"
@@ -824,7 +824,7 @@
 msgstr "   "
 
 msgid "Add services to this bouquet?"
-msgstr "    ?"
+msgstr "    ?"
 
 msgid "Add timer"
 msgstr " "
@@ -833,7 +833,7 @@
 msgstr " "
 
 msgid "Add to bouquet"
-msgstr "  "
+msgstr "  "
 
 msgid "Add to favourites"
 msgstr "  "
@@ -845,19 +845,19 @@
 msgstr "//    "
 
 msgid "Additional cable of motorized LNB"
-msgstr "   LNB  "
+msgstr "    LNB"
 
 msgid "Additional motor options allow you to enter details from your motor's spec sheet so enigma can work out how long it will take to move the dish from one satellite to another satellite."
-msgstr "        ,    ,   ,        ."
+msgstr "        ,    ,   ,        ."
 
 msgid "Additional motor options allow you to enter details from your motor's spec sheet so enigma can work out how long it will take to move to another satellite."
-msgstr "        ,    ,   ,      ."
+msgstr "        ,    ,   ,      ."
 
 msgid "Adjust 3D settings"
 msgstr "  3D"
 
 msgid "Adjust the color settings so that all the color shades are distinguishable, but appear as saturated as possible. If you are happy with the result, press OK to close the video fine-tuning, or use the number keys to select other test screens."
-msgstr "  ,        ,   .    ,       ,         ."
+msgstr "   ,       ,   .    ,                ."
 
 msgid "Advanced"
 msgstr ""
@@ -884,22 +884,22 @@
 msgstr "  "
 
 msgid "Afghanistan"
-msgstr "Afghanistan"
+msgstr ""
 
 msgid "After event"
 msgstr " "
 
 msgid "Aland Islands"
-msgstr "Aland Islands"
+msgstr " "
 
 msgid "Albania"
-msgstr "Albania"
+msgstr ""
 
 msgid "Album"
 msgstr ""
 
 msgid "Algeria"
-msgstr "Algeria"
+msgstr ""
 
 msgid "Alignment of events"
 msgstr " "
@@ -938,31 +938,31 @@
 msgstr ""
 
 msgid "Allocate a number to the physical LNB you are configuring. You will be able to select this LNB again for other satellites (e.g. motorised dishes) to save setting up the same LNB multiple times."
-msgstr "    LNB,   .      LNB    (  ),        LNB  ."
+msgstr "    LNB,   .      LNB    ( c ),        LNB  ."
 
 msgid "Allocate unused memory index"
 msgstr "   "
 
 msgid "Allow 10bit"
-msgstr " 10bit"
+msgstr " 10 "
 
 msgid "Allow 12bit"
-msgstr " 12bit"
+msgstr " 12 "
 
 msgid "Allow quit movieplayer with exit"
-msgstr "     "
+msgstr "    "
 
 msgid "Allow quitting movieplayer with exit"
-msgstr "     "
+msgstr "    "
 
 msgid "Allow subtitle language to equal audio language"
-msgstr "      "
+msgstr "      "
 
 msgid "Allow subtitles for hearing impaired"
 msgstr "      "
 
 msgid "Allow unsupported modes"
-msgstr "   "
+msgstr "  "
 
 msgid "Alpha"
 msgstr ""
@@ -989,10 +989,10 @@
 msgstr " 2"
 
 msgid "Alternative URL for images listed on FlashImage"
-msgstr " URL     "
+msgstr " URL"
 
 msgid "Alternative URLs for DVB-T/C or ATSC"
-msgstr " URL  DVB-T/C  ATSC"
+msgstr " URL  DVB-T/C  ATSC"
 
 msgid "Alternative numbering mode"
 msgstr "   "
@@ -1004,7 +1004,7 @@
 msgstr " "
 
 msgid "Always hide infobar"
-msgstr "  "
+msgstr "  "
 
 msgid "Always include ECM in recordings"
 msgstr "  ECM  "
@@ -1013,7 +1013,7 @@
 msgstr "   ECM  .                  ,      .  : ."
 
 msgid "American Samoa"
-msgstr "American Samoa"
+msgstr " "
 
 msgid "An empty filename is illegal."
 msgstr "  ."
@@ -1022,28 +1022,28 @@
 msgstr " . ,   ."
 
 msgid "An error occurred while downloading the packetlist. Please try again."
-msgstr "     . ,   ."
+msgstr "     . ,   ."
 
 msgid "An unknown error occurred!"
 msgstr "  !"
 
 msgid "And will put your receiver in standby over "
-msgstr "        "
+msgstr "        "
 
 msgid "Andorra"
-msgstr "Andorra"
+msgstr ""
 
 msgid "Angola"
-msgstr "Angola"
+msgstr ""
 
 msgid "Anguilla"
-msgstr "Anguilla"
+msgstr ""
 
 msgid "Antarctica"
-msgstr "Antarctica"
+msgstr ""
 
 msgid "Antigua and Barbuda"
-msgstr "Antigua and Barbuda"
+msgstr "  "
 
 msgid "Any activity"
 msgstr " "
@@ -1055,10 +1055,10 @@
 msgstr "    :"
 
 msgid "Are you sure to purge all deleted user bouquets?"
-msgstr "       ?"
+msgstr "      ?"
 
 msgid "Are you sure to reboot to"
-msgstr "     ?"
+msgstr "    "
 
 #, python-format
 msgid "Are you sure to remove all %d.%d%s%s services?"
@@ -1074,7 +1074,7 @@
 msgstr "    ?"
 
 msgid "Are you sure to restore all deleted images"
-msgstr " ,      ?"
+msgstr "      ?"
 
 msgid ""
 "Are you sure you want to activate this network configuration?\n"
@@ -1088,7 +1088,7 @@
 "the following backup:\n"
 msgstr ""
 " ,   \n"
-" :\n"
+"  :\n"
 
 msgid "Are you sure you want to exit this wizard?"
 msgstr " ,       ?"
@@ -1097,7 +1097,7 @@
 "Are you sure you want to restart your network interfaces?\n"
 "\n"
 msgstr ""
-"      ?\n"
+"      ?\n"
 "\n"
 
 #, python-format
@@ -1119,10 +1119,10 @@
 "     !"
 
 msgid "Argentina"
-msgstr "Argentina"
+msgstr ""
 
 msgid "Armenia"
-msgstr "Armenia"
+msgstr ""
 
 msgid "Artist"
 msgstr ""
@@ -1131,7 +1131,7 @@
 msgstr "/"
 
 msgid "Aruba"
-msgstr "Aruba"
+msgstr ""
 
 msgid "As defined by the skin"
 msgstr "   "
@@ -1162,23 +1162,23 @@
 "What do you want to do?"
 msgstr ""
 ",   !\n"
-"   ?"
+"   ?"
 
 msgid "Audio"
 msgstr ""
 
 msgid "Audio / Video"
-msgstr " / "
+msgstr "/"
 
 msgid "Audio PID"
 msgstr " PID"
 
 #, python-format
 msgid "Audio PID%s, codec & lang"
-msgstr " PID%s,  & "
+msgstr " PID%s,   "
 
 msgid "Audio PID, codec & lang"
-msgstr " PID,  & "
+msgstr " PID,   "
 
 msgid "Audio auto volume level"
 msgstr "   "
@@ -1196,10 +1196,10 @@
 msgstr "   4"
 
 msgid "Audio options..."
-msgstr " ..."
+msgstr " "
 
 msgid "Audio plugins"
-msgstr " "
+msgstr ""
 
 #, python-format
 msgid "Audio track (%s) format"
@@ -1207,19 +1207,19 @@
 
 #, python-format
 msgid "Audio track (%s) language"
-msgstr "  (%s) "
+msgstr "  (%s) "
 
 msgid "Audio volume step size"
 msgstr "   "
 
 msgid "Australia"
-msgstr "Australia"
+msgstr ""
 
 msgid "Australian"
-msgstr "Australian"
+msgstr ""
 
 msgid "Austria"
-msgstr "Austria"
+msgstr ""
 
 msgid "Author: "
 msgstr ": "
@@ -1232,7 +1232,7 @@
 msgstr ""
 
 msgid "Auto Diseqc"
-msgstr " Diseqc"
+msgstr "-DiSEqC"
 
 msgid "Auto EXIF Orientation rotation/flipping"
 msgstr " EXIF  /"
@@ -1241,58 +1241,58 @@
 msgstr "     ?  (0=)"
 
 msgid "Auto flesh"
-msgstr " flesh"
+msgstr ""
 
 msgid "Auto focus"
-msgstr " "
+msgstr ""
 
 msgid "Auto focus commencing ..."
-msgstr "   ..."
+msgstr " ."
 
 msgid "Auto language selection"
 msgstr "  "
 
 msgid "Auto play blu-ray file"
-msgstr "  blu-ray "
+msgstr " bluray-"
 
 msgid "Auto play last service in radio mode"
-msgstr "      "
+msgstr "    "
 
 msgid "Auto scart switching"
-msgstr "  SCART"
+msgstr " SCART"
 
 msgid "Autoinstalling Completed"
-msgstr "  ."
+msgstr " ."
 
 msgid "Autoinstalling please wait for packages being updated"
-msgstr " , ,   ."
+msgstr ". ,   "
 
 msgid "Automatic"
 msgstr ""
 
 msgid "Automatic Scan"
-msgstr " "
+msgstr ""
 
 msgid "Automatic bookmarks"
-msgstr "  "
+msgstr " "
 
 msgid "Automatic scan"
-msgstr " "
+msgstr ""
 
 msgid "Automatically start timeshift after"
-msgstr "   "
+msgstr "  "
 
 msgid "Automatically turn on external subtitles"
-msgstr "   "
+msgstr "  "
 
 msgid "Available format variables"
 msgstr "  "
 
 msgid "Available locales are:"
-msgstr "  :"
+msgstr " : "
 
 msgid "Azerbaijan"
-msgstr "Azerbaijan"
+msgstr ""
 
 msgid "B"
 msgstr "B"
@@ -1332,13 +1332,13 @@
 msgstr "  : %s"
 
 msgid "Backup completed."
-msgstr " ."
+msgstr " ."
 
 msgid "Backup failed."
-msgstr "  ."
+msgstr "  ."
 
 msgid "Backup is running..."
-msgstr "  ..."
+msgstr "  ."
 
 msgid "Backup settings"
 msgstr " "
@@ -1350,10 +1350,10 @@
 msgstr "   ."
 
 msgid "Bahamas"
-msgstr "Bahamas"
+msgstr ""
 
 msgid "Bahrain"
-msgstr "Bahrain"
+msgstr ""
 
 msgid "Band"
 msgstr ""
@@ -1362,13 +1362,13 @@
 msgstr " "
 
 msgid "Bangladesh"
-msgstr "Bangladesh"
+msgstr ""
 
 msgid "Barbados"
-msgstr "Barbados"
+msgstr ""
 
 msgid "Basic PID info"
-msgstr "  PID"
+msgstr ".  PID"
 
 msgid "Basque"
 msgstr ""
@@ -1380,37 +1380,37 @@
 msgstr "  0   PiP"
 
 msgid "Behavior of 'pause and ok' when paused"
-msgstr " '  '   "
+msgstr " ''  'OK'   "
 
 msgid "Behavior when a movie is started"
-msgstr "   "
+msgstr "  "
 
 msgid "Behavior when a movie is stopped"
-msgstr "   "
+msgstr "  "
 
 msgid "Behavior when a movie reaches the end"
 msgstr "   "
 
 msgid "Belarus"
-msgstr "Belarus"
+msgstr ""
 
 msgid "Belgian"
-msgstr "Belgian"
+msgstr ""
 
 msgid "Belgium"
-msgstr "Belgium"
+msgstr ""
 
 msgid "Belize"
-msgstr "Belize"
+msgstr ""
 
 msgid "Benin"
-msgstr "Benin"
+msgstr ""
 
 msgid "Bermuda"
-msgstr "Bermuda"
+msgstr " -"
 
 msgid "Bhutan"
-msgstr "Bhutan"
+msgstr ""
 
 msgid "Big PiP"
 msgstr " PiP"
@@ -1431,10 +1431,10 @@
 msgstr ""
 
 msgid "Bolivia (Plurinational State of)"
-msgstr "Bolivia (Plurinational State of)"
+msgstr " ( )"
 
 msgid "Bonaire, Sint Eustatius and Saba"
-msgstr "Bonaire, Sint Eustatius and Saba"
+msgstr ", -  "
 
 msgid "Bookmarks"
 msgstr ""
@@ -1443,37 +1443,37 @@
 msgstr " "
 
 msgid "Boost green"
-msgstr " "
+msgstr " "
 
 msgid "Boot to Android image"
-msgstr "  Android"
+msgstr "   Android"
 
 msgid "Boot to Recovery menu"
-msgstr "  Recovery"
+msgstr "   Recovery"
 
 msgid "Bootup time"
 msgstr " "
 
 msgid "Bosnia and Herzegovina"
-msgstr "Bosnia and Herzegovina"
+msgstr "  "
 
 msgid "Botswana"
-msgstr "Botswana"
+msgstr ""
 
 msgid "Bouvet Island"
-msgstr "Bouvet Island"
+msgstr " "
 
 msgid "Brazil"
-msgstr "Brazil"
+msgstr ""
 
 msgid "Brightness"
 msgstr ""
 
 msgid "British Indian Ocean Territory"
-msgstr "British Indian Ocean Territory"
+msgstr "   "
 
 msgid "Brunei Darussalam"
-msgstr "Brunei Darussalam"
+msgstr "-"
 
 #, python-format
 msgid "Buffering %d%%"
@@ -1483,29 +1483,29 @@
 msgstr " : "
 
 msgid "Bulgaria"
-msgstr ""
+msgstr ""
 
 msgid "Bulgarian"
 msgstr ""
 
 msgid "Burkina Faso"
-msgstr "Burkina Faso"
+msgstr "-"
 
 msgid "Burn DVD"
-msgstr "   burn DVD"
+msgstr " DVD"
 
 #, python-format
 msgid "Burn audio track (%s)"
-msgstr "   burn   (%s)"
+msgstr "  (%s)"
 
 msgid "Burn existing image to DVD"
-msgstr "   burn    DVD"
+msgstr "    DVD"
 
 msgid "Burn to DVD"
-msgstr "   burn  DVD"
+msgstr "  DVD"
 
 msgid "Burundi"
-msgstr "Burundi"
+msgstr ""
 
 msgid "Bus: "
 msgstr "(): "
@@ -1530,7 +1530,7 @@
 msgstr "CH%s"
 
 msgid "CI (Common Interface) Setup"
-msgstr " CI (Common Interface) "
+msgstr "  CI-"
 
 msgid "CI assignment"
 msgstr " CI"
@@ -1551,28 +1551,28 @@
 msgstr " "
 
 msgid "Cabo Verde"
-msgstr "Cabo Verde"
+msgstr "-"
 
 msgid "Cache thumbnails"
 msgstr " "
 
 msgid "Calculate"
-msgstr ""
+msgstr ""
 
 msgid "Calculate all positions"
 msgstr "  "
 
 msgid "Calculation complete"
-msgstr " "
+msgstr " "
 
 msgid "Calibrate"
 msgstr ""
 
 msgid "Cambodia"
-msgstr "Cambodia"
+msgstr ""
 
 msgid "Cameroon"
-msgstr "Cameroon"
+msgstr ""
 
 msgid "Can be used for different fps between external subtitles and video."
 msgstr "     fps (   )     ."
@@ -1594,42 +1594,42 @@
 "Screens change with left/right buttons or use red, green, blue to toggle.\n"
 "Yellow for returning back to this intro"
 msgstr ""
-"        .\n"
+"       .\n"
 "\n"
-"   :\n"
+"   :\n"
 "\n"
 "\n"
-"\n"
+"\n"
 "\n"
 "\n"
-"\n"
+"\n"
 "\n"
-"magenta\n"
+"\n"
 "-\n"
 "\n"
-"     /   , ,   .\n"
-"     ."
+"   /  ,     .\n"
+"     ."
 
 msgid "Can only find a network drive to store the backup this means after the flash the autorestore will not work. Alternativaly you can mount the network drive after the flash and perform a manufacurer reset to autorestore"
 msgstr "        ,  ,       .            ."
 
 msgid "Canada"
-msgstr "Canada"
+msgstr ""
 
 msgid "Cancel"
 msgstr ""
 
 msgid "Cancel any changes to the currently active skin"
-msgstr "      ."
+msgstr "      "
 
 msgid "Cancel any changes to the currently active skin and exit all menus"
-msgstr "           ."
+msgstr "           "
 
 msgid "Cancel any text changes and exit"
 msgstr "     "
 
 msgid "Cancel execution?"
-msgstr " ?"
+msgstr " ?"
 
 msgid "Cancelled upon user request"
 msgstr "   "
@@ -1641,10 +1641,10 @@
 msgstr " "
 
 msgid "Cannot find any signal ..., aborting !"
-msgstr "    ..., !"
+msgstr "   . ."
 
 msgid "Cannot find images - please try later"
-msgstr "   - ,  ."
+msgstr "  . ,  ."
 
 msgid "Cannot move files on a different disk or system to the trash can"
 msgstr "          "
@@ -1665,7 +1665,7 @@
 msgstr " PiP"
 
 msgid "Cayman Islands"
-msgstr "Cayman Islands"
+msgstr " "
 
 msgid "Center DVB subtitles"
 msgstr " DVB  "
@@ -1674,10 +1674,10 @@
 msgstr "     "
 
 msgid "Central African Republic"
-msgstr "Central African Republic"
+msgstr "- "
 
 msgid "Chad"
-msgstr "Chad"
+msgstr ""
 
 msgid "Change Language"
 msgstr " "
@@ -1686,7 +1686,7 @@
 msgstr " PIN-"
 
 msgid "Change bouquets in quickzap"
-msgstr "    "
+msgstr "    "
 
 msgid "Change recording (add time)"
 msgstr "  ( )"
@@ -1731,13 +1731,13 @@
 msgstr "  "
 
 msgid "Channelnumber and picon"
-msgstr "   "
+msgstr "   "
 
 msgid "Channelnumber and servicename"
 msgstr "    "
 
 msgid "Channelnumber, picon and servicename"
-msgstr " ,    "
+msgstr " ,    "
 
 msgid "Channels"
 msgstr ""
@@ -1746,10 +1746,10 @@
 msgstr "  EPG"
 
 msgid "Channels only"
-msgstr " "
+msgstr " "
 
 msgid "Chap."
-msgstr "."
+msgstr ""
 
 msgid "Chapter"
 msgstr ""
@@ -1761,16 +1761,16 @@
 msgstr ""
 
 msgid "Check the internet connection"
-msgstr "   "
+msgstr "   "
 
 msgid "Check the internet connection again"
-msgstr "    "
+msgstr "    "
 
 msgid "Checking filesystem..."
-msgstr "  ..."
+msgstr "  ."
 
 msgid "Checking the internet connection"
-msgstr "   "
+msgstr "   "
 
 #, python-format
 msgid ""
@@ -1781,31 +1781,31 @@
 "DiSEqC  %s  %s"
 
 msgid "Children/Youth"
-msgstr "/"
+msgstr "/"
 
 msgid "Chile"
-msgstr "Chile"
+msgstr ""
 
 msgid "China"
-msgstr "China"
+msgstr ""
 
 msgid "Chinese - Simplified"
-msgstr "Chinese - Simplified"
+msgstr " "
 
 msgid "Chinese - Traditional"
-msgstr "Chinese - Traditional"
+msgstr " "
 
 msgid "Choose Tuner"
 msgstr " "
 
 msgid "Choose bouquet"
-msgstr " "
+msgstr " "
 
 msgid "Choose which tuner to configure."
 msgstr "   ."
 
 msgid "Christmas Island"
-msgstr "Christmas Island"
+msgstr " "
 
 msgid "Circular LNB"
 msgstr " LNB"
@@ -1835,7 +1835,7 @@
 msgstr "  "
 
 msgid "Client is streaming from this box!"
-msgstr "     !"
+msgstr "    !"
 
 msgid "Clone TV screen to LCD"
 msgstr "    LCD"
@@ -1846,14 +1846,14 @@
 msgid "Close"
 msgstr ""
 
-msgid "Close PiP with 'exit' button"
+msgid "Close PiP on exit"
 msgstr " PiP  exit"
 
 msgid "Close title selection"
 msgstr "  "
 
 msgid "Cocos (Keeling) Islands"
-msgstr "Cocos (Keeling) Islands"
+msgstr " () "
 
 msgid "Code R. LP-HP & Guard Int."
 msgstr "Code R. LP-HP & Guard Int."
@@ -1871,7 +1871,7 @@
 msgstr " "
 
 msgid "Colombia"
-msgstr "Colombia"
+msgstr ""
 
 msgid "Color"
 msgstr ""
@@ -1880,19 +1880,19 @@
 msgstr " "
 
 msgid "Combined"
-msgstr ""
+msgstr ""
 
 msgid "Combo"
-msgstr "Combo"
+msgstr ""
 
 msgid "Command execution..."
-msgstr " ..."
+msgstr " ."
 
 msgid "Command order"
 msgstr " "
 
 msgid "Commit info"
-msgstr "  "
+msgstr "  "
 
 msgid "Common Interface"
 msgstr " "
@@ -1904,10 +1904,10 @@
 msgstr ""
 
 msgid "Comoros"
-msgstr "Comoros"
+msgstr " "
 
 msgid "Compact flash"
-msgstr "-"
+msgstr "-"
 
 msgid "Complete"
 msgstr ""
@@ -1931,7 +1931,7 @@
 msgstr ""
 
 msgid "Configuration mode"
-msgstr " "
+msgstr ""
 
 #, python-format
 msgid "Configuration mode: %s"
@@ -1956,7 +1956,7 @@
 msgstr "      ."
 
 msgid "Configure default type for new timers."
-msgstr "     ."
+msgstr "      ."
 
 msgid "Configure for how long the infobar will remain visible after activation."
 msgstr "        ."
@@ -1965,7 +1965,7 @@
 msgstr "   EPG   . ,    -  ,  - ,     ( )."
 
 msgid "Configure how many channels are shown in the selection list."
-msgstr ",       ."
+msgstr "      ."
 
 msgid "Configure how recording filenames are constructed."
 msgstr "      ."
@@ -1977,31 +1977,31 @@
 msgstr "        ."
 
 msgid "Configure if and how long the latest service in Picture in Picture mode will be remembered."
-msgstr " -         PiP."
+msgstr "       '  '."
 
 msgid "Configure if and how service type icons will be shown in the channel selection list."
 msgstr "         ."
 
 msgid "Configure if and how the record indicator will be shown in the channel selection list."
-msgstr "          ."
+msgstr "         ."
 
 msgid "Configure if and how wide columns will be shown in the channel selection list."
-msgstr "          ."
+msgstr "         ."
 
 msgid "Configure if behind the subtitles a background is shown."
-msgstr "     ."
+msgstr "    ."
 
 msgid "Configure if service picons will be shown in display (when supported by the skin)."
-msgstr "       (   )."
+msgstr "      (   )."
 
 msgid "Configure if service picons will be shown in the channel selection list."
-msgstr "        ."
+msgstr "       ."
 
 msgid "Configure if the HDMI EDID checking should be bypassed as this might solve issue with some TVs."
 msgstr ",     HDMI EDID,         ."
 
 msgid "Configure if the subtitle should switch between normal, italic, bold and bolditalic"
-msgstr "      - , , ,  ."
+msgstr "     - , , ,  ."
 
 msgid "Configure interface"
 msgstr " "
@@ -2010,10 +2010,10 @@
 msgstr "   (DNS)"
 
 msgid "Configure on which devices the background delete option should be used."
-msgstr "        ."
+msgstr " ,       ."
 
 msgid "Configure remote control type"
-msgstr "   /"
+msgstr "   "
 
 msgid "Configure the DiSEqC mode for this LNB."
 msgstr "  DiSEqC   LNB."
@@ -2046,7 +2046,7 @@
 msgstr "      ."
 
 msgid "Configure the color of the external subtitles, alternative (normal in white, italic in yellow, bold in cyan, underscore in green), white or yellow."
-msgstr "   ,  ( ,  ,  ,  ),   ."
+msgstr "   .  ( ,  ,  ,  ),   ."
 
 msgid "Configure the color of the teletext subtitles."
 msgstr "   ."
@@ -2064,7 +2064,7 @@
 msgstr "       ( )."
 
 msgid "Configure the duration in minutes for the sleeptimer. Select this entry and click OK or green to start/stop the sleeptimer"
-msgstr "      .           /  ."
+msgstr "      .           /  ."
 
 msgid "Configure the duration when the receiver should go to shut down in case the receiver is in standby mode."
 msgstr "     (  ) ,      ."
@@ -2085,7 +2085,7 @@
 msgstr "   ."
 
 msgid "Configure the function of the '0' button when Picture in Picture is active."
-msgstr "   '0' ,   PiP ."
+msgstr "   '0'  PiP ."
 
 msgid "Configure the gateway."
 msgstr " ."
@@ -2130,7 +2130,7 @@
 msgstr "  ,        ."
 
 msgid "Configure the number of days old timers are kept before they are automatically removed from the timer list."
-msgstr "  ,           ."
+msgstr "  ,           ."
 
 msgid "Configure the offline decoding delay in milliseconds. The configured delay is observed at each control word parity change."
 msgstr "     .         ."
@@ -2178,7 +2178,7 @@
 msgstr "       . '' -     lamedb. '' -     ."
 
 msgid "Configure the speed of the background deletion process. Lower speed will consume less hard disk drive performance."
-msgstr "      .          ."
+msgstr "      .          ."
 
 msgid "Configure the speed of the fan"
 msgstr "   ."
@@ -2196,7 +2196,7 @@
 msgstr "    (OSD)."
 
 msgid "Configure the transparency of the black background of graphical DVB subtitles."
-msgstr "       DVB."
+msgstr "       DVB."
 
 msgid "Configure the tuner mode."
 msgstr "  ."
@@ -2205,7 +2205,7 @@
 msgstr "    ,     ."
 
 msgid "Configure the vertical position of the subtitles, measured from the bottom of the screen."
-msgstr "   ,     ."
+msgstr "   .     ."
 
 msgid "Configure the video output mode (or resolution)."
 msgstr "   ( )."
@@ -2217,52 +2217,52 @@
 msgstr "  ."
 
 msgid "Configure where completed timers show up in the timer list."
-msgstr " -          ."
+msgstr "   ,       ."
 
 msgid "Configure whether (and for how long) a second infobar will be shown when OK is pressed twice. The second infobar contains additional information about the current channel."
-msgstr "   (  )  ,    OK .        ."
+msgstr "    ,     OK.        ."
 
 msgid "Configure whether multi channel PCM sound should be enabled."
-msgstr ",      PCM."
+msgstr "     PCM."
 
 msgid "Configure whether multi channel sound tracks should be downmixed to stereo."
-msgstr " -        ."
+msgstr "       ."
 
 msgid "Configure whether or not a rotor position will be displayed on the infobar"
-msgstr "      ."
+msgstr "     ."
 
 msgid "Configure whether or not an icon should be shown when your motorized dish is moving."
-msgstr " -         ."
+msgstr "        ."
 
 msgid "Configure which access level to use for the configuration menu. Expert level gives access to all items."
 msgstr "       .       ."
 
 msgid "Configure which color format should be used on the SCART output."
-msgstr " -        SCART."
+msgstr "      SCART."
 
 msgid "Configure which tuner for recordings will be preferred, when more than one tuner is available."
-msgstr "-    ,       ."
+msgstr "    ,   ,   ."
 
 msgid "Configure which tuner type will be preferred when the same service is available on different types of tuners. Choose 'no priority' to try each alternative one by one regardless of the tuner type."
 msgstr "   ,           . ' '    ,    ."
 
 msgid "Configure which tuner will be preferred, when more than one tuner is available. If set to 'auto' the system will give priority to the tuner having the lowest number of channels/satellites."
-msgstr " -  ,    .    '',          /."
+msgstr "  ,    .    '',          /."
 
 msgid "Configure your internal LAN"
 msgstr "   LAN"
 
 msgid "Configure your network again"
-msgstr "    "
+msgstr "  "
 
 msgid "Configure your network settings and press OK to scan"
-msgstr "   ,    OK   "
+msgstr "  ,    OK,   "
 
 msgid "Configure your wireless LAN again"
-msgstr "    WLAN  "
+msgstr "   WLAN-"
 
 msgid "Configures which video output connector will be used."
-msgstr " -     ."
+msgstr "   ."
 
 msgid "Configuring"
 msgstr ""
@@ -2271,10 +2271,10 @@
 msgstr "  !"
 
 msgid "Congo"
-msgstr "Congo"
+msgstr ""
 
 msgid "Congo (Democratic Republic of the)"
-msgstr "Congo (Democratic Republic of the)"
+msgstr " ( )"
 
 msgid "Connect"
 msgstr ""
@@ -2286,7 +2286,7 @@
 msgstr ""
 
 msgid "Connected satellites"
-msgstr " "
+msgstr " "
 
 msgid "Connected to"
 msgstr " "
@@ -2301,10 +2301,10 @@
 msgstr " & FFT "
 
 msgid "Consult your SCR device spec sheet for this information."
-msgstr "        SCR ."
+msgstr "        SCR ."
 
 msgid "Consult your motor's spec sheet for this information, or leave the default setting."
-msgstr "              ."
+msgstr "            ."
 
 msgid "Content does not fit on DVD!"
 msgstr "   DVD!"
@@ -2319,13 +2319,13 @@
 msgstr " "
 
 msgid "Continues play (loop)"
-msgstr " ()"
+msgstr " . ()"
 
 msgid "Contrast"
 msgstr ""
 
 msgid "Cook Islands"
-msgstr "Cook Islands"
+msgstr " "
 
 msgid "Copy"
 msgstr ""
@@ -2334,10 +2334,10 @@
 msgstr "  "
 
 msgid "Costa Rica"
-msgstr "Costa Rica"
+msgstr "-"
 
 msgid "Cote d'Ivoire"
-msgstr "Cote d'Ivoire"
+msgstr "  "
 
 msgid "Could not find installed channel list."
 msgstr "    ."
@@ -2363,7 +2363,7 @@
 msgstr ""
 
 msgid "Cover dashed flickering line for this service"
-msgstr "     "
+msgstr "     "
 
 msgid "Create DVD-ISO"
 msgstr " DVD-ISO"
@@ -2375,7 +2375,7 @@
 msgstr "    "
 
 msgid "Create separate radio userbouquet"
-msgstr "     "
+msgstr "     "
 
 #, python-format
 msgid "Creating directory %s failed."
@@ -2388,16 +2388,16 @@
 msgstr " "
 
 msgid "Croatia"
-msgstr "Croatia"
+msgstr ""
 
 msgid "Croatian"
 msgstr ""
 
 msgid "Cuba"
-msgstr "Cuba"
+msgstr ""
 
 msgid "Curacao"
-msgstr "Curacao"
+msgstr ""
 
 msgid "Current"
 msgstr ""
@@ -2423,7 +2423,7 @@
 msgstr " : %s \n"
 
 msgid "Current rotor position: "
-msgstr "  : "
+msgstr "  :"
 
 msgid "Current settings:"
 msgstr " :"
@@ -2441,7 +2441,7 @@
 msgstr "     '1'/'3'"
 
 msgid "Custom skip time for '4'/'6' buttons"
-msgstr "    '4'/'6'"
+msgstr "     '4'/'6'"
 
 msgid "Custom skip time for '7'/'9' buttons"
 msgstr "     '7'/'9'"
@@ -2453,7 +2453,7 @@
 msgstr "  OpenWebIF   "
 
 msgid "Customize channel list cursor behavior"
-msgstr "     "
+msgstr "    "
 
 msgid "Cut"
 msgstr ""
@@ -2462,16 +2462,16 @@
 msgstr "   "
 
 msgid "Cutlist editor..."
-msgstr "   ..."
+msgstr "  "
 
 msgid "Cyprus"
-msgstr "Cyprus"
+msgstr ""
 
 msgid "Czech"
 msgstr ""
 
 msgid "Czechia"
-msgstr "Czechia"
+msgstr ""
 
 msgid "D"
 msgstr "D"
@@ -2492,22 +2492,22 @@
 msgstr "DTS "
 
 msgid "DUAL LAYER DVD"
-msgstr "DUAL LAYER ( ) DVD"
+msgstr " DVD"
 
 msgid "DVB CI Delay"
 msgstr " DVB CI"
 
 msgid "DVB Subtitles PID & lang"
-msgstr "DVB  PID & "
+msgstr "DVB  PID  "
 
 msgid "DVB driver version: "
-msgstr " DVB : "
+msgstr " DVB : "
 
 msgid "DVB subtitle black transparency"
 msgstr "  DVB "
 
 msgid "DVB type"
-msgstr "DVB "
+msgstr " DVB"
 
 msgid "DVB-C"
 msgstr "DVB-C"
@@ -2531,28 +2531,28 @@
 msgstr "DVB-T2"
 
 msgid "DVD Burn"
-msgstr "  DVD"
+msgstr "'DVD Burn' -  DVD"
 
 msgid "DVD Menu"
-msgstr "DVD "
+msgstr " DVD"
 
 msgid "DVD data format"
-msgstr "DVD - "
+msgstr "  DVD"
 
 msgid "DVD file browser"
-msgstr "DVD -  "
+msgstr "  DVD"
 
 msgid "DVD media toolbox"
-msgstr "DVD -  "
+msgstr " DVD"
 
 msgid "DVD player"
 msgstr "DVD "
 
 msgid "DVD titlelist"
-msgstr "DVD  "
+msgstr " DVD"
 
 msgid "DVDPlayer"
-msgstr "DVD "
+msgstr "DVD-"
 
 msgid "Danish"
 msgstr ""
@@ -2567,16 +2567,16 @@
 msgstr "  "
 
 msgid "Deep Standby LED"
-msgstr "LED    "
+msgstr "   "
 
 msgid "Deep standby"
 msgstr "  "
 
 msgid "Default"
-msgstr ""
+msgstr " "
 
 msgid "Default Services Scanner"
-msgstr "  "
+msgstr "'DefaultServicesScanner' - - "
 
 msgid "Default movie location"
 msgstr "  "
@@ -2585,103 +2585,103 @@
 msgstr " "
 
 msgid "Default timer type"
-msgstr "   "
+msgstr "   "
 
 msgid "Default+Picon"
 msgstr "+"
 
 msgid "Define the location of the EPG Cache file."
-msgstr "   EPG ."
+msgstr "    EPG."
 
 msgid "Delay after change voltage before switch command"
-msgstr "     ."
+msgstr " . .   -"
 
 msgid "Delay after continuous tone disable before diseqc"
-msgstr "  .    DiSEqC"
+msgstr " .    "
 
 msgid "Delay after diseqc peripherial poweron command"
-msgstr "  .  . DiSEqC "
+msgstr "   . "
 
 msgid "Delay after diseqc reset command"
-msgstr "     DiSEqC"
+msgstr "   "
 
 msgid "Delay after enable voltage before motor command"
-msgstr "   .   "
+msgstr " .    "
 
 msgid "Delay after enable voltage before switch command"
-msgstr "  .   ."
+msgstr " . .   -"
 
 msgid "Delay after final continuous tone change"
-msgstr "   .  "
+msgstr "    "
 
 msgid "Delay after last diseqc command"
-msgstr "    DiSEqC"
+msgstr "   DiSEqC-"
 
 msgid "Delay after last voltage change"
-msgstr "    "
+msgstr "    "
 
 msgid "Delay after motor stop command"
-msgstr "    "
+msgstr "    "
 
 msgid "Delay after set voltage before measure motor power"
-msgstr "     "
+msgstr " . .    "
 
 msgid "Delay after toneburst"
-msgstr "   "
+msgstr "   "
 
 msgid "Delay after voltage change before motor command"
-msgstr "      "
+msgstr "     "
 
 msgid "Delay before key repeat starts:"
-msgstr "    :"
+msgstr "   :"
 
 msgid "Delay before sequence repeat"
-msgstr "     "
+msgstr "   "
 
 msgid "Delay between diseqc commands"
-msgstr "   DiSEqC"
+msgstr "  DiSEqC-"
 
 msgid "Delay between switch and motor command"
-msgstr "     "
+msgstr "  .   "
 
 msgid "Delay for external subtitles"
-msgstr "   "
+msgstr "  "
 
 msgid "Delay in miliseconds after finish scrolling text on display."
-msgstr "        ."
+msgstr "        ."
 
 msgid "Delay in miliseconds before start of scrolling text on display."
-msgstr "        ."
+msgstr "        ."
 
 msgid "Delay in miliseconds between scrolling characters on display."
-msgstr "       ."
+msgstr "       ."
 
 msgid "Delete"
 msgstr ""
 
 msgid "Delete Image"
-msgstr " "
+msgstr " "
 
 msgid "Delete all the text"
-msgstr "  "
+msgstr "  "
 
 msgid "Delete entry"
-msgstr " "
+msgstr " "
 
 msgid "Delete failed!"
 msgstr " !"
 
 msgid "Delete file"
-msgstr " "
+msgstr " "
 
 msgid "Delete image"
 msgstr " "
 
 msgid "Delete playlist entry"
-msgstr "   "
+msgstr "   "
 
 msgid "Delete saved playlist"
-msgstr "  "
+msgstr "  "
 
 msgid "Delete the character to the left of text cursor"
 msgstr "     "
@@ -2696,22 +2696,22 @@
 msgstr ""
 
 msgid "Deleted image"
-msgstr " "
+msgstr " "
 
 msgid "Deleted items"
 msgstr " "
 
 msgid "Denmark"
-msgstr "Denmark"
+msgstr ""
 
 msgid "Depth"
 msgstr ""
 
 msgid "Descramble receiving http streams"
-msgstr "  http  "
+msgstr "  http-"
 
 msgid "Descramble sending http streams"
-msgstr "  http  "
+msgstr "  http-"
 
 msgid "Description"
 msgstr ""
@@ -2720,7 +2720,7 @@
 msgstr " "
 
 msgid "Destination of fallback remote receiver"
-msgstr "   "
+msgstr "   "
 
 msgid "Destination of fallback remote receiver for ATSC"
 msgstr "     ATSC"
@@ -2732,16 +2732,16 @@
 msgstr "     DVB-T"
 
 msgid "Details for plugin: "
-msgstr "  : "
+msgstr "  : "
 
 msgid "Detect next boxes before standby"
-msgstr "     "
+msgstr " .   . "
 
 msgid "Detected HDD:"
 msgstr " HDD:"
 
 msgid "Detected NIMs:"
-msgstr " NIMs ():"
+msgstr " :"
 
 msgid "Devicename:"
 msgstr " :"
@@ -2765,10 +2765,10 @@
 msgstr "DiSEqC A/B/C/D"
 
 msgid "DiSEqC Tester"
-msgstr " DiSEqC"
+msgstr "'DiSEqC Tester' - DiSEqC-"
 
 msgid "DiSEqC mode"
-msgstr "DiSEqC "
+msgstr "DiSEqC-"
 
 #, python-format
 msgid "DiSEqC port %s: %s"
@@ -2778,33 +2778,33 @@
 msgstr " DiSEqC-"
 
 msgid "Did you see all eight arrow heads?"
-msgstr "     ?"
+msgstr "      ?"
 
 msgid "Digital contour removal"
 msgstr "  "
 
 msgid "Direct playback of linked titles without menu"
-msgstr "     "
+msgstr "    "
 
 msgid "Directory"
-msgstr ""
+msgstr ""
 
 #, python-format
 msgid "Directory %s does not exist."
-msgstr " %s ."
+msgstr " %s ."
 
 msgid "Directory browser"
 msgstr " "
 
 #, python-format
 msgid "Directory contains %s and %s."
-msgstr "   %s  %s."
+msgstr "  %s  %s."
 
 msgid "Disable"
 msgstr ""
 
 msgid "Disable Picture in Picture"
-msgstr " PiP (  )"
+msgstr "   "
 
 msgid "Disable background scanning"
 msgstr "  "
@@ -2825,40 +2825,40 @@
 msgstr "      ( GB)"
 
 msgid "Display 16:9 content as"
-msgstr " 16:9  "
+msgstr " 16:9 , "
 
 msgid "Display 4:3 content as"
-msgstr " 4:3  "
+msgstr " 4:3 , "
 
 msgid "Display >16:9 content as"
-msgstr " >16:9  "
+msgstr " >16:9 , "
 
 msgid "Display EPG as MultiEPG"
-msgstr " EPG  MultiEPG"
+msgstr " EPG,  MultiEPG"
 
 msgid "Display EPG info for current event"
-msgstr " EPG   "
+msgstr "  EPG   "
 
 msgid "Display EPG list for current channel"
-msgstr "  EPG   "
+msgstr " EPG  "
 
 msgid "Display Skin"
-msgstr " "
+msgstr " "
 
 msgid "Display and userinterface"
-msgstr "   "
+msgstr "   "
 
 msgid "Display message before playing next movie"
-msgstr "    "
+msgstr "  .  "
 
 msgid "Display movie length in movielist (except single line style)."
-msgstr "      (  )."
+msgstr "      (  )."
 
 msgid "Display setup"
 msgstr " "
 
 msgid "Djibouti"
-msgstr "Djibouti"
+msgstr ""
 
 msgid "Do a cable service scan now"
 msgstr "    "
@@ -2946,7 +2946,7 @@
 msgstr "    ?"
 
 msgid "Do you want to burn this collection to DVD medium?"
-msgstr "       burn,  DVD ?"
+msgstr "      DVD ?"
 
 #, python-format
 msgid ""
@@ -2969,10 +2969,10 @@
 msgstr "   DVD  ?"
 
 msgid "Do you want to preview this DVD before burning?"
-msgstr "     DVD     burn?"
+msgstr "    DVD  ?"
 
 msgid "Do you want to quit the overscan wizard?"
-msgstr "      ?"
+msgstr "      ?"
 
 msgid "Do you want to reboot your receiver?"
 msgstr "    ?"
@@ -3000,16 +3000,16 @@
 msgstr "      %s?"
 
 msgid "Do you want to update your receiver?"
-msgstr "    ?"
+msgstr "    ?"
 
 msgid "Dolby"
 msgstr "Dolby"
 
 msgid "Dominica"
-msgstr "Dominica"
+msgstr ""
 
 msgid "Dominican Republic"
-msgstr "Dominican Republic"
+msgstr " "
 
 msgid "Don't save and stop timeshift"
 msgstr "    "
@@ -3032,9 +3032,9 @@
 #, python-format
 msgid "Done - Installed, updated or removed %d package (%s)"
 msgid_plural "Done - Installed, updated or removed %d packages (%s)"
-msgstr[0] " - ,    %d  (%s)"
-msgstr[1] " - ,    %d  (%s)"
-msgstr[2] " - ,    %d  (%s)"
+msgstr[0] ". ,    %d  (%s)"
+msgstr[1] ". ,    %d  (%s)"
+msgstr[2] ". ,    %d  (%s)"
 
 msgid "Download plugins"
 msgstr " "
@@ -3052,10 +3052,10 @@
 msgstr " "
 
 msgid "Downloading plugin information. Please wait..."
-msgstr "   . , ..."
+msgstr "   . ."
 
 msgid "Drop unconfigured satellites"
-msgstr "  "
+msgstr "  "
 
 msgid "Dutch"
 msgstr ""
@@ -3070,7 +3070,7 @@
 msgstr "ECM "
 
 msgid "EPG"
-msgstr "EPG"
+msgstr ""
 
 msgid "EPG language selection 1"
 msgstr "  EPG 1"
@@ -3079,7 +3079,7 @@
 msgstr "  EPG 2"
 
 msgid "EPG only"
-msgstr "EPG "
+msgstr " EPG"
 
 msgid "EPG selection"
 msgstr " EPG"
@@ -3088,11 +3088,11 @@
 msgstr " EPG"
 
 msgid "EPG:"
-msgstr "EPG:"
+msgstr ":"
 
 #, python-format
 msgid "ERROR - failed to scan (%s)!"
-msgstr " -    (%s)!"
+msgstr ":    (%s)!"
 
 #, python-format
 msgid "ERROR downloading file %s"
@@ -3102,61 +3102,61 @@
 msgstr ""
 
 msgid "East limit set"
-msgstr "   "
+msgstr "   "
 
 msgid "Ecuador"
-msgstr "Ecuador"
+msgstr ""
 
 msgid "Edit"
-msgstr ""
+msgstr ""
 
 msgid "Edit DNS"
-msgstr " DNS"
+msgstr " DNS"
 
 msgid "Edit alternatives"
-msgstr " "
+msgstr " "
 
 msgid "Edit chapters of current title"
 msgstr "   "
 
 msgid "Edit menu"
-msgstr " "
+msgstr " "
 
 msgid "Edit selection"
 msgstr " "
 
 msgid "Edit settings"
-msgstr " "
+msgstr " "
 
 msgid "Edit the nameserver configuration of your receiver.\n"
-msgstr "    (DNS)  .\n"
+msgstr "   DNS  .\n"
 
 msgid "Edit the network configuration of your receiver.\n"
-msgstr "    .\n"
+msgstr "   .\n"
 
 msgid "Edit the update source address."
 msgstr "   ."
 
 msgid "Edit timer"
-msgstr " "
+msgstr " "
 
 msgid "Edit title"
 msgstr " "
 
 msgid "Edit update source url"
-msgstr " URL-  "
+msgstr " URL-  "
 
 msgid "Education/Science/..."
-msgstr "//..."
+msgstr "/."
 
 msgid "Egypt"
-msgstr "Egypt"
+msgstr ""
 
 msgid "El Salvador"
-msgstr "El Salvador"
+msgstr ""
 
 msgid "Electronic Program Guide"
-msgstr "  "
+msgstr "  "
 
 msgid "Embedded"
 msgstr ""
@@ -3192,10 +3192,10 @@
 msgstr " Netmed EPG"
 
 msgid "Enable OK as preview in channel selection"
-msgstr "   ,    "
+msgstr " ,      "
 
 msgid "Enable OK for channel selection"
-msgstr " OK    "
+msgstr " OK   "
 
 msgid "Enable OpenTV EPG"
 msgstr " OpenTV EPG"
@@ -3220,10 +3220,10 @@
 msgstr "  "
 
 msgid "Enable bouquet selection in multi-EPG"
-msgstr "     -EPG"
+msgstr "     -EPG"
 
 msgid "Enable fallback remote receiver"
-msgstr "   "
+msgstr "   "
 
 msgid "Enable favourites edit"
 msgstr "  "
@@ -3232,13 +3232,13 @@
 msgstr " freesat EPG"
 
 msgid "Enable import timer from fallback tuner"
-msgstr "     "
+msgstr "     "
 
 msgid "Enable move mode"
 msgstr "  "
 
 msgid "Enable multiple bouquets"
-msgstr " -"
+msgstr " "
 
 msgid "Enable parental protection"
 msgstr "  "
@@ -3259,19 +3259,19 @@
 msgstr "   ,  '/', '/'  '/',    ."
 
 msgid "Enable volume control with arrow buttons"
-msgstr "      "
+msgstr "    "
 
 msgid "Enable wakeup timer"
 msgstr "  "
 
 msgid "Enable zapping with CH+/-, B+/-, P+/-"
-msgstr "     CH+/-, B+/-, P+/-"
+msgstr "   CH+/-, B+/-, P+/-"
 
 msgid "Enabled"
 msgstr ""
 
 msgid "Encrypted: "
-msgstr ": "
+msgstr ": "
 
 msgid "Encryption"
 msgstr ""
@@ -3286,13 +3286,13 @@
 msgstr ":"
 
 msgid "End alternatives edit"
-msgstr "  "
+msgstr "  "
 
 msgid "End bouquet edit"
-msgstr "  "
+msgstr "  "
 
 msgid "End favourites edit"
-msgstr "  "
+msgstr "  "
 
 msgid "End time"
 msgstr " "
@@ -3301,21 +3301,21 @@
 msgstr "  "
 
 msgid "End time to ignore shutdown in standby"
-msgstr "       "
+msgstr "      "
 
 msgid "English"
 msgstr ""
 
 #, python-format
 msgid "Enigma (re)starts: %d\n"
-msgstr " (): %d\n"
+msgstr "() Enigma: %d\n"
 
 #, python-format
 msgid "Enigma debug level: %d\n"
-msgstr " -  : %d\n"
+msgstr "  Enigma: %d\n"
 
 msgid "Enigma version: "
-msgstr " : "
+msgstr " Enigma: "
 
 msgid "Enter"
 msgstr ""
@@ -3330,16 +3330,16 @@
 msgstr " URL"
 
 msgid "Enter an URL where alternative images could be listed for FlashImage"
-msgstr " URL    "
+msgstr " URL,           ."
 
 msgid "Enter if you are in the east or west hemisphere."
-msgstr ",   ,     ."
+msgstr ",   ,     ."
 
 msgid "Enter if you are north or south of the equator."
-msgstr ",   ,       ."
+msgstr ",   ,       ."
 
 msgid "Enter main menu..."
-msgstr "   ..."
+msgstr "   "
 
 msgid "Enter persistent PIN code"
 msgstr "  PIN-"
@@ -3348,7 +3348,7 @@
 msgstr " PIN-"
 
 msgid "Enter the frequency at which you LNB switches between low band and high band. For more information consult the spec sheet of your LNB."
-msgstr " ,   LNB       .        LNB."
+msgstr " ,   LNB      .        LNB."
 
 msgid "Enter the frequency step size for the tuner to use when searching for cable multiplexes. For more information consult your cable provider's documentation."
 msgstr "     ,       .          ."
@@ -3357,28 +3357,28 @@
 msgstr " ,   ,    ."
 
 msgid "Enter the service pin"
-msgstr " PIN- "
+msgstr " PIN- "
 
 msgid "Enter your current latitude. This is the number of degrees you are from the equator as a decimal."
-msgstr "  .       ."
+msgstr "  .      ."
 
 msgid "Enter your current longitude. This is the number of degrees you are from zero meridian as a decimal."
-msgstr "  .        ."
+msgstr "  .       ."
 
 msgid "Enter your high band local oscillator frequency. For more information consult the spec sheet of your LNB."
-msgstr "     .        LNB."
+msgstr "  .     .   LNB."
 
 msgid "Enter your low band local oscillator frequency. For more information consult the spec sheet of your LNB."
-msgstr "     .        LNB."
+msgstr "    .     .   LNB."
 
 msgid "Equal to"
-msgstr "  "
+msgstr " , "
 
 msgid "Equatorial Guinea"
-msgstr "Equatorial Guinea"
+msgstr " "
 
 msgid "Eritrea"
-msgstr "Eritrea"
+msgstr ""
 
 msgid "Error"
 msgstr ""
@@ -3417,24 +3417,24 @@
 "%s"
 
 msgid "Error stop stream!"
-msgstr "   !"
+msgstr "   !"
 
 msgid "Error when writing epg.dat on server"
-msgstr "   epg.dat  ."
+msgstr "   epg.dat  "
 
 msgid "Error while retreiving epg.dat from server"
-msgstr "   epg.dat  ."
+msgstr "   epg.dat  "
 
 #, python-format
 msgid ""
 "Error while retreiving fallback timer information\n"
 "%s"
 msgstr ""
-"     \n"
+"      \n"
 "%s"
 
 msgid "Error while retreiving location of epg.dat on server"
-msgstr "    epg.dat  ."
+msgstr "    epg.dat  "
 
 #, python-format
 msgid ""
@@ -3445,19 +3445,19 @@
 "?"
 
 msgid "Estonia"
-msgstr "Estonia"
+msgstr ""
 
 msgid "Estonian"
 msgstr ""
 
 msgid "EtPortal"
-msgstr "EtPortal"
+msgstr "Et-"
 
 msgid "Ethernet network interface"
-msgstr "  "
+msgstr "Ethernet-"
 
 msgid "Ethiopia"
-msgstr "Ethiopia"
+msgstr ""
 
 msgid "Event font size (relative to skin size)"
 msgstr "   (   )"
@@ -3469,7 +3469,7 @@
 msgstr " "
 
 msgid "Event view context menu"
-msgstr "   "
+msgstr "-  "
 
 msgid "Event view menu"
 msgstr "  "
@@ -3484,7 +3484,7 @@
 msgstr ""
 
 msgid "Exceeds dual layer medium!"
-msgstr " dual layer ( ) !"
+msgstr "  !"
 
 msgid "Execution finished!!"
 msgstr " !"
@@ -3514,19 +3514,19 @@
 msgstr "  "
 
 msgid "Exit movie list"
-msgstr "   "
+msgstr "   "
 
 msgid "Exit movie player?"
-msgstr "   ?"
+msgstr "  ?"
 
 msgid "Exit nameserver configuration"
-msgstr "    "
+msgstr "   "
 
 msgid "Exit network interface list"
-msgstr "    "
+msgstr "   "
 
 msgid "Exit network wizard"
-msgstr "    "
+msgstr "  "
 
 msgid "Exit the wizard"
 msgstr "   "
@@ -3547,19 +3547,19 @@
 msgstr ""
 
 msgid "Extended PID info"
-msgstr "  PID"
+msgstr ".  PID"
 
 msgid "Extended Software"
-msgstr "  "
+msgstr " "
 
 msgid "Extended Software Plugin"
-msgstr "   "
+msgstr "  "
 
 msgid "Extended network setup plugin..."
-msgstr "   ..."
+msgstr "   ."
 
 msgid "Extended setup..."
-msgstr " ..."
+msgstr " ."
 
 msgid "Extensions"
 msgstr ""
@@ -3658,7 +3658,7 @@
 "\n"
 "Do you really want to proceed?"
 msgstr ""
-"         , ,,  .   ,     !\n"
+"         ,  , ,  .   ,     !\n"
 "\n"
 "     ?"
 
@@ -3672,19 +3672,19 @@
 msgstr ":"
 
 msgid "Falkland Islands (Malvinas)"
-msgstr "Falkland Islands (Malvinas)"
+msgstr " () "
 
 msgid "Fallback Timer"
-msgstr "  "
+msgstr "  "
 
 msgid "Fallback remote receiver"
-msgstr "  "
+msgstr "URL  "
 
 msgid "Fallback remote receiver IP"
-msgstr "IP   "
+msgstr "IP  "
 
 msgid "Fallback remote receiver Port"
-msgstr "   "
+msgstr "  "
 
 msgid "Fallback remote receiver URL"
 msgstr "URL   "
@@ -3699,13 +3699,13 @@
 msgstr "    DVB-T"
 
 msgid "Fallback remote receiver setup"
-msgstr "   "
+msgstr "  "
 
 msgid "Fallback tuner setup"
-msgstr "   "
+msgstr "  "
 
 msgid "False"
-msgstr ""
+msgstr ""
 
 #, python-format
 msgid "Fan %d"
@@ -3726,19 +3726,19 @@
 msgstr " "
 
 msgid "Faroe Islands"
-msgstr "Faroe Islands"
+msgstr " "
 
 msgid "Fast"
-msgstr ""
+msgstr ""
 
 msgid "Fast DiSEqC"
-msgstr " DiSEqC (  )"
+msgstr " DiSEqC"
 
 msgid "Fast Scan"
-msgstr "  -  23.5E-19.2E"
+msgstr "  (23.5E-19.2E)"
 
 msgid "Fast epoch"
-msgstr "   "
+msgstr "   "
 
 msgid "Fast forward speeds"
 msgstr "  "
@@ -3747,7 +3747,7 @@
 msgstr ""
 
 msgid "Fiji"
-msgstr "Fiji"
+msgstr ""
 
 msgid "File appears to be busy.\n"
 msgstr "  .\n"
@@ -3771,28 +3771,28 @@
 msgstr "   "
 
 msgid "Fine movement"
-msgstr " "
+msgstr " "
 
 msgid "Finetune"
-msgstr " "
+msgstr " "
 
 msgid "Finished"
 msgstr ""
 
 msgid "Finished configuring your network"
-msgstr "   "
+msgstr "  "
 
 msgid "Finished restarting your network"
-msgstr "   "
+msgstr "   "
 
 msgid "Finland"
-msgstr "Finland"
+msgstr ""
 
 msgid "Finnish"
 msgstr ""
 
 msgid "Fixed"
-msgstr ""
+msgstr ""
 
 msgid "Flash Image"
 msgstr " "
@@ -3815,43 +3815,43 @@
 "%s"
 
 msgid "Following tasks will be done after you press OK!"
-msgstr "    ,    !"
+msgstr "    ,    !"
 
 msgid "Force legacy signal stats"
-msgstr "  snr/db  E2( )"
+msgstr "    "
 
 msgid "Format"
 msgstr ""
 
 msgid "Forward volume keys"
-msgstr "   "
+msgstr "  "
 
 msgid "Frame size in full view"
 msgstr "      "
 
 msgid "France"
-msgstr "France"
+msgstr ""
 
 msgid "French"
-msgstr "French"
+msgstr ""
 
 msgid "French Guiana"
-msgstr "French Guiana"
+msgstr " "
 
 msgid "French Polynesia"
-msgstr "French Polynesia"
+msgstr " "
 
 msgid "French Southern Territories"
-msgstr "French Southern Territories"
+msgstr "  "
 
 msgid "Frequency"
 msgstr ""
 
 msgid "Frequency & Channel"
-msgstr " & "
+msgstr "  "
 
 msgid "Frequency & Polarization"
-msgstr " & "
+msgstr "  "
 
 msgid "Frequency bands"
 msgstr " "
@@ -3876,7 +3876,7 @@
 
 #, python-format
 msgid "Frontprocessor version: %s"
-msgstr " : %s"
+msgstr " -: %s"
 
 #. TRANSLATORS: (aspect ratio policy: display as fullscreen, even if the content aspect ratio does not match the screen ratio)
 msgid "Full screen"
@@ -3904,10 +3904,10 @@
 msgstr " GStreamer: "
 
 msgid "GUI Settings"
-msgstr " GUI"
+msgstr "  "
 
 msgid "GUI Skin"
-msgstr " GUI"
+msgstr "  "
 
 msgid ""
 "GUI needs a restart to apply a new language\n"
@@ -3917,10 +3917,10 @@
 "   GUI ?"
 
 msgid "Gabon"
-msgstr "Gabon"
+msgstr ""
 
 msgid "Gambia"
-msgstr "Gambia"
+msgstr ""
 
 msgid "Gateway"
 msgstr ""
@@ -3935,22 +3935,22 @@
 msgstr ""
 
 msgid "Georgia"
-msgstr "Georgia"
+msgstr ""
 
 msgid "German"
 msgstr ""
 
 msgid "Germany"
-msgstr "Germany"
+msgstr ""
 
 msgid "Getting plugin information. Please wait..."
-msgstr "   . , ..."
+msgstr "   . ."
 
 msgid "Ghana"
-msgstr "Ghana"
+msgstr ""
 
 msgid "Gibraltar"
-msgstr "Gibraltar"
+msgstr ""
 
 msgid "Go down the list"
 msgstr "  "
@@ -3995,7 +3995,7 @@
 msgstr "   "
 
 msgid "Goto down service"
-msgstr "   "
+msgstr " "
 
 msgid "Goto index position"
 msgstr "   "
@@ -4022,7 +4022,7 @@
 msgstr "   /"
 
 msgid "Goto up service"
-msgstr "   "
+msgstr " "
 
 msgid "Goto:"
 msgstr ":"
@@ -4037,43 +4037,43 @@
 msgstr " -EPG"
 
 msgid "Greece"
-msgstr "Greece"
+msgstr ""
 
 msgid "Greek"
 msgstr ""
 
 msgid "Green"
-msgstr ""
+msgstr ""
 
 msgid "Greenland"
-msgstr ""
+msgstr ""
 
 msgid "Grenada"
-msgstr "Grenada"
+msgstr ""
 
 msgid "Guadeloupe"
-msgstr "Guadeloupe"
+msgstr ""
 
 msgid "Guam"
-msgstr "Guam"
+msgstr ""
 
 msgid "Guard interval"
 msgstr " "
 
 msgid "Guatemala"
-msgstr "Guatemala"
+msgstr ""
 
 msgid "Guernsey"
-msgstr "Guernsey"
+msgstr ""
 
 msgid "Guinea"
-msgstr "Guinea"
+msgstr ""
 
 msgid "Guinea-Bissau"
-msgstr "Guinea-Bissau"
+msgstr "-"
 
 msgid "Guyana"
-msgstr "Guyana"
+msgstr ""
 
 msgid "H"
 msgstr "H"
@@ -4124,7 +4124,7 @@
 msgstr "HDx1/HD1xxx/HD5x0C/VS1x00/et7x00/et8500/et7000mini"
 
 msgid "HELP"
-msgstr "HELP"
+msgstr ""
 
 msgid "HLG"
 msgstr "HLG"
@@ -4133,7 +4133,7 @@
 msgstr "HLG "
 
 msgid "Haiti"
-msgstr "Haiti"
+msgstr ""
 
 msgid "Handle standby from TV"
 msgstr "  ''  "
@@ -4142,31 +4142,31 @@
 msgstr "  ''  "
 
 msgid "Hard disk"
-msgstr " "
+msgstr " "
 
 msgid "Hard disk setup"
 msgstr " "
 
 msgid "Hard disk standby after"
-msgstr "     "
+msgstr " HDD   "
 
 msgid "Harddisk"
-msgstr " "
+msgstr " "
 
 msgid "Harddisk Setup"
-msgstr "  "
+msgstr " HDD"
 
 msgid "Hardware: "
-msgstr " : "
+msgstr ": "
 
 msgid "Heard Island and McDonald Islands"
-msgstr "Heard Island and McDonald Islands"
+msgstr "   "
 
 msgid "Hebrew"
 msgstr ""
 
 msgid "Helps setting up your antenna"
-msgstr "    "
+msgstr "   "
 
 msgid "Hidden network"
 msgstr " "
@@ -4190,7 +4190,7 @@
 msgstr " "
 
 msgid "Hide zap errors"
-msgstr "    "
+msgstr "   "
 
 msgid "Hierarchy info"
 msgstr " "
@@ -4199,10 +4199,10 @@
 msgstr "  "
 
 msgid "History back"
-msgstr "  - "
+msgstr "  - "
 
 msgid "History next"
-msgstr "  - "
+msgstr "  - "
 
 msgid "Hold screen"
 msgstr " "
@@ -4211,40 +4211,40 @@
 msgstr "   "
 
 msgid "Holy See"
-msgstr "Holy See"
+msgstr " "
 
 msgid "Home"
 msgstr ""
 
 msgid "Honduras"
-msgstr "Honduras"
+msgstr ""
 
 msgid "Hong Kong"
-msgstr "Hong Kong"
+msgstr ""
 
 msgid "Horizontal"
-msgstr ""
+msgstr ""
 
 msgid "Horizontal turning speed"
 msgstr " (H) -  "
 
 msgid "HotKey Setup"
-msgstr "  "
+msgstr " '' ."
 
 msgid "Hotkey"
-msgstr " "
+msgstr "'' "
 
 msgid "Hotkey Panic"
 msgstr " "
 
 msgid "Hotkey Setup"
-msgstr "  "
+msgstr " '' "
 
 msgid "Hotkey zap"
-msgstr "  "
+msgstr " '.' "
 
 msgid "Hotplug"
-msgstr " "
+msgstr "'' "
 
 msgid "How many minutes do you want add to the recording?"
 msgstr "      ?"
@@ -4259,7 +4259,7 @@
 msgstr ""
 
 msgid "Hungary"
-msgstr "Hungary"
+msgstr ""
 
 msgid "I"
 msgstr "I"
@@ -4271,7 +4271,7 @@
 msgstr ""
 
 msgid "INFO"
-msgstr "INFO"
+msgstr ""
 
 msgid "INS"
 msgstr "INS"
@@ -4280,7 +4280,7 @@
 msgstr "IP-"
 
 msgid "IP of fallback remote receiver"
-msgstr "IP   "
+msgstr "IP   "
 
 msgid "ISO file is too large for this filesystem!"
 msgstr " ISO       !"
@@ -4289,13 +4289,13 @@
 msgstr "ISO "
 
 msgid "Iceland"
-msgstr "Iceland"
+msgstr ""
 
 msgid "Icons"
-msgstr ""
+msgstr ""
 
 msgid "If disabled, underline characters in file and directory names are not shown and are replaced with spaces."
-msgstr " ,             ."
+msgstr " ,             ."
 
 msgid "If enabled, bookmarks will be updated with the new location when you move or copy a recording."
 msgstr " ,             ."
@@ -4304,34 +4304,34 @@
 msgstr " ,    12   8,     latin-1  ."
 
 msgid "If enabled, then there will be displayed icons for new/unseen items too."
-msgstr " ,       /  ."
+msgstr " ,         ."
 
 msgid "If is enabled and movie playback is finished, then after return to movielist will not be automaticaly start service playback."
 msgstr "     ,      ,        ."
 
 msgid "If set as 'Yes', then audiofiles are played in 'list mode' only, instead in full screen player."
-msgstr "  '',       ' ',     ."
+msgstr "  '',       ' ',     ."
 
 msgid "If set to 'yes' signal values (SNR, etc) will be calculated from API V3. This is an old API version that has now been superseded."
 msgstr "   '',   (SNR, .)    API V3.   API ,      ."
 
 msgid "If using multiple uncommitted switches the DiSEqC commands must be sent multiple times. Set to the number of uncommitted switches in the chain minus one."
-msgstr "   uncommitted ,  DiSEqC    .   uncommitted   ,  ."
+msgstr "    ,  DiSEqC    .        ."
 
 msgid "If you are using a Circular polarised LNB select 'yes', otherwise select 'no'."
 msgstr "    LNB,   '',     ''."
 
 msgid "If you are using a DiSEqC committed switch enter the port letter required to access the LNB used for this satellite."
-msgstr "   committed  DiSEqC,   ,     LNB,    ."
+msgstr "    DiSEqC-,   ,     LNB,    ."
 
 msgid "If you are using a DiSEqC uncommitted switch enter the port number required to access the LNB used for this satellite."
-msgstr "   uncommitted  DiSEqC,   ,     LNB,    ."
+msgstr "    DiSEqC-,   ,     LNB,    ."
 
 msgid ""
 "If you see this, something is wrong with\n"
 "your scart connection. Press OK to return."
 msgstr ""
-"   ,  -    \n"
+"   ,  -    \n"
 "SCART .   ,  ."
 
 msgid ""
@@ -4340,7 +4340,7 @@
 "Do not care about the bright shades now. They will be set up in the next step.\n"
 "If you are happy with the result, press OK."
 msgstr ""
-"        ,  .    TB      , \"\",     .        .\n"
+"        ,  .    TB      , \"\",    .        .\n"
 "      ,    ,    ,       .\n"
 "    ,      .\n"
 "   ,  OK."
@@ -4372,7 +4372,7 @@
 msgstr " /EPG     "
 
 msgid "Import channels and/or EPG from remote receiver URL when receiver is booted"
-msgstr "  / EPG      "
+msgstr "  / EPG  URL     "
 
 msgid "Import channels and/or EPG from remote receiver URL when receiver or enigma2 is restarted"
 msgstr " /EPG   enigma2"
@@ -4396,21 +4396,21 @@
 msgstr " "
 
 msgid "Inactivity Sleeptimer"
-msgstr " "
+msgstr " "
 
 msgid "Include AIT in http streams"
-msgstr " AIT  http  "
+msgstr " AIT  http-"
 
 msgid "Include CI assignment"
-msgstr " CI "
+msgstr "  CI"
 
 msgid "Include ECM in http streams"
-msgstr " ECM  http  "
+msgstr " ECM  http-"
 
 msgid "Include EIT in http streams"
-msgstr " EIT  http  "
+msgstr " EIT  http-"
 
-msgid "Incorrect service type for Picture in Picture!"
+msgid "Incorrect type service for PiP!"
 msgstr "    PiP!"
 
 msgid "Increased voltage"
@@ -4423,22 +4423,22 @@
 msgstr " :"
 
 msgid "India"
-msgstr "India"
+msgstr ""
 
 msgid "Indonesia"
-msgstr "Indonesia"
+msgstr ""
 
 msgid "Indonesian"
-msgstr "Indonesian"
+msgstr ""
 
 msgid "Info"
 msgstr ""
 
 msgid "Info bar"
-msgstr ""
+msgstr ""
 
 msgid "Info bar timeout"
-msgstr "  "
+msgstr "  "
 
 msgid "Infobar frontend data source"
 msgstr "    "
@@ -4471,13 +4471,13 @@
 msgstr "  :"
 
 msgid "Initialization"
-msgstr " ()"
+msgstr ""
 
 msgid "Initialize"
 msgstr ""
 
 msgid "Initializing storage device..."
-msgstr "  ..."
+msgstr "  ."
 
 msgid "Input"
 msgstr ""
@@ -4486,7 +4486,7 @@
 msgstr " "
 
 msgid "Input Stream ID"
-msgstr "  ID"
+msgstr "ID  "
 
 msgid "Input device setup"
 msgstr "  "
@@ -4495,7 +4495,7 @@
 msgstr " "
 
 msgid "Install"
-msgstr ""
+msgstr ""
 
 msgid "Install channel list"
 msgstr "  "
@@ -4507,7 +4507,7 @@
 msgstr "  "
 
 msgid "Install picons on"
-msgstr "  "
+msgstr "  "
 
 msgid "Installation has completed."
 msgstr " ."
@@ -4519,7 +4519,7 @@
 msgstr ""
 
 msgid "Installing software..."
-msgstr " ..."
+msgstr " ."
 
 msgid "Instant record"
 msgstr "  "
@@ -4528,7 +4528,7 @@
 msgstr "  "
 
 msgid "Instant recording..."
-msgstr " ..."
+msgstr " "
 
 msgid "Interface: "
 msgstr ": "
@@ -4537,13 +4537,13 @@
 msgstr ""
 
 msgid "Internal flash"
-msgstr " "
+msgstr " flash-"
 
 msgid "Internal hdd only"
 msgstr "  HDD"
 
 msgid "Interval between keys when repeating:"
-msgstr "    :"
+msgstr "   :"
 
 #, python-format
 msgid "Invalid directory selected: %s"
@@ -4562,34 +4562,34 @@
 msgstr " &  "
 
 msgid "Inversion, Pilot & Roll-off"
-msgstr ", Pilot & Roll-off"
+msgstr ", Pilot  Roll-off"
 
 msgid "Invert"
 msgstr " "
 
 msgid "Iran (Islamic Republic of)"
-msgstr "Iran (Islamic Republic of)"
+msgstr " ( )"
 
 msgid "Iran, Islamic Republic"
-msgstr "Iran, Islamic Republic"
+msgstr " ( )"
 
 msgid "Iraq"
-msgstr "Iraq"
+msgstr ""
 
 msgid "Ireland"
-msgstr "Ireland"
+msgstr ""
 
 msgid "Is this setting ok?"
-msgstr "   ?"
+msgstr "   ?"
 
 msgid "Is this video mode ok?"
-msgstr "   ?"
+msgstr "  ?"
 
 msgid "Isle of Man"
-msgstr "Isle of Man"
+msgstr " "
 
 msgid "Israel"
-msgstr "Israel"
+msgstr ""
 
 msgid ""
 "It seems you did not see all the eight arrow heads. This means your TV has overscan enabled, and is not configured properly.\n"
@@ -4597,14 +4597,14 @@
 "Please refer to your TV's manual to find how you can disable overscan on your TV. Look for terms like 'Just fit', 'Full width', etc. If you can't find it, ask other users at http://forums.openpli.org.\n"
 "\n"
 msgstr ""
-",        .  ,       .\n"
+",       .  ,       .\n"
 "\n"
 
 msgid "Italian"
 msgstr ""
 
 msgid "Italy"
-msgstr "Italy"
+msgstr ""
 
 msgid "Items per page "
 msgstr "   "
@@ -4616,25 +4616,25 @@
 msgstr "J"
 
 msgid "Jamaica"
-msgstr "Jamaica"
+msgstr ""
 
 msgid "Japan"
-msgstr "Japan"
+msgstr ""
 
 msgid "Jersey"
-msgstr "Jersey"
+msgstr ""
 
 msgid "Job overview"
 msgstr " "
 
 msgid "Jordan"
-msgstr "Jordan"
+msgstr ""
 
 msgid "Jump to beginning of list"
 msgstr "   "
 
 msgid "Jump to end of list"
-msgstr "   "
+msgstr "   "
 
 msgid "Jump to next marked position"
 msgstr "   "
@@ -4650,13 +4650,13 @@
 msgstr "KA-"
 
 msgid "Kazakhstan"
-msgstr "Kazakhstan"
+msgstr ""
 
 msgid "Keep service"
-msgstr "  "
+msgstr " "
 
 msgid "Kenya"
-msgstr "Kenya"
+msgstr ""
 
 msgid "Kernel version: "
 msgstr " : "
@@ -4668,7 +4668,7 @@
 msgstr ""
 
 msgid "Keyboard data entry"
-msgstr "  "
+msgstr "  "
 
 msgid "Keyboard map"
 msgstr " "
@@ -4677,19 +4677,19 @@
 msgstr " "
 
 msgid "Kiribati"
-msgstr "Kiribati"
+msgstr ""
 
 msgid "Korea (Democratic People's Republic of)"
-msgstr "Korea (Democratic People's Republic of)"
+msgstr " (  )"
 
 msgid "Korea (Republic of)"
-msgstr "Korea (Republic of)"
+msgstr ", ()"
 
 msgid "Kuwait"
-msgstr "Kuwait"
+msgstr ""
 
 msgid "Kyrgyzstan"
-msgstr "Kyrgyzstan"
+msgstr ""
 
 msgid "LAN adapter"
 msgstr " LAN"
@@ -4701,19 +4701,19 @@
 msgstr " LNB"
 
 msgid "Language"
-msgstr " "
+msgstr ""
 
 msgid "Language selection"
 msgstr " "
 
 msgid "Lao People's Democratic Republic"
-msgstr "Lao People's Democratic Republic"
+msgstr " - "
 
 msgid "Large"
 msgstr ""
 
 msgid "Last config"
-msgstr " "
+msgstr " "
 
 msgid "Last speed"
 msgstr " "
@@ -4722,16 +4722,16 @@
 msgstr " : "
 
 msgid "Latest Commits"
-msgstr " "
+msgstr ""
 
 msgid "Latest update log"
-msgstr "   "
+msgstr "  "
 
 msgid "Latitude"
 msgstr ""
 
 msgid "Latvia"
-msgstr "Latvia"
+msgstr ""
 
 msgid "Latvian"
 msgstr ""
@@ -4743,19 +4743,19 @@
 msgstr "   '',       ."
 
 msgid "Lebanon"
-msgstr "Lebanon"
+msgstr ""
 
 msgid "Left"
-msgstr ""
+msgstr ""
 
 msgid "Left from servicename"
-msgstr "   "
+msgstr "   "
 
 msgid "Leisure hobbies"
 msgstr "  "
 
 msgid "Lesotho"
-msgstr "Lesotho"
+msgstr ""
 
 #. TRANSLATORS: (aspect ratio policy: black bars on top/bottom) in doubt, keep english term.
 msgid "Letterbox"
@@ -4765,25 +4765,25 @@
 msgstr "  "
 
 msgid "Liberia"
-msgstr "Liberia"
+msgstr ""
 
 msgid "Libya"
-msgstr "Libya"
+msgstr ""
 
 msgid "Liechtenstein"
-msgstr "Liechtenstein"
+msgstr ""
 
 msgid "Limit character set for recording filenames"
 msgstr "     "
 
 msgid "Limit east"
-msgstr "  "
+msgstr " ''"
 
 msgid "Limit the characters that can be used in recording filenames to (7 bit) ascii. This ensures compatibility with operating systems or file systems with limited character sets."
-msgstr " ,       (7 ) ASCII.             ."
+msgstr " ,       (7 ) ASCII.             ."
 
 msgid "Limit west"
-msgstr "  "
+msgstr " ''"
 
 msgid "Limits cancelled"
 msgstr " "
@@ -4792,16 +4792,16 @@
 msgstr " "
 
 msgid "Limits off"
-msgstr " "
+msgstr ""
 
 msgid "Limits on"
-msgstr " "
+msgstr ""
 
 msgid "Link quality:"
 msgstr " :"
 
 msgid "Link:"
-msgstr ":"
+msgstr ""
 
 msgid "Linked titles with a DVD menu"
 msgstr ",   DVD "
@@ -4813,7 +4813,7 @@
 msgstr " "
 
 msgid "List of storage devices"
-msgstr "  "
+msgstr "  "
 
 msgid "List type"
 msgstr " "
@@ -4826,19 +4826,19 @@
 msgstr[2] "  %d,  %d "
 
 msgid "Listen to the radio..."
-msgstr " ..."
+msgstr " "
 
 msgid "Lists reloaded!"
 msgstr " !"
 
 msgid "Lithuania"
-msgstr "Lithuania"
+msgstr ""
 
 msgid "Lithuanian"
 msgstr ""
 
 msgid "Live decoder"
-msgstr "Live "
+msgstr " "
 
 msgid "Load"
 msgstr ""
@@ -4850,19 +4850,19 @@
 msgstr " "
 
 msgid "Load unlinked userbouquets"
-msgstr "   "
+msgstr "   "
 
 msgid "Local network"
 msgstr " "
 
 msgid "Locale"
-msgstr ""
+msgstr ""
 
 msgid "Location"
 msgstr ""
 
 msgid "Location EPG Cache file"
-msgstr "  EPG "
+msgstr "   EPG"
 
 msgid "Location for instant recordings"
 msgstr "  "
@@ -4883,7 +4883,7 @@
 msgstr " "
 
 msgid "Long key press"
-msgstr " "
+msgstr " "
 
 msgid "Longitude"
 msgstr ""
@@ -4895,7 +4895,7 @@
 msgstr " "
 
 msgid "Luxembourg"
-msgstr "Luxembourg"
+msgstr ""
 
 msgid "Luxembourgish"
 msgstr ""
@@ -4910,43 +4910,43 @@
 msgstr "Macao"
 
 msgid "Macedonia (the former Yugoslav Republic of)"
-msgstr "Macedonia (the former Yugoslav Republic of)"
+msgstr " (  )"
 
 msgid "Madagascar"
-msgstr "Madagascar"
+msgstr ""
 
 msgid "Main menu"
 msgstr " "
 
 msgid "Maintain old EPG data for"
-msgstr "   EPG  ()"
+msgstr "   EPG "
 
 msgid "Make it possible to manually initiate the channels import and/or EPG via the extension menu"
 msgstr "    "
 
 msgid "Make this mark an 'in' point"
-msgstr "     ''"
+msgstr "  ,   ''"
 
 msgid "Make this mark an 'out' point"
-msgstr "     ''"
+msgstr "  ,   ''"
 
 msgid "Make this mark just a mark"
-msgstr "     "
+msgstr "  ,  "
 
 msgid "Malawi"
-msgstr "Malawi"
+msgstr ""
 
 msgid "Malaysia"
-msgstr "Malaysia"
+msgstr ""
 
 msgid "Maldives"
-msgstr "Maldives"
+msgstr ""
 
 msgid "Mali"
-msgstr "Mali"
+msgstr ""
 
 msgid "Malta"
-msgstr "Malta"
+msgstr ""
 
 msgid "Manage extensions"
 msgstr " "
@@ -4955,19 +4955,19 @@
 msgstr "     ."
 
 msgid "Manage your receiver's software"
-msgstr "   "
+msgstr "  "
 
 msgid "Manual"
-msgstr " "
+msgstr ""
 
 msgid "Manual Scan"
-msgstr " "
+msgstr " "
 
 msgid "Manual configuration"
 msgstr " "
 
 msgid "Manual scan"
-msgstr " "
+msgstr " "
 
 msgid "Manual transponder"
 msgstr " "
@@ -4982,8 +4982,8 @@
 "Manufacturer reset in progress\n"
 "Please wait until enigma2 restarts"
 msgstr ""
-" .\n"
-", ,  enigma2 ."
+"    .\n"
+",  enigma2 ."
 
 msgid "Margin after recording (minutes)"
 msgstr "   ( )"
@@ -4992,37 +4992,37 @@
 msgstr "   ( )"
 
 msgid "Mark service as dedicated 3D service"
-msgstr "   3D "
+msgstr " ,  3D"
 
 msgid "Marshall Islands"
-msgstr "Marshall Islands"
+msgstr " "
 
 msgid "Martinique"
-msgstr "Martinique"
+msgstr ""
 
 msgid "Mauritania"
-msgstr "Mauritania"
+msgstr ""
 
 msgid "Mauritius"
-msgstr "Mauritius"
+msgstr ""
 
 msgid "Max memory positions"
-msgstr "  "
+msgstr "    "
 
 msgid "Max. bitrate: "
 msgstr ". :"
 
 msgid "Maybe the reason that recording is currently running. Please stop the recording before trying to configure the positioner."
-msgstr "   ,    .   ,  ."
+msgstr " ,   ,    .      ."
 
 msgid "Mayotte"
-msgstr "Mayotte"
+msgstr ""
 
 msgid "Media player"
-msgstr ""
+msgstr "'Media player' - "
 
 msgid "Media scanner"
-msgstr " "
+msgstr "'Media scanner' - "
 
 msgid "Medium is not a writeable DVD!"
 msgstr "   DVD!"
@@ -5034,7 +5034,7 @@
 msgstr ""
 
 msgid "Memory Info"
-msgstr "  "
+msgstr ""
 
 msgid "Memory index"
 msgstr "  "
@@ -5050,23 +5050,23 @@
 msgstr ""
 
 msgid "Message..."
-msgstr "..."
+msgstr ":"
 
 msgid "Messages"
 msgstr ""
 
 msgid "Mexico"
-msgstr "Mexico"
+msgstr ""
 
 msgid "Micronesia (Federated States of)"
-msgstr "Micronesia (Federated States of)"
+msgstr " ( )"
 
 #, python-format
 msgid "Minimum age %d years"
 msgstr "  %d "
 
 msgid "Minimum send interval"
-msgstr "   "
+msgstr "  "
 
 msgid "Missing "
 msgstr " "
@@ -5074,13 +5074,11 @@
 msgid "Mode"
 msgstr ""
 
-msgctxt "Satellite configuration mode"
-msgid "Mode"
-msgstr ""
+msgid "Satellite configuration mode"
+msgstr "  "
 
-msgctxt "Video output mode"
-msgid "Mode"
-msgstr ""
+msgid "Video output mode"
+msgstr "  "
 
 msgid "Model"
 msgstr ""
@@ -5098,7 +5096,7 @@
 msgstr ""
 
 msgid "Moldova (Republic of)"
-msgstr "Moldova (Republic of)"
+msgstr " ()"
 
 msgid "Mon"
 msgstr ""
@@ -5107,28 +5105,28 @@
 msgstr "-"
 
 msgid "Monaco"
-msgstr "Monaco"
+msgstr ""
 
 msgid "Monday"
 msgstr ""
 
 msgid "Mongolia"
-msgstr "Mongolia"
+msgstr ""
 
 msgid "Montenegro"
-msgstr "Montenegro"
+msgstr ""
 
 msgid "Montserrat"
-msgstr "Montserrat"
+msgstr ""
 
 msgid "Morocco"
-msgstr "Morocco"
+msgstr ""
 
 msgid "Mosquito noise reduction"
 msgstr "  "
 
 msgid "Motor command retries"
-msgstr "   "
+msgstr "  "
 
 msgid "Motor running timeout"
 msgstr "  "
@@ -5139,7 +5137,7 @@
 msgid "Move"
 msgstr ""
 
-msgid "Move PiP"
+msgid "Move PIP"
 msgstr " PiP"
 
 msgid "Move PiP to main picture"
@@ -5149,7 +5147,7 @@
 msgstr "   "
 
 msgid "Move east"
-msgstr "  "
+msgstr " "
 
 msgid "Move the keyboard cursor down"
 msgstr "    "
@@ -5170,10 +5168,10 @@
 msgstr "    "
 
 msgid "Move the text cursor to the first character"
-msgstr "      "
+msgstr "      "
 
 msgid "Move the text cursor to the last character"
-msgstr "      "
+msgstr "      "
 
 msgid "Move to position X"
 msgstr "   "
@@ -5182,16 +5180,16 @@
 msgstr "   "
 
 msgid "Move to the next skin"
-msgstr "   "
+msgstr "   "
 
 msgid "Move to the previous page"
 msgstr "   "
 
 msgid "Move to the previous skin"
-msgstr "   "
+msgstr "   "
 
 msgid "Move west"
-msgstr "  "
+msgstr " "
 
 msgid "Moved to position 0"
 msgstr "   0"
@@ -5200,7 +5198,7 @@
 msgstr "   "
 
 msgid "Movement"
-msgstr ""
+msgstr ""
 
 msgid "Movie list configuration"
 msgstr "  "
@@ -5218,19 +5216,19 @@
 msgstr "  "
 
 msgid "Moving"
-msgstr ""
+msgstr ""
 
 msgid "Moving east ..."
-msgstr "   ..."
+msgstr "  ."
 
 msgid "Moving to position"
 msgstr "  "
 
 msgid "Moving west ..."
-msgstr "   ..."
+msgstr "  ."
 
 msgid "Mozambique"
-msgstr "Mozambique"
+msgstr ""
 
 msgid "Multi EPG"
 msgstr " EPG"
@@ -5239,13 +5237,13 @@
 msgstr " "
 
 msgid "Multi-EPG bouquet selection"
-msgstr "    -EPG"
+msgstr "    -EPG"
 
 msgid "MultiType"
 msgstr ""
 
 msgid "Multiboot image selector"
-msgstr " -  "
+msgstr "  "
 
 msgid "Multichannel PCM"
 msgstr " PCM"
@@ -5260,7 +5258,7 @@
 msgstr " "
 
 msgid "Multisat all select"
-msgstr "  ( )"
+msgstr "  "
 
 msgid "Multistream"
 msgstr ""
@@ -5269,10 +5267,10 @@
 msgstr "//"
 
 msgid "Mute"
-msgstr ""
+msgstr " "
 
 msgid "Myanmar"
-msgstr "Myanmar"
+msgstr ""
 
 msgid "N/A"
 msgstr "N/A"
@@ -5281,7 +5279,7 @@
 msgstr ""
 
 msgid "NIM & Type"
-msgstr "NIM &  "
+msgstr "NIM   "
 
 msgid "NO"
 msgstr ""
@@ -5303,25 +5301,25 @@
 msgstr "  (DNS) %d"
 
 msgid "Nameserver settings"
-msgstr "   (DNS)"
+msgstr "   (DNS)"
 
 msgid "Nameserver setup"
-msgstr "   (DNS)"
+msgstr "   (DNS)"
 
 msgid "Namespace & Orbital pos."
-msgstr "Namespace & . "
+msgstr ".    ."
 
 msgid "Namibia"
-msgstr "Namibia"
+msgstr ""
 
 msgid "Nauru"
-msgstr "Nauru"
+msgstr ""
 
 msgid "Nepal"
-msgstr "Nepal"
+msgstr ""
 
 msgid "Netherlands"
-msgstr "Netherlands"
+msgstr ""
 
 msgid "Netmask"
 msgstr " "
@@ -5336,10 +5334,10 @@
 msgstr "  :"
 
 msgid "Network configuration"
-msgstr " "
+msgstr " ."
 
 msgid "Network configuration..."
-msgstr " ..."
+msgstr " ."
 
 msgid "Network mount"
 msgstr " "
@@ -5361,7 +5359,7 @@
 msgstr " "
 
 msgid "Network test..."
-msgstr " ..."
+msgstr " ."
 
 msgid "Network test: "
 msgstr " : "
@@ -5376,39 +5374,34 @@
 msgstr "      .        .  ,               .  : ."
 
 msgid "Never decrypt while recording"
-msgstr "     "
+msgstr "    "
 
 msgid "New"
 msgstr ""
 
 msgid "New Caledonia"
-msgstr "New Caledonia"
+msgstr " "
 
 msgid "New Zealand"
-msgstr "New Zealand"
+msgstr " "
 
 msgid "News Current Affairs"
 msgstr "  "
 
-msgctxt "button label, 'next screen'"
-msgid "Next"
-msgstr ""
-
-msgctxt "now/next: 'next' event label"
 msgid "Next"
 msgstr ""
 
 msgid "Nicaragua"
-msgstr "Nicaragua"
+msgstr ""
 
 msgid "Niger"
-msgstr "Niger"
+msgstr ""
 
 msgid "Nigeria"
-msgstr "Nigeria"
+msgstr ""
 
 msgid "Niue"
-msgstr "Niue"
+msgstr ""
 
 msgid "No"
 msgstr ""
@@ -5423,10 +5416,10 @@
 msgstr "  ECMPids (FTA )"
 
 msgid "No HDD found or HDD not initialized!"
-msgstr "HDD      !"
+msgstr "HDD     !"
 
 msgid "No active subservices available."
-msgstr "  ."
+msgstr "   ."
 
 msgid "No age block"
 msgstr "  "
@@ -5451,13 +5444,13 @@
 msgstr "     !"
 
 msgid "No epg.dat file found server"
-msgstr " epg.dat    ."
+msgstr "  epg.dat  "
 
 msgid "No event info found, recording indefinitely."
 msgstr "    ,    ."
 
 msgid "No fast winding possible yet.. but you can use the number buttons to skip forward/backward!"
-msgstr "    ...         /!"
+msgstr ",    ,         /."
 
 msgid "No free index available"
 msgstr "   "
@@ -5466,7 +5459,7 @@
 msgstr "  !"
 
 msgid "No images found"
-msgstr "  "
+msgstr "  "
 
 msgid "No network connection available."
 msgstr "   ."
@@ -5487,19 +5480,19 @@
 msgstr "   !"
 
 msgid "No satellite, terrestrial or cable tuner is configured. Please check your tuner setup."
-msgstr "   ,   . ,    ."
+msgstr "   ,    . ,    ."
 
 msgid "No service"
 msgstr " "
 
 msgid "No services/providers selected"
-msgstr "  /"
+msgstr "    "
 
 msgid "No standby"
-msgstr "    "
+msgstr "    "
 
 msgid "No stream clients"
-msgstr "  "
+msgstr "  "
 
 msgid "No tags are set on these movies."
 msgstr " ,    ."
@@ -5521,13 +5514,13 @@
 "Please setup your tuner settings before you start a service scan."
 msgstr ""
 "  !\n"
-"      ."
+",      ."
 
 msgid "No updates available"
 msgstr "  "
 
 msgid "No updates available. Please try again later."
-msgstr "  . ,    ."
+msgstr "  . ,    ."
 
 msgid "No wireless networks found! Searching..."
 msgstr "   ! ..."
@@ -5537,33 +5530,33 @@
 "Please verify that you have attached a network cable and your network is configured correctly."
 msgstr ""
 "    .\n"
-", ,         ."
+", ,         ."
 
 msgid ""
 "No working wireless network adapter found.\n"
 "Please verify that you have attached a compatible WLAN device and your network is configured correctly."
 msgstr ""
 "    .\n"
-", ,          ."
+", ,          ."
 
 msgid ""
 "No working wireless network interface found.\n"
 " Please verify that you have attached a compatible WLAN device or enable your local network interface."
 msgstr ""
 "    .\n"
-" ,        WLAN      ."
+" ,        WLAN      ."
 
 msgid "No, I do not want to install plugins"
 msgstr ",     "
 
 msgid "No, but restart from begin"
-msgstr ",      "
+msgstr ",     "
 
 msgid "No, do not flash image"
 msgstr ",   "
 
 msgid "No, except Wakeup timer"
-msgstr ",   "
+msgstr ",   "
 
 msgid "No, never"
 msgstr ", "
@@ -5573,10 +5566,10 @@
 
 #. TRANSLATORS: (aspect ratio policy: display as fullscreen, with stretching the left/right)
 msgid "Nonlinear"
-msgstr "Nonlinear"
+msgstr ""
 
 msgid "Norfolk Island"
-msgstr "Norfolk Island"
+msgstr " "
 
 msgid "Normal"
 msgstr ""
@@ -5588,16 +5581,16 @@
 msgstr ""
 
 msgid "Northern Mariana Islands"
-msgstr "Northern Mariana Islands"
+msgstr "  "
 
 msgid "Norway"
-msgstr "Norway"
+msgstr ""
 
 msgid "Norwegian"
 msgstr ""
 
 msgid "Not Installed"
-msgstr " "
+msgstr " "
 
 msgid "Not Required"
 msgstr " "
@@ -5616,41 +5609,37 @@
 msgstr " :"
 
 msgid "Note: when enabled, and you do want standby mode after wake up, set option 'Startup to Standby' as 'No, except Wakeup timer'."
-msgstr ":           ,   '   '  ',   '."
+msgstr ":           ,   '   ',  ',   '."
 
 msgid ""
 "Nothing to scan!\n"
 "Please setup your tuner settings before you start a service scan."
 msgstr ""
 " !\n"
-",       ."
+",       ."
 
 msgid "Nothing to scan! Setup your tuner and try again."
 msgstr ""
 " !\n"
-",       ."
+",       ."
 
 msgid "Now"
 msgstr ""
 
-msgctxt "now/next: 'now' event label"
-msgid "Now"
-msgstr ""
-
 msgid "Now playing"
-msgstr " "
+msgstr ""
 
 msgid "Now, use the contrast setting to turn up the brightness of the background as much as possible, but make sure that you can still see the difference between the two brightest levels of shades.If you have done that, press OK."
-msgstr "            ,     ,          .    OK."
+msgstr "            ,     ,           .   ,  OK."
 
 msgid "Number of channels shown in channel selection list"
-msgstr "     "
+msgstr "    "
 
 msgid "Number of repeating text on display."
 msgstr "    ."
 
 msgid "Number or SMS style data entry"
-msgstr "      SMS "
+msgstr "      SMS"
 
 msgid "OK"
 msgstr "OK"
@@ -5659,16 +5648,16 @@
 msgstr "ONID"
 
 msgid "OSD 3D setup"
-msgstr "   (OSD) 3D"
+msgstr " 3D-OSD"
 
 msgid "OSD name request"
-msgstr "OSD  "
+msgstr "  OSD"
 
 msgid "OSD settings"
-msgstr "   (OSD)"
+msgstr " OSD"
 
 msgid "OSD transparency"
-msgstr "   (OSD)"
+msgstr " OSD"
 
 msgid "OVR"
 msgstr "OVR"
@@ -5680,16 +5669,16 @@
 msgstr "   ()"
 
 msgid "Oman"
-msgstr "Oman"
+msgstr ""
 
 msgid "On"
 msgstr "."
 
 msgid "On end of movie"
-msgstr "  "
+msgstr "  "
 
 msgid "On end of movie (as menu)"
-msgstr "   ( )"
+msgstr "   ( )"
 
 msgid "On valid ONIDs, ignore frequency sub network part"
 msgstr "  ONID,    "
@@ -5707,28 +5696,28 @@
 msgstr " ."
 
 msgid "Only free scan"
-msgstr "   "
+msgstr "  "
 
 msgid "Only move the dish quickly after this hour."
-msgstr "      ."
+msgstr "      ."
 
 msgid "Only move the dish quickly before this hour."
-msgstr "      ."
+msgstr "     ."
 
 msgid "Only on startup"
-msgstr "  "
+msgstr "  "
 
 msgid "Only select 'yes' if you are using a multiswich that requires a DiSEqC Port-A command signal. For all other setups select 'no'."
-msgstr " '',     ,      DiSEqC Port-A.      ''."
+msgstr " '',    ,      DiSEqC Port-A.      ''."
 
 msgid "Open select location"
-msgstr "  "
+msgstr "  "
 
 msgid "Open select location as timer name"
-msgstr "     "
+msgstr ".  ,   "
 
 msgid "Open service list"
-msgstr "  "
+msgstr "  "
 
 msgid "Open setup tuner "
 msgstr "   "
@@ -5737,13 +5726,13 @@
 msgstr "  "
 
 msgid "Operating LED status in deep standby mode"
-msgstr " LED    "
+msgstr "C LED    "
 
 msgid "Operating LED status in standby mode"
-msgstr " LED   "
+msgstr "C LED   "
 
 msgid "Operating LED status while running."
-msgstr " LED   "
+msgstr "C LED   ."
 
 msgid "Opkg"
 msgstr "Opkg"
@@ -5752,7 +5741,7 @@
 msgstr "  "
 
 msgid "Orbital position"
-msgstr "  "
+msgstr " "
 
 msgid "Ordinary"
 msgstr ""
@@ -5764,16 +5753,16 @@
 msgstr ""
 
 msgid "Other Subtitles & lang"
-msgstr "  & "
+msgstr "   "
 
 msgid "Output"
-msgstr ""
+msgstr ""
 
 msgid "Overall progress:"
 msgstr " :"
 
 msgid "Overscan wizard"
-msgstr "  "
+msgstr "   "
 
 msgid "Overwrite configuration files during software update?"
 msgstr "      ?"
@@ -5800,7 +5789,7 @@
 msgstr "PGS "
 
 msgid "PID Filtering"
-msgstr "PID (  )"
+msgstr "PID- ( )"
 
 msgid "PIN code needed"
 msgstr " PIN-"
@@ -5809,10 +5798,10 @@
 msgstr "PLP ID"
 
 msgid "PLS Code"
-msgstr "PLS "
+msgstr "PLS-"
 
 msgid "PLS Mode"
-msgstr "PLS "
+msgstr "PLS-"
 
 msgid "PMT PID"
 msgstr " PID"
@@ -5833,32 +5822,32 @@
 msgstr " "
 
 msgid "Pakistan"
-msgstr "Pakistan"
+msgstr ""
 
 msgid "Palau"
-msgstr "Palau"
+msgstr ""
 
 msgid "Palestine, State of"
-msgstr "Palestine, State of"
+msgstr ", "
 
 #. TRANSLATORS: (aspect ratio policy: cropped content on left/right) in doubt, keep english term
 msgid "Pan&scan"
 msgstr "Pan&Scan"
 
 msgid "Panama"
-msgstr "Panama"
+msgstr ""
 
 msgid "Panic to"
 msgstr "      ( )"
 
 msgid "Papua New Guinea"
-msgstr "Papua New Guinea"
+msgstr " -  "
 
 msgid "Paraguay"
-msgstr "Paraguay"
+msgstr ""
 
 msgid "Parent directory"
-msgstr " "
+msgstr " "
 
 msgid "Parental control"
 msgstr " "
@@ -5870,7 +5859,7 @@
 msgstr "  "
 
 msgid "Password"
-msgstr "Password"
+msgstr ""
 
 msgid "Pause"
 msgstr ""
@@ -5882,7 +5871,7 @@
 msgstr " "
 
 msgid "Pause/Continue playback"
-msgstr "/ "
+msgstr "/ "
 
 msgid "Pending restart"
 msgstr " "
@@ -5897,28 +5886,28 @@
 msgstr "     ?"
 
 msgid "Permanently remove all deleted items"
-msgstr "   "
+msgstr " "
 
 msgid "Persian"
-msgstr ""
+msgstr ""
 
 msgid "Peru"
-msgstr "Peru"
+msgstr ""
 
 msgid "Philippines"
-msgstr "Philippines"
+msgstr ""
 
 msgid "PiP setup"
 msgstr " PiP"
 
 msgid "Picon"
-msgstr ""
+msgstr ""
 
 msgid "Picon and servicename"
-msgstr "   "
+msgstr "   "
 
 msgid "Picture player"
-msgstr " "
+msgstr "'Picture player' -  "
 
 #. TRANSLATORS: (aspect ratio policy: black bars on left/right) in doubt, keep english term.
 msgid "Pillarbox"
@@ -5928,10 +5917,10 @@
 msgstr ""
 
 msgid "Pitcairn"
-msgstr "Pitcairn"
+msgstr ""
 
 msgid "Pixels\n"
-msgstr "\n"
+msgstr "\n"
 
 msgid "Play"
 msgstr ""
@@ -5940,64 +5929,64 @@
 msgstr " DVD"
 
 msgid "Play DVDs"
-msgstr " DVD"
+msgstr " DVD-"
 
 msgid "Play as Picture in Picture"
-msgstr "    "
+msgstr ",    "
 
 msgid "Play audio-CD..."
-msgstr " -CD..."
+msgstr " "
 
 msgid "Play audiofiles in list mode"
 msgstr "    "
 
 msgid "Play back media files"
-msgstr "  "
+msgstr " "
 
 msgid "Play entry"
-msgstr " "
+msgstr " "
 
 msgid "Play from next mark or playlist entry"
-msgstr "        "
+msgstr ",        "
 
 msgid "Play from previous mark or playlist entry"
-msgstr "        "
+msgstr ",        "
 
 msgid "Play in main window"
 msgstr "   "
 
 msgid "Play music..."
-msgstr " ..."
+msgstr " ."
 
 msgid "Play next"
-msgstr " "
+msgstr " "
 
 msgid "Play next (return to movie list)"
-msgstr "  (   )"
+msgstr " (  )"
 
 msgid "Play next (return to previous service)"
-msgstr "  (   )"
+msgstr ". (  . )"
 
 msgid "Play previous"
 msgstr " "
 
 msgid "Play recorded movies..."
-msgstr "  ..."
+msgstr " "
 
 msgid "Please add titles to the compilation."
-msgstr ",    ."
+msgstr ",    ."
 
 msgid "Please change recording endtime"
 msgstr ",    "
 
 msgid "Please choose an extension..."
-msgstr ",  ..."
+msgstr ",  ."
 
 msgid ""
 "Please configure or verify your Nameservers by filling out the required values.\n"
 "When you are ready press OK to continue."
 msgstr ""
-",       (DNS),  .\n"
+",       (DNS),   .\n"
 "   -    ."
 
 msgid "Please configure the fallback tuner setup?"
@@ -6007,17 +5996,17 @@
 "Please configure your internet connection by filling out the required values.\n"
 "When you are ready press OK to continue."
 msgstr ""
-",   ,  .\n"
+",  -,  .\n"
 "   -    ."
 
 msgid "Please connect your receiver to the internet"
-msgstr ",     "
+msgstr ",     "
 
 msgid "Please do not change any values unless you know what you are doing!"
-msgstr ",    ,       !"
+msgstr ",    ,   ,  !"
 
 msgid "Please enter a name for the new bouquet"
-msgstr ",     "
+msgstr ",     "
 
 msgid "Please enter a name for the new marker"
 msgstr ",     "
@@ -6026,10 +6015,10 @@
 msgstr ",    "
 
 msgid "Please enter filename (empty = use current date)"
-msgstr ",   ( =   )"
+msgstr ",    ( =  )"
 
 msgid "Please enter name of the new directory"
-msgstr ",    "
+msgstr ",    "
 
 msgid "Please enter new description:"
 msgstr ",   :"
@@ -6050,47 +6039,47 @@
 msgstr ",    "
 
 msgid "Please note that the previously selected media could not be accessed and therefore the default directory is being used instead."
-msgstr ",  ,      ,        "
+msgstr ",  ,             ."
 
 msgid "Please press OK to continue."
 msgstr ",    ."
 
 msgid "Please re-enter the new PIN code"
-msgstr ",     PIN-"
+msgstr ",     PIN-"
 
 msgid "Please select a playlist to delete..."
-msgstr ",    ..."
+msgstr ",    ."
 
 msgid "Please select a playlist..."
-msgstr ",  ..."
+msgstr ",  ."
 
 msgid "Please select a sub service..."
-msgstr ",  ..."
+msgstr ",  ."
 
 msgid "Please select a subservice to record..."
-msgstr ",    ..."
+msgstr ",    ."
 
 msgid "Please select a subservice..."
-msgstr ",  ..."
+msgstr ",  ."
 
 msgid "Please select medium to be scanned"
-msgstr ",     "
+msgstr ",      "
 
 msgid "Please select medium to use as backup location"
-msgstr ",     "
+msgstr ",     "
 
 msgid "Please select tag to filter..."
-msgstr ",    ..."
+msgstr ",    ."
 
 msgid "Please select the movie path..."
-msgstr ",    ..."
+msgstr ",    ."
 
 msgid ""
 "Please select the network interface that you want to use for your internet connection.\n"
 "\n"
 "Please press OK to continue."
 msgstr ""
-",           .\n"
+",           .\n"
 "\n"
 "   ."
 
@@ -6104,43 +6093,43 @@
 "   ."
 
 msgid "Please set up tuner A"
-msgstr ",   "
+msgstr "  "
 
 msgid "Please set up tuner B"
-msgstr ",   B"
+msgstr "  B"
 
 msgid "Please set up tuner C"
-msgstr ",   C"
+msgstr "  C"
 
 msgid "Please set up tuner D"
-msgstr ",   D"
+msgstr "  D"
 
 msgid "Please set up tuner E"
-msgstr ",   E"
+msgstr "  E"
 
 msgid "Please set up tuner F"
-msgstr ",   F"
+msgstr "  F"
 
 msgid "Please set up tuner G"
-msgstr ",   G"
+msgstr "  G"
 
 msgid "Please set up tuner H"
-msgstr ",   H"
+msgstr "  H"
 
 msgid "Please set up tuner I"
-msgstr ",   I"
+msgstr "  I"
 
 msgid "Please set up tuner J"
-msgstr ",   J"
+msgstr "  J"
 
 msgid "Please set up tuner Q"
-msgstr ",   Q"
+msgstr "  Q"
 
 msgid "Please set up tuner R"
-msgstr ",   R"
+msgstr "  R"
 
 msgid "Please set your time zone"
-msgstr ",   -."
+msgstr ",    "
 
 msgid "Please setup the following basic configs!"
 msgstr ",    !"
@@ -6167,28 +6156,28 @@
 msgstr ",  ( )"
 
 msgid "Please wait for activation of your network configuration..."
-msgstr ", ,     ..."
+msgstr ", ,     ."
 
 msgid "Please wait while scanning is in progress..."
-msgstr ",    ..."
+msgstr ",    ."
 
 msgid "Please wait while we configure your network..."
-msgstr ",      ..."
+msgstr ",      ."
 
 msgid "Please wait while we prepare your network interfaces..."
-msgstr ",       ..."
+msgstr ",       ."
 
 msgid "Please wait while we test your network..."
-msgstr ",      ..."
+msgstr ",      ."
 
 msgid "Please wait while your network is restarting..."
-msgstr ",      ..."
+msgstr ",      ."
 
 msgid "Please wait, restarting cardserver."
-msgstr ", ,   ."
+msgstr ", .   -."
 
 msgid "Please wait, restarting softcam and cardserver."
-msgstr ", ,     ."
+msgstr ", .     -."
 
 msgid "Please wait, restarting softcam."
 msgstr ", ,   ."
@@ -6197,10 +6186,10 @@
 msgstr ", ..."
 
 msgid "Please wait... Loading list..."
-msgstr ", ...  ..."
+msgstr ", .  ."
 
 msgid "Plugin Browser"
-msgstr " "
+msgstr " "
 
 msgid "Plugin browser"
 msgstr " "
@@ -6215,7 +6204,7 @@
 msgstr ""
 
 msgid "Poland"
-msgstr "Poland"
+msgstr ""
 
 msgid "Polarisation"
 msgstr ""
@@ -6242,10 +6231,10 @@
 msgstr " D"
 
 msgid "Port of fallback remote receiver"
-msgstr "   "
+msgstr "   "
 
 msgid "Portugal"
-msgstr "Portugal"
+msgstr ""
 
 msgid "Portuguese"
 msgstr ""
@@ -6272,7 +6261,7 @@
 msgstr "  "
 
 msgid "Power LED"
-msgstr "LED "
+msgstr " "
 
 msgid "Power management. Consult your receiver's manual for more information."
 msgstr " .       ."
@@ -6281,7 +6270,7 @@
 msgstr "  "
 
 msgid "Power threshold in mA"
-msgstr "   mA"
+msgstr "   mA"
 
 msgid "Power threshold. Consult your receiver's manual for more information."
 msgstr " .       ."
@@ -6290,7 +6279,7 @@
 msgstr " "
 
 msgid "Predefined transponder"
-msgstr " "
+msgstr " "
 
 msgid "Prefer AC3 track"
 msgstr "   AC3"
@@ -6299,7 +6288,7 @@
 msgstr "   AC3+"
 
 msgid "Prefer audio track stored by service"
-msgstr "  ,   "
+msgstr "  "
 
 msgid "Prefer graphical DVB subtitles"
 msgstr "  DVB "
@@ -6344,13 +6333,13 @@
 msgstr "... , "
 
 msgid "Press '0' to toggle PiP mode"
-msgstr " '0',    PiP."
+msgstr " '0'    PiP"
 
 msgid "Press 'OK' for attach function."
 msgstr " 'OK'   ."
 
 msgid "Press 'OK' for attach next function or 'CH+/-' for edit attached."
-msgstr " 'OK'     'CH+/-'   ."
+msgstr " 'OK'     'CH+/-'   ."
 
 msgid "Press 'OK' for remove item or 'CH+/-' for toggle to list of features."
 msgstr " 'OK'     'CH+/-'     ."
@@ -6359,23 +6348,23 @@
 msgstr " 'OK'       < >     'CH+/-'     ."
 
 msgid "Press INFO on your remote control for additional information."
-msgstr "  INFO    /   ."
+msgstr "  INFO     ."
 
 msgid "Press MENU on your remote control for additional options."
-msgstr "  MENU    /   ."
+msgstr "  MENU     ."
 
 msgid "Press OK on your remote control to continue."
-msgstr "     /  ."
+msgstr "     ."
 
 #, python-format
 msgid "Press OK to activate the selected %s skin."
-msgstr " OK,    %s ."
+msgstr " OK    %s ."
 
 msgid "Press OK to activate the settings."
 msgstr " OK   ."
 
 msgid "Press OK to edit the settings."
-msgstr " OK,   ."
+msgstr " OK,   ."
 
 #, python-format
 msgid "Press OK to get further details for %s"
@@ -6410,7 +6399,7 @@
 msgstr "     ."
 
 msgid "Press OK, save and exit..."
-msgstr " ,   ..."
+msgstr " ,    ."
 
 msgid "Press or select button and then press 'OK' for attach function."
 msgstr "   ,    'OK'   ."
@@ -6419,9 +6408,8 @@
 msgstr "   ,    'OK'      ."
 
 msgid "Press yellow to set this interface as default interface."
-msgstr "        ."
+msgstr "      ,  ."
 
-msgctxt "button label, 'previous screen'"
 msgid "Prev"
 msgstr ""
 
@@ -6450,10 +6438,10 @@
 msgstr ""
 
 msgid "Progress bar left"
-msgstr "- "
+msgstr ""
 
 msgid "Progress bar right"
-msgstr "- "
+msgstr ""
 
 msgid "Progress:"
 msgstr ":"
@@ -6474,7 +6462,7 @@
 msgstr "  "
 
 msgid "Protect manufacturer reset screen"
-msgstr "     "
+msgstr "   "
 
 msgid "Protect menu sort"
 msgstr "  "
@@ -6483,13 +6471,13 @@
 msgstr "  "
 
 msgid "Protect on epg age"
-msgstr "     EPG"
+msgstr "  EPG"
 
 msgid "Protect plugin browser"
 msgstr "  "
 
 msgid "Protect services"
-msgstr " "
+msgstr " "
 
 msgid "Protect software update screen"
 msgstr "   "
@@ -6507,37 +6495,37 @@
 msgstr ""
 
 msgid "Puerto Rico"
-msgstr "Puerto Rico"
+msgstr "-"
 
 msgid "Purge deleted user bouquets"
-msgstr "   "
+msgstr "   "
 
 msgid "Put TV in standby"
 msgstr "    "
 
 msgid "Put receiver in standby"
-msgstr " /    "
+msgstr "    "
 
 msgid "Python frontend for /tmp/mmi.socket"
-msgstr "Python   /tmp/mmi.socket"
+msgstr "Python-  /tmp/mmi.socket"
 
 msgid "Python version: "
-msgstr " python: "
+msgstr " Python:"
 
 msgid "Qatar"
-msgstr "Qatar"
+msgstr ""
 
 msgid "Question"
 msgstr ""
 
 msgid "Quick"
-msgstr ""
+msgstr ""
 
 msgid "Quick zap"
 msgstr " "
 
 msgid "REC"
-msgstr "REC"
+msgstr ""
 
 msgid "RF output"
 msgstr "RF "
@@ -6571,13 +6559,13 @@
 msgstr "    ?"
 
 msgid "Really perform a manufacturer reset now?"
-msgstr "      ?"
+msgstr "    ?"
 
 msgid "Really reboot now?"
 msgstr "   ?"
 
 msgid "Really restart in debug mode now?"
-msgstr "   GUI    ?"
+msgstr "   debug- ?"
 
 msgid "Really restart now?"
 msgstr "   ?"
@@ -6590,7 +6578,7 @@
 msgstr "   %2d   ?"
 
 msgid "Really update the frontprocessor and reboot now?"
-msgstr "     ?"
+msgstr " -    ?"
 
 msgid "Really update your settop box and reboot now?"
 msgstr "       ?"
@@ -6599,7 +6587,7 @@
 msgstr ""
 
 msgid "Rec"
-msgstr "Rec"
+msgstr ""
 
 msgid "Recall to previous service"
 msgstr "   "
@@ -6615,7 +6603,7 @@
 msgstr "   -   %s"
 
 msgid "Recorded files..."
-msgstr " ..."
+msgstr " ."
 
 msgid "Recording"
 msgstr ""
@@ -6624,7 +6612,7 @@
 msgstr " "
 
 msgid "Recording in progress"
-msgstr "  "
+msgstr " "
 
 msgid "Recording paths"
 msgstr " , "
@@ -6645,7 +6633,7 @@
 msgstr ""
 
 msgid "Red button..."
-msgstr " ..."
+msgstr " "
 
 msgid "Red colored"
 msgstr "   "
@@ -6669,13 +6657,13 @@
 msgstr "      "
 
 msgid "Regard deep standby as standby"
-msgstr "      "
+msgstr " ,   "
 
 msgid "Region"
 msgstr ""
 
 msgid "Relative"
-msgstr ""
+msgstr ""
 
 msgid "Reload"
 msgstr ""
@@ -6684,7 +6672,7 @@
 msgstr "  "
 
 msgid "Reloading bouquets and services..."
-msgstr "   ..."
+msgstr "   ."
 
 msgid "Remember last service in PiP"
 msgstr "   PiP"
@@ -6693,13 +6681,13 @@
 msgstr " PIN- "
 
 msgid "Reminder, you have chosen to save timeshift file."
-msgstr ",     ."
+msgstr ",     ."
 
 msgid "Remote control type"
-msgstr "  /"
+msgstr "  "
 
 msgid "Remote control type setup"
-msgstr "   /"
+msgstr "  "
 
 msgid "Removal has completed."
 msgstr " ."
@@ -6714,19 +6702,19 @@
 msgstr "   "
 
 msgid "Remove all alternatives"
-msgstr "  "
+msgstr "  "
 
 msgid "Remove all logfiles"
 msgstr "  -"
 
 msgid "Remove all new found flags"
-msgstr "   -  "
+msgstr "    "
 
 msgid "Remove bookmark"
-msgstr " "
+msgstr " "
 
 msgid "Remove bouquet from parental protection"
-msgstr "    "
+msgstr "    "
 
 msgid "Remove cable services"
 msgstr "  "
@@ -6750,7 +6738,7 @@
 msgstr "     ( )"
 
 msgid "Remove new found flag"
-msgstr "  -  "
+msgstr "   "
 
 msgid "Remove plugins"
 msgstr " "
@@ -6772,13 +6760,13 @@
 
 #, python-format
 msgid "Removing directory %s failed. (Maybe not empty.)"
-msgstr "   %s. (   )"
+msgstr "   %s. (,   )"
 
 msgid "Removing partition table"
 msgstr "  "
 
 msgid "Rename"
-msgstr ""
+msgstr " "
 
 msgid "Rename entry"
 msgstr " "
@@ -6803,12 +6791,12 @@
 "What do you want to do?"
 msgstr ""
 "     .\n"
-"   ?"
+"   ?"
 
 msgid "Repeating event currently recording... What do you want to do?"
 msgstr ""
 "     .\n"
-"   ?"
+"   ?"
 
 msgid "Repeats"
 msgstr ""
@@ -6823,7 +6811,7 @@
 msgstr "   "
 
 msgid "Require authentication for http streams"
-msgstr "   http  ()"
+msgstr "   HTTP-"
 
 msgid "Required medium type:"
 msgstr "  :"
@@ -6841,7 +6829,7 @@
 msgstr "    "
 
 msgid "Reset order (All)"
-msgstr "  ()"
+msgstr " ()"
 
 msgid "Reset persistent PIN code"
 msgstr "  PIN-"
@@ -6862,19 +6850,19 @@
 msgstr ""
 
 msgid "Restart GUI now?"
-msgstr " GUI ?"
+msgstr " GUI ?"
 
 msgid "Restart both"
 msgstr " "
 
 msgid "Restart cardserver"
-msgstr " "
+msgstr " -"
 
 msgid "Restart enigma"
-msgstr " GUI"
+msgstr " Enigma"
 
 msgid "Restart enigma in debug mode"
-msgstr " GUI   "
+msgstr " GUI   "
 
 msgid "Restart enigma in standard mode"
 msgstr " GUI   "
@@ -6895,16 +6883,16 @@
 msgstr ""
 
 msgid "Restore backups"
-msgstr " "
+msgstr "  "
 
 msgid "Restore defaults"
-msgstr "  "
+msgstr "  "
 
 msgid "Restore deleted images"
-msgstr "  ?"
+msgstr "  "
 
 msgid "Restore deleted user bouquets"
-msgstr "   "
+msgstr "  . "
 
 msgid "Restore system settings"
 msgstr "  "
@@ -6916,7 +6904,7 @@
 msgstr "   ."
 
 msgid "Restoring..."
-msgstr "..."
+msgstr "."
 
 msgid "Resume from last position"
 msgstr "   "
@@ -6936,19 +6924,19 @@
 msgstr " "
 
 msgid "Retrieving image list - Please wait..."
-msgstr "   - , ..."
+msgstr "  . , ."
 
 msgid "Return to movie list"
-msgstr "   "
+msgstr "  "
 
 msgid "Return to previous service"
-msgstr "   "
+msgstr "   "
 
 msgid "Reunion"
-msgstr "Reunion"
+msgstr ""
 
 msgid "Reverse bouquet buttons"
-msgstr "    "
+msgstr "   "
 
 msgid "Reverse list"
 msgstr " "
@@ -6960,16 +6948,16 @@
 msgstr " "
 
 msgid "Right"
-msgstr ""
+msgstr ""
 
 msgid "Right from servicename"
-msgstr "   "
+msgstr "   "
 
 msgid "Roll-off"
 msgstr "Roll-off "
 
 msgid "Romania"
-msgstr "Romania"
+msgstr ""
 
 msgid "Romanian"
 msgstr ""
@@ -6981,7 +6969,7 @@
 msgstr " "
 
 msgid "Rotor step position:"
-msgstr "  :"
+msgstr "  :"
 
 msgid "Rotor turning speed"
 msgstr "  "
@@ -6996,19 +6984,19 @@
 msgstr ""
 
 msgid "Russian Federation"
-msgstr "Russian Federation"
+msgstr " "
 
 msgid "Rwanda"
-msgstr "Rwanda"
+msgstr ""
 
 msgid "S-Video"
-msgstr "S-Video"
+msgstr "S-"
 
 msgid "SCPC optimized search range"
 msgstr "SCPC   "
 
 msgid "SCR (Unicable/JESS)"
-msgstr "SCR (Unicable/JESS)"
+msgstr "SCR (Unicable/JESS"
 
 msgid "SCR JESS"
 msgstr "SCR JESS"
@@ -7020,7 +7008,7 @@
 msgstr "SDR"
 
 msgid "SINGLE LAYER DVD"
-msgstr "SINGLE LAYER ( ) DVD"
+msgstr " DVD"
 
 msgid "SNR"
 msgstr "SNR"
@@ -7047,40 +7035,40 @@
 msgstr "SSID:"
 
 msgid "Saint Barthelemy"
-msgstr "Saint Barthelemy"
+msgstr "-"
 
 msgid "Saint Helena, Ascension and Tristan da Cunha"
-msgstr "Saint Helena, Ascension and Tristan da Cunha"
+msgstr " ,   --"
 
 msgid "Saint Kitts and Nevis"
-msgstr "Saint Kitts and Nevis"
+msgstr "-  "
 
 msgid "Saint Lucia"
-msgstr "Saint Lucia"
+msgstr "-"
 
 msgid "Saint Martin (French part)"
-msgstr "Saint Martin (French part)"
+msgstr "- ( )"
 
 msgid "Saint Pierre and Miquelon"
-msgstr "Saint Pierre and Miquelon"
+msgstr "-  "
 
 msgid "Saint Vincent and the Grenadines"
-msgstr "Saint Vincent and the Grenadines"
+msgstr "   "
 
 msgid "Same as stream"
-msgstr "   "
+msgstr " ,   "
 
 msgid "Same resolution as skin"
-msgstr "   "
+msgstr "  "
 
 msgid "Samoa"
-msgstr "Samoa"
+msgstr ""
 
 msgid "San Marino"
-msgstr "San Marino"
+msgstr "-"
 
 msgid "Sao Tome and Principe"
-msgstr "Sao Tome and Principe"
+msgstr "-  "
 
 msgid "Sat"
 msgstr ""
@@ -7095,7 +7083,7 @@
 msgstr " "
 
 msgid "Satellite equipment setup"
-msgstr "  "
+msgstr "  "
 
 msgid "Satellite longitude:"
 msgstr " :"
@@ -7107,34 +7095,34 @@
 msgstr ""
 
 msgid "Saturation"
-msgstr ""
+msgstr ""
 
 msgid "Saturday"
 msgstr ""
 
 msgid "Saudi Arabia"
-msgstr "Saudi Arabia"
+msgstr " "
 
 msgid "Save"
 msgstr ""
 
 msgid "Save / Enter text and exit"
-msgstr " /    "
+msgstr "/   "
 
 msgid "Save and activate the currently selected skin"
-msgstr "    ."
+msgstr "    "
 
 msgid "Save and exit"
 msgstr "  "
 
 msgid "Save and restart timeshift"
-msgstr "   "
+msgstr "   "
 
 msgid "Save and stop timeshift"
 msgstr "   "
 
 msgid "Save changes"
-msgstr " "
+msgstr ""
 
 msgid "Save last directory on exit"
 msgstr "    "
@@ -7173,7 +7161,7 @@
 msgstr " "
 
 msgid "Scan"
-msgstr ""
+msgstr ""
 
 msgid "Scan "
 msgstr " "
@@ -7202,16 +7190,16 @@
 msgstr " !"
 
 msgid "Scan files..."
-msgstr " ..."
+msgstr " ."
 
 msgid "Scan for local extensions and install them."
-msgstr "      ."
+msgstr "   ."
 
 msgid "Scan options"
 msgstr " "
 
 msgid "Scan state"
-msgstr " "
+msgstr " "
 
 msgid "Scan wireless networks"
 msgstr "  "
@@ -7221,7 +7209,7 @@
 
 #, python-format
 msgid "Scanning %s..."
-msgstr " %s..."
+msgstr " %s."
 
 #. TRANSLATORS: The stb is performing a channel scan, progress percentage is printed in '%d' (and '%%' will show a single '%' symbol)
 #, python-format
@@ -7242,13 +7230,13 @@
 msgstr " !"
 
 msgid "Scanning..."
-msgstr "..."
+msgstr "."
 
 msgid "Scans default lamedbs sorted by satellite with a connected dish positioner"
 msgstr " lamedb     "
 
 msgid "Scroll delay"
-msgstr "  "
+msgstr " "
 
 msgid "Scroll repeats"
 msgstr " "
@@ -7257,28 +7245,28 @@
 msgstr ""
 
 msgid "Search east"
-msgstr "  "
+msgstr "  "
 
 msgid "Search west"
-msgstr "  "
+msgstr "  "
 
 msgid "Searching"
 msgstr ""
 
 msgid "Searching east ..."
-msgstr "   ..."
+msgstr "  ."
 
 msgid "Searching for available updates. Please wait..."
-msgstr "  . ,  ..."
+msgstr "  . , ."
 
 msgid "Searching for new installed or removed packages. Please wait..."
-msgstr "  ,  . ,  ..."
+msgstr "  ,   . , ."
 
 msgid "Searching west ..."
-msgstr "   ..."
+msgstr "  ."
 
 msgid "Second cable of motorized LNB"
-msgstr "   LNB  "
+msgstr "   LNB"
 
 msgid "Secondary DNS"
 msgstr " DNS"
@@ -7302,55 +7290,55 @@
 msgstr ""
 
 msgid "Select '1.0' for standard committed switches, '1.1' for uncommitted switches, and '1.2' for systems using a positioner."
-msgstr " '1.0'   committed , '1.1'  uncommitted    '1.2'     ."
+msgstr " '1.0'    , '1.1'      '1.2'     ."
 
 msgid "Select 'A' or 'B' if your aerial system requires this, otherwise select 'none'. If you are unsure select 'none'."
 msgstr " 'A'  'B',     ,     ''."
 
 msgid "Select 'FBC SCR' if this tuner will connect to a SCR (Unicable/JESS) device. For all other setups select 'FBC automatic'."
-msgstr " 'FBC SCR' ,     SCR (Unicable/JESS).     'FBC '."
+msgstr " 'FBC SCR',      SCR (Unicable/JESS).   ,  'FBC '."
 
 msgid "Select 'Yes' when you want to configure this tuner for ATSC"
-msgstr " '',        ATSC"
+msgstr " '',        DVB-ATSC"
 
 msgid "Select 'Yes' when you want to configure this tuner for DVB-C"
-msgstr " '',        DVB-C"
+msgstr " '',        DVB-C"
 
 msgid "Select 'Yes' when you want to configure this tuner for DVB-S"
-msgstr " '',        DVB-S"
+msgstr " '',        DVB-S"
 
 msgid "Select 'Yes' when you want to configure this tuner for DVB-T"
-msgstr " '',        DVB-T"
+msgstr " '',        DVB-T"
 
 msgid "Select 'band' if using a 'universal' LNB, otherwise consult your LNB spec sheet."
-msgstr " ''    LNB,     LNB."
+msgstr " ''    LNB,     LNB."
 
 msgid "Select 'enabled' if this tuner has a signal cable connected, otherwise select 'nothing connected'."
 msgstr " '',      ."
 
 msgid "Select 'polarisation' if using a 'universal' LNB, otherwise consult your LNB spec sheet."
-msgstr " ''    LNB,     LNB."
+msgstr " ''    LNB,     LNB."
 
 msgid "Select 'provider' to scan from the predefined list of cable multiplexes. Select 'bands' to only scan certain parts of the spectrum. Select 'steps' to scan in steps of a particular frequency bandwidth."
-msgstr " ''       .  ''      .  ''       ."
+msgstr " ''       .  ''      .  ''       ."
 
 msgid "Select 'yes' if this tuner is connected to the SCR device through another tuner, otherwise select 'no'."
-msgstr " '',       SCR   ,     ''."
+msgstr " '',       SCR   .   ,  ''."
 
 msgid "Select 'yes' to choose what bands or step sizes will be scanned."
-msgstr " '' ,  ,       ."
+msgstr " ''  ,        ."
 
 #, python-format
 msgid "Select 'yes' to include %s multiplexes in your search."
-msgstr " '' ,     %s   "
+msgstr " '',     %s   "
 
 #, python-format
 msgid "Select 'yes' to include symbol rate %s in your search."
-msgstr " '' ,     %s   ."
+msgstr " '',     %s   ."
 
 #, python-format
 msgid "Select 'yes' to include the %s band in your search."
-msgstr " '' ,    %s   ."
+msgstr " '',    %s   ."
 
 msgid "Select 'yes' to only send the DiSEqC command when changing from one satellite to another, or select 'no' for the DiSEqC command to be resent on every zap."
 msgstr " '',    DiSEqC           '',   DiSEqC    ."
@@ -7359,7 +7347,7 @@
 msgstr " CAId"
 
 msgid "Select Card Server"
-msgstr " "
+msgstr " -"
 
 msgid "Select Channel"
 msgstr " "
@@ -7374,10 +7362,10 @@
 msgstr " "
 
 msgid "Select a bouquet"
-msgstr " "
+msgstr " "
 
 msgid "Select a movie"
-msgstr " "
+msgstr " "
 
 msgid "Select a network adapter"
 msgstr "  "
@@ -7386,26 +7374,26 @@
 msgstr " "
 
 msgid "Select a wireless network"
-msgstr "  "
+msgstr "  "
 
 msgid "Select action"
-msgstr " "
+msgstr " "
 
 #, python-format
 msgid "Select action for timer '%s'."
 msgstr "    '%s'."
 
 msgid "Select all"
-msgstr " "
+msgstr " "
 
 msgid "Select audio track"
 msgstr "  "
 
 msgid "Select backup files"
-msgstr "  "
+msgstr "  "
 
 msgid "Select backup location"
-msgstr "  "
+msgstr "  "
 
 msgid "Select channel"
 msgstr " "
@@ -7414,19 +7402,19 @@
 msgstr "    "
 
 msgid "Select copy destination for:"
-msgstr "   :"
+msgstr "   :"
 
 msgid "Select destination for:"
-msgstr "  :"
+msgstr "  :"
 
 msgid "Select directory for logfile"
-msgstr "     "
+msgstr "    "
 
 msgid "Select files for backup."
-msgstr "   ."
+msgstr "    "
 
 msgid "Select files/folders to backup"
-msgstr " /  "
+msgstr " /   "
 
 msgid "Select function"
 msgstr " "
@@ -7438,13 +7426,13 @@
 msgstr "  :"
 
 msgid "Select how quickly the dish should move between satellites."
-msgstr "     ."
+msgstr ",       ."
 
 msgid "Select how the satellite dish is set up. i.e. fixed dish, single LNB, DiSEqC switch, positioner, etc."
-msgstr "    ,    ,  LNB,  DiSEqC,   .."
+msgstr "    .  ,  ,  LNB,  DiSEqC,   .."
 
 msgid "Select input device"
-msgstr "  "
+msgstr "  "
 
 msgid "Select input device."
 msgstr "  "
@@ -7459,19 +7447,19 @@
 msgstr " "
 
 msgid "Select path for logfile"
-msgstr "    "
+msgstr "   "
 
 msgid "Select provider to add..."
-msgstr "   ..."
+msgstr "   ."
 
 msgid "Select refresh rate"
-msgstr "  "
+msgstr "  "
 
 msgid "Select satellites"
 msgstr " "
 
 msgid "Select service to add..."
-msgstr "   ..."
+msgstr "   ."
 
 msgid "Select slot"
 msgstr " "
@@ -7480,7 +7468,7 @@
 msgstr "  :"
 
 msgid "Select target folder"
-msgstr "  "
+msgstr "  "
 
 msgid "Select the User Band channel to be assigned to this tuner. This is an index into the table of frequencies the SCR switch or SCR LNB uses to pass the requested transponder to the tuner."
 msgstr "  User Band    .     ,   SCR  LNB SCR      ."
@@ -7491,11 +7479,11 @@
 msgid "Select the User Band to be assigned to this tuner. This is an index into the table of frequencies the SCR switch or SCR LNB uses to pass the requested transponder to the tuner."
 msgstr "  ,     .     ,   SCR  LNB SCR      ."
 
-msgid "Select the character or action under the keyboard cursor"
+msgid "Select the character or action under the virtual keyboard cursor"
 msgstr "       "
 
 msgid "Select the locale from a menu"
-msgstr "     "
+msgstr "   "
 
 msgid "Select the manufacturer of your SCR device. If the manufacturer is not listed, set 'SCR' to 'user defined' and enter the device parameters manually according to its spec sheet."
 msgstr "   SCR ."
@@ -7504,22 +7492,22 @@
 msgstr "    SCR ."
 
 msgid "Select the movie path"
-msgstr "   "
+msgstr "   "
 
 msgid "Select the protocol used by your SCR device. Choices are 'SCR Unicable' (Unicable), or 'SCR JESS' (JESS, also known as Unicable II)."
 msgstr "   SCR  .   - 'SCR Unicable' (Unicable)  'SCR JESS' (JESS/Unicable II)."
 
 msgid "Select the satellite which is connected to Port-A of your switch. If you are unsure select 'automatic' and the receiver will attempt to determine this for you. If nothing is connected to this port, select 'nothing connected'."
-msgstr " ,     A  ."
+msgstr " ,     A  ."
 
 msgid "Select the satellite which is connected to Port-B of your switch. If you are unsure select 'automatic' and the receiver will attempt to determine this for you. If nothing is connected to this port, select 'nothing connected'."
-msgstr " ,     B  ."
+msgstr " ,     B  ."
 
 msgid "Select the satellite which is connected to Port-C of your switch. If you are unsure select 'automatic' and the receiver will attempt to determine this for you. If nothing is connected to this port, select 'nothing connected'."
-msgstr " ,     C  ."
+msgstr " ,     C  ."
 
 msgid "Select the satellite which is connected to Port-D of your switch. If you are unsure select 'automatic' and the receiver will attempt to determine this for you. If nothing is connected to this port, select 'nothing connected'."
-msgstr " ,     D  ."
+msgstr " ,     D  ."
 
 msgid "Select the satellite you want to configure. Once that satellite is configured you can select and configure other satellites that will be accessed using this same tuner."
 msgstr " ,    .     ,       ,     ,     ."
@@ -7528,7 +7516,7 @@
 msgstr " ,     .    ,  '',       ."
 
 msgid "Select the shifted character set"
-msgstr "     "
+msgstr "   "
 
 msgid "Select the shifted character set for the next character only"
 msgstr "          "
@@ -7537,7 +7525,7 @@
 msgstr "       ."
 
 msgid "Select the tuner that controls the motorised dish."
-msgstr "     ."
+msgstr " ,    ."
 
 msgid "Select the tuner that this loopthrough depends on."
 msgstr "    ."
@@ -7546,7 +7534,7 @@
 msgstr " ,     SCR ."
 
 msgid "Select the type of LNB/device being used (normally 'Universal'). If your LNB type is not available select 'user defined'."
-msgstr "   LNB/ ( '').    LNB ,  ' '."
+msgstr "   LNB/ ( '').    LNB ,  ' '."
 
 msgid "Select the type of Single Cable Reception device you are using."
 msgstr "   ."
@@ -7558,19 +7546,19 @@
 msgstr "    "
 
 msgid "Select video input with up/down buttons"
-msgstr "   /"
+msgstr "   /"
 
 msgid "Select video mode"
-msgstr " "
+msgstr " "
 
 msgid "Select whether your SCR device is externally powered."
-msgstr ",     SCR  ."
+msgstr ",       SCR"
 
 msgid "Select wireless network"
-msgstr "  "
+msgstr "  "
 
 msgid "Select your ATSC provider."
-msgstr "  ATSC ."
+msgstr "  ATSC-."
 
 msgid ""
 "Select your backup device.\n"
@@ -7580,7 +7568,7 @@
 " : "
 
 msgid "Select your country. If not available select 'all'."
-msgstr "  .     ,    ''."
+msgstr "  .  ,  ."
 
 msgid "Select your provider and region. If not present in this list you will need to select one of the other 'service scan types'."
 msgstr "    .      ,       '  '."
@@ -7592,7 +7580,7 @@
 msgstr "  .     ,    ''       ."
 
 msgid "Select your time zone area or region."
-msgstr "      ."
+msgstr "     ."
 
 msgid "Selecting satellites 1 (USALS)"
 msgstr "  1 (USALS)"
@@ -7607,7 +7595,7 @@
 msgstr "   live   LCD ."
 
 msgid "Selects video source displayed on the LCD."
-msgstr "      LCD ."
+msgstr " ,   LCD-."
 
 msgid "Send 'sourceactive' before zap timers"
 msgstr " 'sourceactive'   "
@@ -7619,16 +7607,16 @@
 msgstr " DiSEqC    "
 
 msgid "Senegal"
-msgstr "Senegal"
+msgstr ""
 
 msgid "Separate titles with a main menu"
-msgstr "    "
+msgstr "    "
 
 msgid "Sequence repeat"
-msgstr "    (  )"
+msgstr "      "
 
 msgid "Serbia"
-msgstr "Serbia"
+msgstr ""
 
 msgid "Serbian"
 msgstr ""
@@ -7655,22 +7643,22 @@
 msgstr "  "
 
 msgid "Service info - ECM Info"
-msgstr "   - ECM "
+msgstr "ECM "
 
 msgid "Service info - service & Basic PID Info"
-msgstr "   -  &   PID"
+msgstr "    PID"
 
 msgid "Service info - service & Extended PID Info"
-msgstr "   -  &   PID"
+msgstr "    PID"
 
 msgid "Service info - service & PIDs"
-msgstr "   -  PIDs"
+msgstr "  PIDs"
 
 msgid "Service info - tuner live values"
-msgstr "   - Live  "
+msgstr "  "
 
 msgid "Service info - tuner setting values"
-msgstr "   -    "
+msgstr "   "
 
 msgid ""
 "Service invalid!\n"
@@ -7693,7 +7681,7 @@
 msgstr " "
 
 msgid "Service scan"
-msgstr " "
+msgstr " "
 
 msgid "Service title mode"
 msgstr "  "
@@ -7706,7 +7694,7 @@
 "  !"
 
 msgid "Servicename"
-msgstr " "
+msgstr " "
 
 msgid "Services"
 msgstr ""
@@ -7718,22 +7706,22 @@
 msgstr " PIN-"
 
 msgid "Set action when movie playback is finished."
-msgstr " ,    ."
+msgstr " ,   ."
 
 msgid "Set all hotkey to default?"
 msgstr "     ?"
 
 msgid "Set alternative fallback tuners for DVB-T/C or ATSC"
-msgstr "     DVB-T/C  ATSC"
+msgstr "     DVB-T/C  ATSC"
 
 msgid "Set as startup service"
-msgstr "    "
+msgstr "  "
 
 msgid "Set blocktimes by weekday"
 msgstr "    "
 
 msgid "Set default"
-msgstr "  "
+msgstr " "
 
 msgid "Set end time"
 msgstr "  "
@@ -7742,37 +7730,37 @@
 msgstr ""
 
 msgid "Set fps for external subtitles"
-msgstr " fps (   )   "
+msgstr " /   "
 
 msgid "Set if You want see status icons, progress bars or nothing."
-msgstr ",     -  / /."
+msgstr ",     ,    ."
 
 msgid "Set interface as default Interface"
-msgstr "     "
+msgstr " ,  "
 
 msgid "Set limits"
 msgstr " "
 
 msgid "Set movielist type."
-msgstr "   ."
+msgstr "  ."
 
 msgid "Set pin code persistent"
 msgstr "  PIN-"
 
 msgid "Set sequence repeats if your aerial system requires this. Normally if the aerial system has been configured correctly sequence repeats will not be necessary. If yours does, recheck you have command order set correctly."
-msgstr "   ,      . ,    ,    ."
+msgstr "   ,      . ,    ,    ."
 
 msgid "Set startup service"
-msgstr "  "
+msgstr "  "
 
 msgid "Set the User ID of the OpenWebif from your fallback tuner"
-msgstr " ID  OpenWebif    "
+msgstr " ID  OpenWebif    "
 
 msgid "Set the password of the OpenWebif from your fallback tuner"
-msgstr "  OpenWebif    "
+msgstr "  OpenWebif    "
 
 msgid "Set the port of the OpenWebif from your fallback tuner"
-msgstr "  OpenWebif    "
+msgstr "  OpenWebif    "
 
 msgid "Set the type of the progress indication in the channel selection screen."
 msgstr "         ."
@@ -7796,13 +7784,13 @@
 msgstr "    6 "
 
 msgid "Set voltage and 22KHz"
-msgstr "   22KHz"
+msgstr "   22"
 
 msgid "Settings"
 msgstr ""
 
 msgid "Settings can be different for each directory separately (for non removeable devices only)."
-msgstr "       (   )."
+msgstr "       (   )."
 
 msgid "Setup"
 msgstr ""
@@ -7823,7 +7811,7 @@
 msgstr "  "
 
 msgid "Seychelles"
-msgstr "Seychelles"
+msgstr " "
 
 msgid "Sharpness"
 msgstr ""
@@ -7832,7 +7820,7 @@
 msgstr "Shell-"
 
 msgid "Shift"
-msgstr "Shift"
+msgstr ""
 
 msgid "Short filenames"
 msgstr " "
@@ -7841,121 +7829,121 @@
 msgstr ""
 
 msgid "Show Audioselection"
-msgstr "  "
+msgstr " "
 
 msgid "Show CI messages"
-msgstr "   CI"
+msgstr "  CI"
 
 msgid "Show EIT now/next in infobar"
-msgstr " EIT /  "
+msgstr " EIT '/'  "
 
 msgid "Show EPG for current channel..."
-msgstr " EPG  ..."
+msgstr " EPG  ."
 
 msgid "Show EPG..."
-msgstr " EPG..."
+msgstr " EPG"
 
 msgid "Show Games show"
 msgstr "  "
 
 msgid "Show InfoBar"
-msgstr " "
+msgstr " "
 
 msgid "Show PiP"
-msgstr " PiP"
+msgstr " PiP"
 
 msgid "Show SNR percentage instead of dB value"
-msgstr " SNR    dB "
+msgstr "  SNR   dB"
 
 msgid "Show True/False as graphical switch"
 msgstr "  "
 
 msgid "Show VCR scart on main menu"
-msgstr " ''   "
+msgstr "  ''   "
 
 msgid "Show WLAN status"
-msgstr "  WLAN"
+msgstr "  WLAN"
 
 msgid "Show alternatives"
-msgstr " "
+msgstr " "
 
 msgid "Show animation while busy"
-msgstr "    "
+msgstr "    "
 
 msgid "Show background behind subtitles"
-msgstr "   "
+msgstr "   "
 
 msgid "Show background in radio mode"
-msgstr "     "
+msgstr "     "
 
 msgid "Show bouquet selection menu"
-msgstr "   "
+msgstr "   "
 
 msgid "Show busy indicator when the system is busy."
-msgstr "      ."
+msgstr "      ."
 
 msgid "Show channel numbers in channel selection"
-msgstr "      "
+msgstr "     "
 
 msgid "Show columns"
-msgstr "    "
+msgstr " "
 
 msgid "Show crypto icons"
-msgstr "      "
+msgstr " "
 
 msgid "Show crypto info in infobar"
-msgstr "     "
+msgstr "    "
 
 msgid "Show detailed event info"
-msgstr "   "
+msgstr "  -"
 
 msgid "Show event details"
 msgstr "  "
 
 msgid "Show event-progress in channel selection"
-msgstr "      "
+msgstr " -    "
 
 msgid "Show eventinfo plugins"
-msgstr "  "
+msgstr "  "
 
 msgid "Show extended description"
-msgstr "  "
+msgstr "  "
 
 msgid "Show extension selection"
-msgstr "  "
+msgstr "  "
 
 msgid "Show extensions..."
-msgstr " ..."
+msgstr " "
 
 msgid "Show favourites list"
-msgstr "  "
+msgstr "  "
 
 msgid "Show help"
-msgstr " "
+msgstr " "
 
 msgid "Show icon for new/unseen items"
-msgstr "   / "
+msgstr "   / "
 
 msgid "Show in extensions menu"
-msgstr "   "
+msgstr "   "
 
 msgid "Show info"
 msgstr " "
 
 msgid "Show info line"
-msgstr " "
+msgstr " "
 
 msgid "Show infobar on channel change"
-msgstr "    "
+msgstr "    "
 
 msgid "Show infobar on event change"
-msgstr "    "
+msgstr "    "
 
 msgid "Show infobar on skip forward/backward"
-msgstr "    /"
+msgstr "    /"
 
 msgid "Show latest commits"
-msgstr "    "
+msgstr "  "
 
 msgid "Show latest update log"
 msgstr "   "
@@ -7967,22 +7955,22 @@
 msgstr "    "
 
 msgid "Show message when recording starts"
-msgstr "    "
+msgstr "    "
 
 msgid "Show movie lengths in movielist"
-msgstr "     "
+msgstr "    "
 
 msgid "Show movies"
-msgstr " "
+msgstr " "
 
 msgid "Show multi channel EPG"
-msgstr "  EPG "
+msgstr " -EPG "
 
 msgid "Show notification when import channels and/or EPG from remote receiver URL did not complete"
-msgstr " ,   /EPG    URL  "
+msgstr " ,   /EPG    URL  "
 
 msgid "Show notification when import channels and/or EPG from remote receiver URL is completed"
-msgstr " ,   /EPG    URL "
+msgstr " ,   /EPG    URL "
 
 msgid "Show notification when import channels was not successful"
 msgstr " ,     "
@@ -7991,101 +7979,100 @@
 msgstr " ,    "
 
 msgid "Show packages to be updated"
-msgstr " ,   "
+msgstr "  "
 
 msgid "Show picons in channel selection list"
-msgstr "     "
+msgstr "     "
 
 msgid "Show picons in display"
-msgstr "   "
+msgstr "   "
 
 msgid "Show positioner movement"
-msgstr "  "
+msgstr "  "
 
 msgid "Show positioner position"
-msgstr "  "
+msgstr "  "
 
 msgid "Show record clock icons"
-msgstr "  "
+msgstr "    "
 
 msgid "Show record indicator"
-msgstr "  "
+msgstr "  "
 
-#, fuzzy
 msgid "Show screen path"
-msgstr "   "
+msgstr "   "
 
 msgid "Show screensaver"
-msgstr "   "
+msgstr "   "
 
 msgid "Show second InfoBar"
-msgstr "  "
+msgstr "  "
 
 msgid "Show second infobar"
-msgstr "  "
+msgstr "  "
 
 msgid "Show service list"
-msgstr "  "
+msgstr "  "
 
 msgid "Show service type icons"
-msgstr "   "
+msgstr "   "
 
 msgid "Show servicelist or movies"
-msgstr "    "
+msgstr "    "
 
 msgid "Show single service EPG"
-msgstr "  EPG "
+msgstr "  EPG "
 
 msgid "Show softcam setup in extensions menu"
 msgstr "     "
 
 msgid "Show status icons in movie list"
-msgstr "     "
+msgstr "     "
 
 msgid "Show status icons in movielist"
-msgstr "     "
+msgstr "     "
 
 msgid "Show subservice selection"
-msgstr "   (SKY DE)"
+msgstr "  "
 
 msgid "Show subtitle selection"
-msgstr "   "
+msgstr "  "
 
 msgid "Show symbols on display"
-msgstr "   "
+msgstr "   "
 
 msgid "Show the radio player..."
-msgstr "  ..."
+msgstr " "
 
 msgid "Show the service information on two lines in the channel selection screen. You can choose between the current event description below the channel name, or the current event description next to the channel name, and the next event description on the second line."
-msgstr ""
+msgstr "         .                         ."
 
 msgid "Show the tv player..."
-msgstr "  ..."
+msgstr " "
 
 msgid "Show transponder info"
-msgstr "  "
+msgstr "  "
 
 msgid "Show two lines per entry"
-msgstr "     "
+msgstr "    "
 
 msgid "Show underline characters in filenames"
-msgstr "      "
+msgstr "     "
 
 msgid "Show vertical timelines"
-msgstr "  "
+msgstr "   "
 
 msgid "Show warning before set 'Ignore conflict'"
-msgstr "    ' '"
+msgstr "  . ' '"
 
 msgid "Show warning when timeshift is stopped"
-msgstr "    "
+msgstr "    "
 
 msgid "Show/hide window"
 msgstr "/ "
 
 msgid "Shows live tv or informations on LCD."
-msgstr " live      LCD."
+msgstr " live-     LCD."
 
 msgid "Shows the state of your wireless LAN connection.\n"
 msgstr "     WLAN.\n"
@@ -8100,10 +8087,10 @@
 msgstr "   "
 
 msgid "Side by side"
-msgstr "  "
+msgstr "  "
 
 msgid "Sierra Leone"
-msgstr "Sierra Leone"
+msgstr "-"
 
 msgid "Signal OK, proceeding"
 msgstr " ,  "
@@ -8136,7 +8123,7 @@
 msgstr "  (   )"
 
 msgid "Singapore"
-msgstr "Singapore"
+msgstr ""
 
 msgid "Single"
 msgstr ""
@@ -8144,18 +8131,17 @@
 msgid "Single EPG"
 msgstr " EPG"
 
-#, fuzzy
 msgid "Single line mode"
-msgstr " "
+msgstr " "
 
 msgid "Single satellite"
-msgstr " "
+msgstr " "
 
 msgid "Single step (GOP)"
-msgstr "  (GOP)"
+msgstr "  (GOP)"
 
 msgid "Sint Maarten (Dutch part)"
-msgstr "Sint Maarten (Dutch part)"
+msgstr "  ( )"
 
 msgid "Site latitude"
 msgstr "  "
@@ -8165,13 +8151,13 @@
 
 #, python-format
 msgid "Skin & Resolution: %s (%sx%s)\n"
-msgstr " & : %s (%sx%s)\n"
+msgstr "  : %s (%sx%s)\n"
 
 msgid "Skin Selection Actions"
-msgstr " "
+msgstr "  "
 
 msgid "SkinSelector: Restart GUI"
-msgstr " :  GUI"
+msgstr "SkinSelector:  . "
 
 msgid "Skins"
 msgstr ""
@@ -8180,7 +8166,7 @@
 msgstr "  "
 
 msgid "Skip internet connection check (disables automatic package installation)"
-msgstr "    (   )"
+msgstr "  - (   )"
 
 msgid "Sleep timer"
 msgstr " "
@@ -8208,10 +8194,10 @@
 msgstr ""
 
 msgid "Slovakia"
-msgstr "Slovakia"
+msgstr ""
 
 msgid "Slovenia"
-msgstr "Slovenia"
+msgstr ""
 
 msgid "Slovenian"
 msgstr ""
@@ -8220,7 +8206,7 @@
 msgstr ""
 
 msgid "Slow motion speeds"
-msgstr "  "
+msgstr " "
 
 msgid "Small"
 msgstr ""
@@ -8238,10 +8224,10 @@
 msgstr "//"
 
 msgid "SocketMMI"
-msgstr "SocketMMI"
+msgstr "MMI-"
 
 msgid "SoftCam / CI"
-msgstr " / CI"
+msgstr "/CI"
 
 msgid "Softcam Setup"
 msgstr " "
@@ -8253,7 +8239,7 @@
 msgstr ""
 
 msgid "Software management"
-msgstr "  "
+msgstr "'Software management' -  "
 
 msgid "Software manager setup"
 msgstr "  "
@@ -8265,10 +8251,10 @@
 msgstr "  "
 
 msgid "Solomon Islands"
-msgstr "Solomon Islands"
+msgstr " "
 
 msgid "Somalia"
-msgstr "Somalia"
+msgstr ""
 
 msgid "Some plugins are not available:\n"
 msgstr "  :\n"
@@ -8278,10 +8264,10 @@
 msgstr ", %s  !"
 
 msgid "Sorry, deleting directories can (for now) only be done through the trash can."
-msgstr ",    ()     ,"
+msgstr ",         ."
 
 msgid "Sorry, no backups found!"
-msgstr "  !"
+msgstr "   !"
 
 msgid "Sorry, no details available!"
 msgstr ",   !"
@@ -8341,16 +8327,16 @@
 msgstr ""
 
 msgid "South Africa"
-msgstr "South Africa"
+msgstr " "
 
 msgid "South Georgia and the South Sandwich Islands"
-msgstr "South Georgia and the South Sandwich Islands"
+msgstr "     "
 
 msgid "South Sudan"
-msgstr "South Sudan"
+msgstr " "
 
 msgid "Spain"
-msgstr "Spain"
+msgstr ""
 
 msgid "Spanish"
 msgstr ""
@@ -8362,37 +8348,37 @@
 msgstr " 2"
 
 msgid "Specify extra timeframe to ignore inactivity sleeptimer"
-msgstr "     "
+msgstr "    "
 
 msgid "Specify if you want to set the blocktimes separately by weekday"
-msgstr "        "
+msgstr "       "
 
 msgid "Specify the end time to ignore the shutdown timer when the receiver is in standby mode"
-msgstr "          ."
+msgstr "         ."
 
 msgid "Specify the end time until the inactivity sleeptimer should be ignored"
-msgstr "       ."
+msgstr "       ."
 
 msgid "Specify the extra end time until the inactivity sleeptimer should be ignored"
-msgstr "        ."
+msgstr "        ."
 
 msgid "Specify the extra start time when the inactivity sleeptimer should be ignored"
-msgstr "        ."
+msgstr "        ."
 
 msgid "Specify the start time to ignore the shutdown timer when the receiver is in standby mode"
-msgstr "          ."
+msgstr "          ."
 
 msgid "Specify the start time when the inactivity sleeptimer should be ignored"
-msgstr "       ."
+msgstr "       ."
 
 msgid "Specify timeframe to ignore inactivity sleeptimer"
-msgstr "    "
+msgstr "   "
 
 msgid "Specify timeframe to ignore the shutdown in standby"
-msgstr "      "
+msgstr "     "
 
 msgid "Split preview mode"
-msgstr "  "
+msgstr " "
 
 msgid "Splitscreen"
 msgstr " "
@@ -8401,10 +8387,10 @@
 msgstr ""
 
 msgid "Sri Lanka"
-msgstr "Sri Lanka"
+msgstr "-"
 
 msgid "Standard"
-msgstr "C"
+msgstr ""
 
 msgid "Standart list"
 msgstr " "
@@ -8416,18 +8402,18 @@
 msgstr " "
 
 msgid "Standby LED"
-msgstr "LED   "
+msgstr "  "
 
 msgid "Standby after current event"
 msgstr "    "
 
 #, python-format
 msgid "Standby fan %d PWM"
-msgstr "  -  %d PWM"
+msgstr " %d PWM   "
 
 #, python-format
 msgid "Standby fan %d voltage"
-msgstr "  -   %d"
+msgstr "  %d   "
 
 msgid "Standby in "
 msgstr "   "
@@ -8436,7 +8422,7 @@
 msgstr " "
 
 msgid "Start from the beginning"
-msgstr "   "
+msgstr " "
 
 msgid "Start instant recording"
 msgstr "  "
@@ -8472,22 +8458,22 @@
 msgstr " "
 
 msgid "Startup the set top box in standby"
-msgstr "      ."
+msgstr "     "
 
 msgid "Startup to Standby"
 msgstr "   "
 
 msgid "Step east"
-msgstr "  "
+msgstr "  "
 
 msgid "Step west"
-msgstr "  "
+msgstr "  "
 
 msgid "Stepped east"
-msgstr "  "
+msgstr "  "
 
 msgid "Stepped west"
-msgstr "  "
+msgstr "  "
 
 msgid "Stop"
 msgstr ""
@@ -8499,7 +8485,7 @@
 msgstr "   "
 
 msgid "Stop all streams"
-msgstr "  "
+msgstr "  "
 
 msgid "Stop and delete all current recordings"
 msgstr "     "
@@ -8520,13 +8506,13 @@
 msgstr "  ,    "
 
 msgid "Stop current stream"
-msgstr "  "
+msgstr "  "
 
 msgid "Stop entry"
 msgstr " "
 
 msgid "Stop play TV"
-msgstr "  "
+msgstr "  "
 
 msgid "Stop playing this movie?"
 msgstr "   ?"
@@ -8565,7 +8551,7 @@
 msgstr " ?"
 
 msgid "Stop using as startup service"
-msgstr "     "
+msgstr " ,  "
 
 msgid "Stopped"
 msgstr ""
@@ -8574,16 +8560,16 @@
 msgstr " "
 
 msgid "Store position"
-msgstr " "
+msgstr ""
 
 msgid "Stored position"
 msgstr " "
 
 msgid "Stream"
-msgstr ""
+msgstr ""
 
 msgid "Stream request"
-msgstr " "
+msgstr " "
 
 msgid "Streaming clients info"
 msgstr "   "
@@ -8592,7 +8578,7 @@
 msgstr " "
 
 msgid "Subservice list..."
-msgstr " ..."
+msgstr " "
 
 msgid "Subservices"
 msgstr ""
@@ -8634,13 +8620,13 @@
 msgstr " "
 
 msgid "Subtitle selection..."
-msgstr " ..."
+msgstr " ."
 
 msgid "Subtitle settings"
 msgstr "  "
 
 msgid "Subtitle show/hide..."
-msgstr " /..."
+msgstr "/ "
 
 msgid "Subtitles"
 msgstr ""
@@ -8658,7 +8644,7 @@
 msgstr ":"
 
 msgid "Sudan"
-msgstr "Sudan"
+msgstr ""
 
 msgid "Sun"
 msgstr ""
@@ -8671,15 +8657,15 @@
 "Please wait(3-20 min) for the scan to finish."
 msgstr ""
 "Sundtek -     .\n"
-",  ( 3-20 ),   ."
+",  (3...20 ),   ."
 
 msgid "Suriname"
-msgstr "Suriname"
+msgstr ""
 
 msgid "Svalbard and Jan Mayen"
-msgstr "Svalbard and Jan Mayen"
+msgstr "  -"
 
-msgid "Swap PiP"
+msgid "Swap PIP"
 msgstr " PiP"
 
 msgid "Swap PiP and main picture"
@@ -8689,16 +8675,16 @@
 msgstr "  "
 
 msgid "Swaziland"
-msgstr "Swaziland"
+msgstr ""
 
 msgid "Sweden"
-msgstr "Sweden"
+msgstr ""
 
 msgid "Swedish"
 msgstr ""
 
 msgid "Switch"
-msgstr ""
+msgstr ""
 
 msgid "Switch TV to correct input"
 msgstr "    "
@@ -8731,61 +8717,61 @@
 msgstr "  "
 
 msgid "Switch to filelist"
-msgstr "   "
+msgstr "   "
 
 msgid "Switch to next bouquet"
-msgstr "   "
+msgstr "   "
 
 msgid "Switch to next channel"
 msgstr "   "
 
 msgid "Switch to next channel in history"
-msgstr "     "
+msgstr "     "
 
 msgid "Switch to next sub service"
-msgstr "    "
+msgstr "   "
 
 msgid "Switch to playlist"
-msgstr "  "
+msgstr "  "
 
 msgid "Switch to previous bouquet"
-msgstr "   "
+msgstr "   "
 
 msgid "Switch to previous channel"
 msgstr "   "
 
 msgid "Switch to previous channel in history"
-msgstr "     "
+msgstr "     "
 
 msgid "Switch to previous sub service"
-msgstr "    "
+msgstr "   "
 
 msgid "Switch to radio mode"
 msgstr "   "
 
 msgid "Switzerland"
-msgstr "Switzerland"
+msgstr ""
 
 msgid "Symbol rate"
 msgstr " "
 
 msgid "Symbol rate & FEC"
-msgstr "  & FEC"
+msgstr "   FEC"
 
 msgid "Symbol rate:"
 msgstr " :"
 
 msgid "Sync failure moving back to origin !"
-msgstr " ,  !"
+msgstr " .   !"
 
 msgid "Syrian Arab Republic"
-msgstr "Syrian Arab Republic"
+msgstr "  "
 
 msgid "System"
 msgstr ""
 
 msgid "System & Modulation"
-msgstr " & "
+msgstr "  "
 
 msgid "T2MI PID"
 msgstr " PID"
@@ -8797,14 +8783,14 @@
 msgstr "T2MI PLP ID"
 
 msgid "T2MI RAW Mode"
-msgstr "T2MI RAW "
+msgstr "T2MI RAW-"
 
 msgid "TEXT"
-msgstr "TEXT"
+msgstr ""
 
 #. TRANSLATORS: Add here whatever should be shown in the "translator" about screen, up to 6 lines (use \n for newline)
 msgid "TRANSLATOR_INFO"
-msgstr "Dimitrij - 23.08.2020"
+msgstr "1455 <a.g.prosat@gmail.com>"
 
 msgid "TS file is too large for ISO9660 level 1!"
 msgstr "TS     ISO9660 level 1!"
@@ -8825,7 +8811,7 @@
 msgstr "TXT PID"
 
 msgid "TXT Subtitles page & lang"
-msgstr "TXT   & "
+msgstr "TXT    "
 
 msgid "Table of contents for collection"
 msgstr " "
@@ -8834,13 +8820,13 @@
 msgstr ""
 
 msgid "Taiwan"
-msgstr "Taiwan"
+msgstr ""
 
 msgid "Tajikistan"
-msgstr "Tajikistan"
+msgstr ""
 
 msgid "Tanzania, United Republic of"
-msgstr "Tanzania, United Republic of"
+msgstr ",  "
 
 msgid "Teletext subtitle color"
 msgstr "  "
@@ -8864,10 +8850,10 @@
 msgstr " "
 
 msgid "Testscreens"
-msgstr " "
+msgstr " "
 
 msgid "Testscreens that are helpfull to fine-tune your display"
-msgstr " ,        "
+msgstr " ,    "
 
 msgid "Text color"
 msgstr " "
@@ -8876,7 +8862,7 @@
 msgstr ""
 
 msgid "Thailand"
-msgstr "Thailand"
+msgstr ""
 
 msgid ""
 "Thank you for using the wizard.\n"
@@ -8925,7 +8911,7 @@
 ",      ."
 
 msgid "The following files were found..."
-msgstr "    ..."
+msgstr "   :"
 
 msgid ""
 "The network wizard extension is not installed!\n"
@@ -8945,7 +8931,7 @@
 "\n"
 ":       ,  \n"
 "\n"
-"->->->->/->  "
+"->->->->/->  "
 
 msgid ""
 "The overscan wizard helps you to setup your TV in the correct way.\n"
@@ -8965,8 +8951,8 @@
 "\n"
 "      .  ,      ,    HD     .\n"
 "\n"
-"    5%   HD .\n"
-"   10%   HD .\n"
+"    5%   HD .\n"
+"   10%   HD .\n"
 "\n"
 "     ,  overscan  .\n"
 "\n"
@@ -9010,7 +8996,7 @@
 msgstr " GUI    "
 
 msgid "The user interface of your receiver is restarting"
-msgstr " GUI  "
+msgstr "   "
 
 msgid ""
 "The user interface of your receiver is restarting\n"
@@ -9020,7 +9006,7 @@
 "-   mytest.py"
 
 msgid "The user interface of your receiver is restarting in debug mode"
-msgstr " GUI      "
+msgstr "     debug-"
 
 msgid ""
 "The wireless LAN plugin is not installed!\n"
@@ -9037,11 +9023,11 @@
 ",  ."
 
 msgid "There are at least "
-msgstr "    "
+msgstr ",   , "
 
 #, python-format
 msgid "There are at least %s updates available."
-msgstr "%s     ."
+msgstr "%s     ."
 
 msgid "There are currently no outstanding actions."
 msgstr "     ."
@@ -9066,11 +9052,11 @@
 "   ?"
 
 msgid "This DVD RW medium is already formatted - reformatting will erase all content on the disc."
-msgstr " DVD RW    -      ."
+msgstr " DVD RW   .     ."
 
 #, python-format
 msgid "This field allows you to search an additional symbol rate up to %s."
-msgstr "        %s."
+msgstr "        %s."
 
 msgid ""
 "This info is for developers only.\n"
@@ -9082,13 +9068,13 @@
 " ,       !"
 
 msgid "This is a multitype tuner. Available options depend on the hardware."
-msgstr " -.      ."
+msgstr " .      ."
 
 msgid "This is the order in which DiSEqC commands are sent to the aerial system. The order must correspond exactly with the order the physical devices are arranged along the signal cable (starting from the receiver end)."
-msgstr " ,    DiSEqC  .           (  )."
+msgstr " ,    DiSEqC  .           (  )."
 
 msgid "This option allows to reduce the block-noise in the picture. Obviously this is at the cost of the picture's sharpness."
-msgstr "    - .    ."
+msgstr "    - . ,   ."
 
 msgid "This option allows to set the level of dynamic contrast of the picture."
 msgstr "       ."
@@ -9106,13 +9092,13 @@
 msgstr "    ' '   ."
 
 msgid "This option allows you to alphabetically sort setup menu entries."
-msgstr "    ."
+msgstr "       ."
 
 msgid "This option allows you to boost the blue tones in the picture."
 msgstr "      ."
 
 msgid "This option allows you to boost the green tones in the picture."
-msgstr "       ."
+msgstr "       ."
 
 msgid "This option allows you to change the virtuell loadspeaker position."
 msgstr "       ."
@@ -9124,7 +9110,7 @@
 msgstr "       HDR."
 
 msgid "This option allows you to configure the Colorspace from Auto to RGB"
-msgstr "       HDMI -    RGB"
+msgstr "          RGB"
 
 msgid "This option allows you to configure the HDR type."
 msgstr "      HDR."
@@ -9133,16 +9119,16 @@
 msgstr "         ."
 
 msgid "This option allows you to enable 3D surround softlimiter."
-msgstr "     3D -  ."
+msgstr "      3D-  ."
 
 msgid "This option allows you to enable 3D surround sound."
 msgstr "     3D  ."
 
 msgid "This option allows you to enable or disable the 10 bit color mode"
-msgstr "         10bit"
+msgstr "       10-  "
 
 msgid "This option allows you to enable or disable the 12 bit color mode"
-msgstr "         12bit"
+msgstr "       12-  "
 
 msgid "This option allows you to force the HDR10 modes for UHD"
 msgstr "      HDR10  UHD"
@@ -9151,7 +9137,7 @@
 msgstr "      HLG  UHD"
 
 msgid "This option allows you to hide and sort menu entries. When selecting user you can change order and hide menu items via the blue button. With the user defined hidden the blue button is not shown in the menus"
-msgstr "        .    ,            .    ,      ."
+msgstr "        .   ,           .    ,    ."
 
 msgid "This option allows you to power off the display."
 msgstr "    ."
@@ -9160,35 +9146,34 @@
 msgstr "        ."
 
 msgid "This option allows you to show menu and/or plugin number quick links."
-msgstr "      / ,     ,   ."
+msgstr "      ()        ."
 
-#, fuzzy
 msgid "This option allows you to show the full screen path leading to the current screen."
-msgstr "       ."
+msgstr "     ,    ."
 
 msgid "This option allows you to view the old and new settings side by side."
-msgstr "            ."
+msgstr "    ' '   ."
 
 msgid "This option can be useful for long HDMI cables."
 msgstr "        HDMI ( 5 )."
 
 msgid "This option set the level of surpression of mosquito noise (Mosquito Noise is random aliasing as a result of strong compression). Obviously this goes at the cost of picture details."
-msgstr "       mosquito noise (Mosquito Noise -      ). ,      ."
+msgstr "        (Mosquito Noise -       ). ,      ."
 
 msgid "This option sets  the picture contrast."
-msgstr "     ."
+msgstr "    ."
 
 msgid "This option sets the picture brightness."
-msgstr "     ."
+msgstr "    ."
 
 msgid "This option sets the picture flesh tones."
-msgstr "    flesh  ."
+msgstr "    ."
 
 msgid "This option sets the picture hue."
-msgstr "     ."
+msgstr "    ."
 
 msgid "This option sets the picture saturation."
-msgstr "     ."
+msgstr "    ."
 
 msgid "This option sets the scaler sharpness, used when stretching picture from 4:3 to 16:9."
 msgstr "   ,       4:3  16:9."
@@ -9219,7 +9204,7 @@
 msgstr "       ."
 
 msgid "This setting depends on your cable provider and location. If you don't know the correct setting refer to the menu in the official cable receiver, or get it from your cable provider, or seek help via internet forum."
-msgstr "        .      ,           ."
+msgstr "        .      ,           ."
 
 msgid "This setting is for special setups only. It gives this LNB higher priority over other LNBs with lower values. The free LNB with the highest priority will be the first LNB selected for tuning services."
 msgstr "      .    LNB   ,     LNB    .  LNB      LNB,    ."
@@ -9232,7 +9217,7 @@
 msgstr ""
 "     (DNS).\n"
 "   \"\":\n"
-"- ,   DHCP,     \n"
+"- ,   DHCP,     .\n"
 "-      ,      \" (DNS)\""
 
 msgid ""
@@ -9265,7 +9250,7 @@
 "If you get an \"enabeld\" message:\n"
 "-verify that you have a configured and working DHCP server in your network."
 msgstr ""
-"  ,    LAN ,    IP-   DHCP.\n"
+"  ,    LAN ,    IP-   DHCP.\n"
 "   \" \":\n"
 "-  LAN      IP.\n"
 "- ,         .\n"
@@ -9273,13 +9258,13 @@
 "- ,        DHCP    ."
 
 msgid "This test detects your configured LAN adapter."
-msgstr "     LAN ."
+msgstr "     LAN ."
 
 msgid ""
 "This will (re-)calculate all positions of your rotor and may remove previously memorised positions and fine-tuning!\n"
 "Are you sure?"
 msgstr ""
-" (-)             !\n"
+" ()             !\n"
 "   ?"
 
 msgid "Three"
@@ -9307,7 +9292,7 @@
 msgstr " "
 
 msgid "Time zone area"
-msgstr " "
+msgstr "  "
 
 msgid "Timer"
 msgstr ""
@@ -9344,7 +9329,7 @@
 msgstr " "
 
 msgid "Timer selection..."
-msgstr " ..."
+msgstr " ."
 
 msgid "Timer type"
 msgstr " "
@@ -9371,7 +9356,7 @@
 msgstr " "
 
 msgid "Timor-Leste"
-msgstr "Timor-Leste"
+msgstr " "
 
 msgid "Title"
 msgstr ""
@@ -9384,14 +9369,14 @@
 
 #, python-format
 msgid "To apply the selected '%s' skin the GUI needs to restart. Would you like to restart the GUI now?"
-msgstr "    '%s', GUI  .    GUI ?"
+msgstr "    '%s',   .      ?"
 
 msgid "To audio selection"
 msgstr "  "
 
 #, python-format
 msgid "To save and apply the selected '%s' skin the GUI needs to restart. Would you like to save the selection and restart the GUI now?"
-msgstr "      '%s', GUI  .       GUI ?"
+msgstr "      '%s',   .         ?"
 
 msgid "To subtitle selection"
 msgstr "  "
@@ -9406,10 +9391,10 @@
 msgstr " LCD LiveTV"
 
 msgid "Toggle PiPzap"
-msgstr " Pipzap"
+msgstr " PIP-"
 
 msgid "Toggle TV/RADIO mode"
-msgstr " / "
+msgstr "  /"
 
 msgid "Toggle a cut mark at the current position"
 msgstr "/    "
@@ -9421,25 +9406,25 @@
 msgstr " "
 
 msgid "Toggle new text inserts before or overwrites existing text"
-msgstr "        "
+msgstr "  -     "
 
 msgid "Toggle show/hide"
 msgstr " /"
 
 msgid "Toggle subtitles show/hide"
-msgstr "  /"
+msgstr " / "
 
 msgid "Toggle the tv and the radio player..."
-msgstr "     ..."
+msgstr "    ."
 
 msgid "Toggle videomode"
-msgstr " "
+msgstr " "
 
 msgid "Togo"
-msgstr "Togo"
+msgstr ""
 
 msgid "Tokelau"
-msgstr "Tokelau"
+msgstr ""
 
 msgid "Tone amplitude"
 msgstr " "
@@ -9448,13 +9433,13 @@
 msgstr " "
 
 msgid "Toneburst"
-msgstr "  (Tone Burst)"
+msgstr " "
 
 msgid "Toneburst A/B"
-msgstr "  (Tone Burst) A/B"
+msgstr "  A/B"
 
 msgid "Tonga"
-msgstr "Tonga"
+msgstr ""
 
 msgid "Top and bottom"
 msgstr "  "
@@ -9494,19 +9479,19 @@
 msgstr " :"
 
 msgid "Trinidad and Tobago"
-msgstr "Trinidad and Tobago"
+msgstr "  "
 
 msgid "Troubleshoot"
-msgstr "  ()"
+msgstr ""
 
 msgid "True"
-msgstr ""
+msgstr ""
 
 msgid "Try to find used transponders in cable network.. please wait..."
-msgstr "  ,    ... , ..."
+msgstr "  ,    . , ."
 
 msgid "Try to find used transponders in terrestrial network... please wait..."
-msgstr "  ,    ... , ..."
+msgstr "  ,    . , ."
 
 msgid "Trying to download a new packetlist. Please wait..."
 msgstr "    . , ..."
@@ -9539,13 +9524,13 @@
 msgstr "  "
 
 msgid "Tuner live values"
-msgstr " -  "
+msgstr " "
 
 msgid "Tuner not available."
 msgstr "  ."
 
 msgid "Tuner setting values"
-msgstr " -  "
+msgstr ""
 
 msgid "Tuner slot"
 msgstr " "
@@ -9557,48 +9542,46 @@
 msgstr " "
 
 msgid "Tuners & scanning"
-msgstr " / "
+msgstr "  "
 
 msgid "Tunisia"
-msgstr "Tunisia"
+msgstr ""
 
 msgid "Turkey"
-msgstr "Turkey"
+msgstr ""
 
 msgid "Turkish"
 msgstr ""
 
 msgid "Turkmenistan"
-msgstr "Turkmenistan"
+msgstr ""
 
 msgid "Turks and Caicos Islands"
-msgstr "Turks and Caicos Islands"
+msgstr "   "
 
 msgid "Turn on the power LED during deep standby."
-msgstr "    LED    ."
+msgstr "      ."
 
 msgid "Turn on the power LED during standby."
-msgstr "    LED,       /   ."
+msgstr "   LED,      /  ."
 
 msgid "Turn on the power LED."
-msgstr "    LED"
+msgstr "  ."
 
 msgid "Turning step size"
 msgstr "  "
 
 msgid "Tuvalu"
-msgstr "Tuvalu"
+msgstr ""
 
 msgid "Two"
 msgstr ""
 
-#, fuzzy
 msgid "Two lines"
-msgstr " "
+msgstr " "
 
-#, fuzzy
 msgid "Two lines and next event"
-msgstr "   "
+msgstr "    "
 
 msgid "Type"
 msgstr ""
@@ -9616,31 +9599,31 @@
 msgstr "URL"
 
 msgid "URL of fallback remote receiver"
-msgstr " URL   "
+msgstr " URL   "
 
 msgid "USALS"
 msgstr "USALS"
 
 msgid "USALS automatically moves a motorised dish to the correct satellite based on the coordinates entered by the user. Without USALS each satellite will need to be setup and saved individually."
-msgstr "USALS           ,  .  USALS        ."
+msgstr "USALS           ,  .  USALS        ."
 
 msgid "USALS calibration"
 msgstr " USALS"
 
 msgid "USB stick"
-msgstr "USB "
+msgstr "USB-"
 
 msgid "Uganda"
-msgstr "Uganda"
+msgstr ""
 
 msgid "Ukraine"
-msgstr "Ukraine"
+msgstr ""
 
 msgid "Ukrainian"
 msgstr ""
 
 msgid "Unable to backup settings as the AutoBackup plugin is missing, do you want to continue?"
-msgstr "    ,      'AutoBackup',   ?"
+msgstr "    ,      'AutoBackup'.   ?"
 
 msgid "Unable to create the required directories on the media (e.g. USB stick or Harddisk) - Please verify media and try again!"
 msgstr "      (, USB-   ). ,     !"
@@ -9652,13 +9635,13 @@
 msgstr ""
 "   .\n"
 ",    .\n"
-"    ..."
+"    ."
 
 msgid "Uncover dashed flickering line for this service"
-msgstr "     "
+msgstr "     "
 
 msgid "Undefined"
-msgstr ""
+msgstr " "
 
 msgid "Undo install"
 msgstr " "
@@ -9667,55 +9650,55 @@
 msgstr " "
 
 msgid "Unencrypted"
-msgstr " ()"
+msgstr ""
 
 msgid "Unexpected error while retreiving fallback tuner's timer information"
-msgstr "       "
+msgstr "       "
 
 msgid "UnhandledKey"
-msgstr " "
+msgstr "  "
 
 msgid "Unhide parental control services"
-msgstr "   "
+msgstr "  "
 
 msgid "Unicable delay after change voltage before switch command"
-msgstr "Unicable      ."
+msgstr "Unicable-     ."
 
 msgid "Unicable delay after enable voltage before switch command"
-msgstr "Unicable   .   ."
+msgstr "Unicable-  .   ."
 
 msgid "Unicable delay after last diseqc command"
-msgstr "Unicable     DiSEqC"
+msgstr "Unicable-    DiSEqC"
 
 msgid "Uninstall"
 msgstr ""
 
 msgid "United Arab Emirates"
-msgstr "United Arab Emirates"
+msgstr "  "
 
 msgid "United Kingdom"
-msgstr "United Kingdom"
+msgstr ""
 
 msgid "United States"
-msgstr "United States"
+msgstr "  "
 
 msgid "United States Minor Outlying Islands"
-msgstr "United States Minor Outlying Islands"
+msgstr "    "
 
 msgid "United States of America"
-msgstr "United States of America"
+msgstr "  "
 
 msgid "Universal LNB"
 msgstr " LNB"
 
 msgid "Unknown"
-msgstr ""
+msgstr ""
 
 msgid "Unmark service as dedicated 3D service"
-msgstr "    3D "
+msgstr "  ,  3D "
 
 msgid "Unmount"
-msgstr ""
+msgstr ""
 
 msgid "Unsupported"
 msgstr " "
@@ -9752,13 +9735,13 @@
 msgstr " .    ?"
 
 msgid "Update failed. Your receiver does not have a working internet connection."
-msgstr "  .      -."
+msgstr "  .      -."
 
 msgid "Update has completed."
 msgstr " ."
 
 msgid "Updatefeed not available."
-msgstr "    ."
+msgstr "   ."
 
 msgid "Updating"
 msgstr ""
@@ -9773,7 +9756,7 @@
 msgstr " "
 
 msgid "Uruguay"
-msgstr "Uruguay"
+msgstr ""
 
 msgid "Usage Setup"
 msgstr " "
@@ -9803,7 +9786,7 @@
 msgstr "  Netmed EPG ( 13E),   ."
 
 msgid "Use OpenTV EPG information when it is available."
-msgstr "  OpenTV EPG),   ."
+msgstr "  OpenTV EPG,  ."
 
 msgid "Use TV remote control"
 msgstr "    "
@@ -9821,7 +9804,7 @@
 msgstr " "
 
 msgid "Use as PiP if possible"
-msgstr "  PiP  "
+msgstr "  ,  PiP"
 
 msgid "Use circular LNB"
 msgstr "  LNB"
@@ -9845,16 +9828,16 @@
 msgstr "  "
 
 msgid "Use original DVB subtitle position"
-msgstr "   DVB "
+msgstr ".   DVB-"
 
 msgid "Use original teletext position"
-msgstr "   "
+msgstr ".   "
 
 msgid "Use power measurement"
 msgstr "  "
 
 msgid "Use the network wizard to configure selected network adapter"
-msgstr "        "
+msgstr "      "
 
 msgid "Use the network wizard to configure your network\n"
 msgstr "       .\n"
@@ -9863,7 +9846,7 @@
 msgstr "  /      .    OK."
 
 msgid "Use the wizard to set up basic features"
-msgstr "     "
+msgstr "    "
 
 msgid "Use these input device settings?"
 msgstr "    ?"
@@ -9881,19 +9864,19 @@
 msgstr "   "
 
 msgid "User - bouquets"
-msgstr " - "
+msgstr " "
 
 msgid "User ID"
-msgstr " ID"
+msgstr "ID "
 
 msgid "User Mode"
 msgstr " "
 
 msgid "User defined"
-msgstr " "
+msgstr ""
 
 msgid "User defined transponder"
-msgstr " "
+msgstr " "
 
 msgid "User interface"
 msgstr " "
@@ -9910,10 +9893,10 @@
 msgstr "  %s"
 
 msgid "Usually when the subtitle language is the same as the audio language, the subtitles will not be used. Enable this option to allow these subtitles to be used."
-msgstr "       ,   .     ,   ."
+msgstr ",       ,   .     ,   ."
 
 msgid "Uzbekistan"
-msgstr "Uzbekistan"
+msgstr ""
 
 msgid "VCR scart"
 msgstr " (VCR )"
@@ -9934,16 +9917,16 @@
 msgstr "VU+"
 
 msgid "Vanuatu"
-msgstr "Vanuatu"
+msgstr ""
 
 msgid "Various"
 msgstr ""
 
 msgid "Venezuela (Bolivarian Republic of)"
-msgstr "Venezuela (Bolivarian Republic of)"
+msgstr " ( )"
 
 msgid "Vertical"
-msgstr ""
+msgstr ""
 
 msgid "Vertical turning speed"
 msgstr " (V) -  "
@@ -9952,7 +9935,7 @@
 msgstr " PID"
 
 msgid "Video clipping setup"
-msgstr "  "
+msgstr " "
 
 msgid "Video enhancement preview"
 msgstr "   "
@@ -9993,25 +9976,25 @@
 msgstr ": %s fps"
 
 msgid "VideoMode"
-msgstr " "
+msgstr ""
 
 msgid "Videocodec, size & format"
-msgstr " & "
+msgstr ",   "
 
 msgid "Viet Nam"
-msgstr "Viet Nam"
+msgstr ""
 
 msgid "View Rass interactive..."
-msgstr "  Rass..."
+msgstr "  RASS"
 
 msgid "View details"
-msgstr " "
+msgstr " "
 
 msgid "View list of available "
 msgstr "   "
 
 msgid "View list of available CommonInterface extensions"
-msgstr "    CI (Common Interface) "
+msgstr "    CI-"
 
 msgid "View list of available EPG extensions."
 msgstr "    EPG."
@@ -10044,25 +10027,25 @@
 msgstr "    "
 
 msgid "View list of available system extensions"
-msgstr "    "
+msgstr "    "
 
 msgid "View photos..."
-msgstr " ..."
+msgstr " ."
 
 msgid "View teletext..."
-msgstr " ..."
+msgstr " "
 
 msgid "View video CD..."
-msgstr " CD ..."
+msgstr " CD-."
 
 msgid "View, install and remove available or installed packages."
 msgstr ",       ."
 
 msgid "Virgin Islands (British)"
-msgstr "Virgin Islands (British)"
+msgstr "  (.)"
 
 msgid "Virgin Islands (U.S.)"
-msgstr "Virgin Islands (U.S.)"
+msgstr "  ()"
 
 msgid "Virtual KeyBoard Functions"
 msgstr "  "
@@ -10080,10 +10063,10 @@
 msgstr ""
 
 msgid "Volume down"
-msgstr " "
+msgstr " "
 
 msgid "Volume up"
-msgstr " "
+msgstr " "
 
 msgid "W"
 msgstr "W"
@@ -10140,7 +10123,7 @@
 msgstr " "
 
 msgid "Wallis and Futuna"
-msgstr "Wallis and Futuna"
+msgstr "  "
 
 msgid "Warning"
 msgstr ""
@@ -10151,17 +10134,17 @@
 "Really disable timer conflict detection?"
 msgstr ""
 "!\n"
-"    ,      .\n"
+"         .\n"
 "    ?"
 
 msgid "Warning: no LNB; using factory defaults."
 msgstr ":  LNB;   ."
 
 msgid "Watch movies..."
-msgstr " ..."
+msgstr " ."
 
 msgid "Watch recordings..."
-msgstr " ..."
+msgstr " "
 
 msgid "Wed"
 msgstr ""
@@ -10197,7 +10180,7 @@
 msgstr ""
 " .\n"
 "\n"
-"        ,           .\n"
+"       ,           .\n"
 "\n"
 "     ."
 
@@ -10222,37 +10205,37 @@
 msgstr "   "
 
 msgid "Western Sahara"
-msgstr "Western Sahara"
+msgstr " "
 
 msgid "What type of service scan do you want?"
 msgstr "     ?"
 
 msgid "When enabled enigma2 will load unlinked userbouquets. This means that userbouquets that are available, but not included in the bouquets.tv or bouquets.radio files, will still be loaded. This allows you for example to keep your own user bouquet while installed settings are updated"
-msgstr "  ,    2    ,      bouquets.tv  bouquets.radio."
+msgstr "  ,    enigma2    ,      bouquets.tv  bouquets.radio."
 
-msgid "When enabled the Picture in Picture window can be closed with 'exit' button."
+msgid "When enabled the PiP can be closed by the exit button."
 msgstr " ,     PiP    ."
 
 msgid "When enabled the arrow buttons around the OK button will follow the 'neutrino' style zap controls instead of the enigma2 style."
-msgstr " ,   (/, /)  OK,   ''   ,   2."
+msgstr " ,   /  /  OK,      '',   enigma2."
 
 msgid "When enabled the left, right, CH+/-, B+/-, P+/- buttons will follow the 'neutrino' style zap controls instead of the enigma2 style."
-msgstr " ,   /, CH+/-, B+/-, P+/-   ''    ,   2."
+msgstr " ,   /, CH+/-, B+/-, P+/-       '',   enigma2."
 
 msgid "When enabled the set top box is able to wakeup on LAN"
 msgstr "      ,         LAN  ."
 
 msgid "When enabled the timer from the fallback tuner is imported"
-msgstr " ,      "
+msgstr " ,      "
 
 msgid "When enabled then when you select a new channel in the channel selection the channel selection will not close. It will only close when you select the current playing service. This is a kind of preview mode"
 msgstr " ,     ,     .          .       ."
 
 msgid "When enabled you can control the volume with the arrow buttons instead of getting the channel selection list"
-msgstr " ,         (/, /)   OK,    ."
+msgstr " ,         /, /   OK,    ."
 
 msgid "When enabled you can customize the OpenWebIf settings for the fallback tuner"
-msgstr " ,      OpenWebIf   "
+msgstr " ,      OpenWebIf   "
 
 msgid "When enabled you can specify a timeframe to ignore the shutdown timer when the receiver is in standby mode"
 msgstr " ,           ."
@@ -10267,16 +10250,16 @@
 msgstr " ,       CH+/-, B+/-, P+/- ,    ."
 
 msgid "When enabled you get the channel selection list via the OK button, the infobar toggle is then transfered to exit button"
-msgstr " ,        OK,         ."
+msgstr " ,        OK,        ."
 
 msgid "When enabled, AIT data will be included in http streams. This allows a client receiver to use HbbTV."
-msgstr "   , AIT      http .      HbbTV."
+msgstr " , AIT      http-.      HbbTV."
 
 msgid "When enabled, ECM data will be included in http streams. This allows a client receiver to do the descrambling."
-msgstr "   , ECM     http .      ."
+msgstr " , ECM     http-.      ."
 
 msgid "When enabled, EIT data will be included in http streams. This allows a client receiver to show EPG."
-msgstr "   , EIT     http .       EPG."
+msgstr " , EIT     http-.       EPG."
 
 msgid "When enabled, HDMI-CEC is enabled with standard configuration"
 msgstr " , HDMI-CEC     ."
@@ -10288,7 +10271,7 @@
 msgstr " ,      ."
 
 msgid "When enabled, a radio background image will be visible while listening to a radio channel."
-msgstr "     ,     ."
+msgstr "     ,    ."
 
 msgid "When enabled, a recording is allowed to interrupt live tv, when there are no free tuners."
 msgstr " ,     ,      ,    ."
@@ -10297,13 +10280,13 @@
 msgstr " ,           ."
 
 msgid "When enabled, always descramble receiving http streams. This takes up more resources (descrambling demuxers), only enable if necessary. Individual streams are always descrambled if 0x100 is added to the service type, regardless of this setting. Default off."
-msgstr "  ,   http     .    ( ),    .     ,  0x100    ,    .   ."
+msgstr "  ,   http-    .    ( ),    .    ,  0x100    ,    .   ."
 
 msgid "When enabled, authentication is required to watch http streams."
 msgstr "  ,     HTTP ."
 
 msgid "When enabled, channel numbering will start at '1' for each bouquet."
-msgstr " ,          '1' "
+msgstr " ,          '1' "
 
 msgid "When enabled, content with an aspect ratio of 4:3 will be stretched to fit the screen."
 msgstr "       4:3, ,       ."
@@ -10312,7 +10295,7 @@
 msgstr " ,        ,       ."
 
 msgid "When enabled, deleted recordings are moved to the trash can, instead of being deleted immediately."
-msgstr "   ,      ,   ."
+msgstr "   ,      ,   ."
 
 msgid "When enabled, display the EIT now/next eventdata in infobar. When disabled, display now/next eventdata from the EPG cache instead."
 msgstr " ,  /  DVB EPG    .  ,        EPG."
@@ -10327,19 +10310,19 @@
 msgstr "  ,         ."
 
 msgid "When enabled, graphical DVB subtitles are preferred over teletext subtitles, when both types are available."
-msgstr " ,     DVB ,    ,    ."
+msgstr " ,     DVB-,    ,    ."
 
 msgid "When enabled, graphical DVB subtitles will be centered horizontally."
-msgstr " ,  DVB       ."
+msgstr " ,  DVB-      ."
 
 msgid "When enabled, graphical DVB subtitles will be displayed at their original position."
-msgstr " ,  DVB       ."
+msgstr " ,  DVB-      ."
 
 msgid "When enabled, graphical DVB subtitles will be displayed in yellow, instead of the original color."
-msgstr " ,  DVB    ,    ."
+msgstr " ,  DVB-   ,    ."
 
 msgid "When enabled, http streams are descrambled on the server side. The (remote) client receiver does not have to do descrambling. Default on."
-msgstr "  ,  http      . ()        .   ."
+msgstr "  ,  http-     . -     .   ."
 
 msgid "When enabled, it is possible to leave the movieplayer with exit."
 msgstr " ,        ."
@@ -10357,7 +10340,7 @@
 msgstr " ,       ."
 
 msgid "When enabled, services may be grouped in multiple bouquets."
-msgstr " ,        ."
+msgstr " ,        ."
 
 msgid "When enabled, show channel numbers in the channel selection screen."
 msgstr " ,       ."
@@ -10387,13 +10370,13 @@
 msgstr " ,      ."
 
 msgid "When enabled, the infobar will be displayed when skipping forwards/backwards during media playback."
-msgstr " ,        /."
+msgstr " ,        /."
 
 msgid "When enabled, the lenght of each recording will be shown in the movielist (this might cause some additional loading time)."
 msgstr "      (      )"
 
 msgid "When enabled, the receiver will automatically use the audio track which you selected before."
-msgstr " ,      ,    ."
+msgstr " ,     ,    ."
 
 msgid "When enabled, the receiver will automatically use the subtitles which you selected before."
 msgstr " ,    ,    ."
@@ -10408,16 +10391,16 @@
 msgstr " ,       AC3+ ( )."
 
 msgid "When enabled, this setting has more weight than 'Preferred tuner for recordings'."
-msgstr "   ,       '   '."
+msgstr "   ,     ,  '   '."
 
 msgid "When enabled, this setting has more weight than 'Preferred tuner'."
-msgstr "   ,       ' '."
+msgstr "   ,     ,  ' '."
 
 msgid "When enabled, timeshift starts automatically in background after specified time."
 msgstr " ,         ."
 
 msgid "When enabled, use DHCP for the IP configuration."
-msgstr " ,  DHCP   ."
+msgstr " ,  DHCP   IP."
 
 msgid "When enabled, your receiver will detect activity on the VCR SCART input."
 msgstr " ,        VCR SCART."
@@ -10429,7 +10412,7 @@
 msgstr "      ,      EPG."
 
 msgid "When selected this allows video modes to be selected even if they are not reported as supported."
-msgstr " ,      ,      ."
+msgstr " ,     ,     ."
 
 msgid "When the content has an aspect ratio of 16:9, choose whether to scale/stretch the picture."
 msgstr "       16:9, ,   / ."
@@ -10459,7 +10442,7 @@
 msgstr "  "
 
 msgid "With T2MI RAW mode disabled (default) we can use single T2MI PLP de-encapsulation. With T2MI RAW mode enabled we can use astra-sm to analyze T2MI"
-msgstr " T2MI RAW   ()     T2MI PLP -.  T2MI RAW      astra-sm   T2MI"
+msgstr "  RAW- T2MI ( )      T2MI PLP.   RAW- T2MI    astra-sm   T2MI"
 
 msgid "With errors:"
 msgstr " :"
@@ -10477,7 +10460,7 @@
 msgstr "          ."
 
 msgid "With this option you can switch the LED color or deactivate the LED."
-msgstr "        LED   LED."
+msgstr "           ."
 
 msgid "Without popup"
 msgstr " "
@@ -10490,7 +10473,7 @@
 
 #, python-format
 msgid "Would you save the entered PIN %s persistent?"
-msgstr "    PIN- %s  ?"
+msgstr "    PIN- %s,  ?"
 
 msgid "Write error while recording. Disk full?\n"
 msgstr "   .  ?\n"
@@ -10520,13 +10503,13 @@
 msgstr ""
 
 msgid "Yellow"
-msgstr ""
+msgstr ""
 
 msgid "Yellow DVB subtitles"
-msgstr " DVB "
+msgstr " DVB "
 
 msgid "Yemen"
-msgstr "Yemen"
+msgstr ""
 
 msgid "Yes"
 msgstr ""
@@ -10538,7 +10521,7 @@
 msgstr ",  "
 
 msgid "Yes and save in movie dir"
-msgstr ",     movie"
+msgstr ",     movies"
 
 msgid "Yes to all"
 msgstr ",  "
@@ -10611,7 +10594,7 @@
 msgstr "  ,         'Exit'."
 
 msgid "You can set selected directory as 'root' directory for movie player."
-msgstr "      ''   ."
+msgstr "    ,  ''   ."
 
 msgid "You can set sorting type for items in movielist."
 msgstr "         ."
@@ -10634,11 +10617,11 @@
 "\n"
 " ,         .    ,       ,     .\n"
 "\n"
-" GUI     .\n"
+" GUI     .\n"
 "\n"
 ":       ,  \n"
 "\n"
-"->->->  "
+"->->->  "
 
 msgid ""
 "You did not see all eight arrow heads. This means your TV has overscan enabled and presents you with a zoomed-in picture, causing you to loose part of a full HD screen. In addition to this you may also miss parts of the user interface, for example volume bars and more.\n"
@@ -10667,10 +10650,10 @@
 msgstr "     %s (%s - '%s')!\n"
 
 msgid "You seem to be in timeshift!"
-msgstr ",  ,   !"
+msgstr ",    !"
 
 msgid "Your collection exceeds the size of a single layer medium, you will need a blank dual layer DVD!"
-msgstr "     .      DVD!"
+msgstr "     .     DVD!"
 
 msgid "Your current collection will get lost!"
 msgstr "    !"
@@ -10680,32 +10663,32 @@
 "Please wait until your receiver reboots\n"
 "This may take a few minutes"
 msgstr ""
-"  \n"
-"   \n"
+"  .\n"
+"   .\n"
 "    "
 
 msgid ""
 "Your internet connection is not working!\n"
 "Please choose what you want to do next."
 msgstr ""
-" -  !\n"
+" -  !\n"
 ", ,    ."
 
 #, python-format
 msgid "Your internet connection is working (ip: %s)"
-msgstr " -  (ip: %s)"
+msgstr " -  (IP: %s)"
 
 msgid "Your network configuration has been activated."
 msgstr "    ."
 
 msgid "Your receiver can use SCPC optimized search range. Consult your receiver's manual for more information."
-msgstr "    SCPC   .         ."
+msgstr "    SCPC   .         ."
 
 msgid "Your receiver can use tone amplitude. Consult your receiver's manual for more information."
-msgstr "     .         ."
+msgstr "     .         ."
 
 msgid "Your receiver does not have an internet connection"
-msgstr "     "
+msgstr "     "
 
 msgid ""
 "Your receiver is now ready to be used.\n"
@@ -10713,9 +10696,9 @@
 "Your internet connection is working.\n"
 "\n"
 msgstr ""
-"      .\n"
+"     .\n"
 "\n"
-" - .\n"
+" - .\n"
 
 msgid ""
 "Your receiver is now ready to use.\n"
@@ -10724,9 +10707,9 @@
 "\n"
 "Please press OK to continue."
 msgstr ""
-"      .\n"
+"     .\n"
 "\n"
-" -  .\n"
+" -  .\n"
 "\n"
 ",    ."
 
@@ -10737,7 +10720,7 @@
 msgstr "      "
 
 msgid "Your receiver might be unusable now. Please consult the manual for further assistance before rebooting your receiver."
-msgstr "       .          ."
+msgstr "       .          ."
 
 msgid "Your receiver will got to stand by due to the sleeptimer."
 msgstr "         ."
@@ -10754,13 +10737,13 @@
 "\n"
 "Please choose what you want to do next."
 msgstr ""
-"       .\n"
+"  -    .\n"
 "  USB WLAN ?\n"
 "\n"
 ",    ."
 
 msgid "Zambia"
-msgstr "Zambia"
+msgstr ""
 
 msgid "Zap"
 msgstr ""
@@ -10772,7 +10755,7 @@
 msgstr "       ?"
 
 msgid "Zap bouquets blindly on zap buttons"
-msgstr "    "
+msgstr "    "
 
 msgid "Zap down"
 msgstr "  "
@@ -10790,10 +10773,10 @@
 msgstr " "
 
 msgid "Zap to selected channel"
-msgstr "   "
+msgstr "   "
 
 msgid "Zap to selected channel and exit GMEPG"
-msgstr "      GMEPG"
+msgstr "       GMEPG"
 
 msgid "Zap to selected channel, or show detailed event info (depends on configuration)"
 msgstr "        (  )"
@@ -10803,11 +10786,11 @@
 
 #, python-format
 msgid "Zapped to timer service %s as Picture in Picture!"
-msgstr " -    %s  PiP!"
+msgstr ":    %s,  PiP!"
 
 #, python-format
 msgid "Zapped to timer service %s!"
-msgstr " -    %s!"
+msgstr ":    %s!"
 
 msgid "Zgemma H.S/H.2S/H.2H/H5/H7(old model)"
 msgstr "Zgemma H.S/H.2S/H.2H/H5/H7( )"
@@ -10816,40 +10799,40 @@
 msgstr "Zgemma H7( )/H9( )/H9COMBO/H9TWIN/H10"
 
 msgid "Zgemma H9(old model)/I55Plus"
-msgstr "Zgemma H9( )/i55 Plus"
+msgstr "Zgemma H9( )/I55Plus"
 
 msgid "Zgemma Star S/2S/H1/H2"
 msgstr "Zgemma Star S/2S/H1/H2"
 
 msgid "Zimbabwe"
-msgstr "Zimbabwe"
+msgstr ""
 
 msgid "[REC]"
 msgstr "[REC]"
 
 msgid "[alternative edit]"
-msgstr "[ ]"
+msgstr "[ ]"
 
 msgid "[bouquet edit]"
-msgstr "[ ]"
+msgstr "[ ]"
 
 msgid "[favourite edit]"
-msgstr "[ ]"
+msgstr "[ ]"
 
 msgid "[move mode]"
 msgstr "[ ]"
 
 msgid "a gui to assign services/providers to common interface modules"
-msgstr "GUI   / CI "
+msgstr "  /  CI-"
 
 msgid "a gui to assign services/providers/caids to common interface modules"
-msgstr "GUI   //caids CI "
+msgstr "  //  CI-"
 
 msgid "about to start"
 msgstr ""
 
 msgid "activate network adapter configuration"
-msgstr "   "
+msgstr "   "
 
 msgid "active"
 msgstr ""
@@ -10861,43 +10844,43 @@
 msgstr "   "
 
 msgid "adult movie/drama"
-msgstr " /"
+msgstr " /"
 
 msgid "advanced"
-msgstr ""
+msgstr ""
 
 msgid "adventure/western/war"
-msgstr "//"
+msgstr "//"
 
 msgid "advertisement/shopping"
-msgstr "/"
+msgstr "/"
 
 msgid "after "
 msgstr " "
 
 msgid "all"
-msgstr ""
+msgstr ""
 
 msgid "alphabetic"
-msgstr "  "
+msgstr "  "
 
 msgid "alphabetic reverse"
-msgstr "  "
+msgstr "  "
 
 msgid "alphabetical"
-msgstr " "
+msgstr " "
 
 msgid "alternative"
-msgstr ""
+msgstr ""
 
 msgid "always"
-msgstr ""
+msgstr ""
 
 msgid "and never ask in this session again"
 msgstr "       "
 
 msgid "and never ask this again"
-msgstr "     "
+msgstr "    "
 
 msgid "and select next channel"
 msgstr "   "
@@ -10909,31 +10892,31 @@
 msgstr " ,     ?"
 
 msgid "arts/culture (without music, general)"
-msgstr "/ ( , )"
+msgstr "/ ( , )"
 
 msgid "arts/culture magazine"
-msgstr "/ "
+msgstr "/ "
 
 msgid "athletics"
-msgstr ""
+msgstr ""
 
 msgid "audio tracks"
-msgstr " "
+msgstr " "
 
 msgid "auto"
-msgstr ""
+msgstr ""
 
 msgid "automatic"
-msgstr ""
+msgstr ""
 
 msgid "back"
-msgstr ""
+msgstr ""
 
 msgid "background image"
-msgstr " "
+msgstr " "
 
 msgid "ballet"
-msgstr ""
+msgstr ""
 
 #, python-format
 msgid "bc%s"
@@ -10943,163 +10926,163 @@
 msgstr ""
 
 msgid "black"
-msgstr ""
+msgstr ""
 
 msgid "black & white"
-msgstr " & "
+msgstr "  "
 
 msgid "blacklist"
-msgstr " "
+msgstr " "
 
 msgid "blue"
-msgstr ""
+msgstr ""
 
 msgid "bottom"
-msgstr ""
+msgstr ""
 
 msgid "broadcasting/press"
-msgstr "/"
+msgstr "/"
 
 msgid "by date"
-msgstr " "
+msgstr " "
 
 msgid "cartoon/puppets"
-msgstr "/"
+msgstr "/"
 
 msgid "center"
-msgstr ""
+msgstr ""
 
 msgid "centered"
-msgstr " "
+msgstr " "
 
 msgid "centered, wrapped"
-msgstr " , "
+msgstr " , "
 
 msgid "chapters"
-msgstr ""
+msgstr ""
 
 msgid "childrens's/youth program (general)"
-msgstr "/  ()"
+msgstr "/  ()"
 
 msgid "circular left"
-msgstr " "
+msgstr " "
 
 msgid "circular right"
-msgstr " "
+msgstr " "
 
 msgid "clip overscan / letterbox borders"
-msgstr "   / "
+msgstr "  /"
 
 msgid "comedy"
-msgstr ""
+msgstr ""
 
 msgid "config menu"
-msgstr " "
+msgstr " "
 
 msgid "configure in which resolution pictures are displayed with the picture viewer and movieplayer"
-msgstr "       ' '  '"
+msgstr "      ' '  '"
 
 msgid "confirmed"
-msgstr ""
+msgstr ""
 
 msgid "connected"
-msgstr ""
+msgstr ""
 
 msgid "controlled by HDMI"
-msgstr "  HDMI"
+msgstr "  HDMI"
 
 msgid "cooking"
-msgstr ""
+msgstr ""
 
 msgid "daily"
-msgstr ""
+msgstr ""
 
 msgid "day"
-msgstr ""
+msgstr ""
 
 msgid "default"
 msgstr " "
 
 msgid "delete cut"
-msgstr " "
+msgstr " "
 
 msgid "descramble and record ecm"
-msgstr "   ECM (. )"
+msgstr "   ECM (. )"
 
 msgid "detective/thriller"
-msgstr "/"
+msgstr "/"
 
 msgid "disable"
-msgstr ""
+msgstr ""
 
 msgid "disable intro screen"
-msgstr "  "
+msgstr "  "
 
 msgid "disabled"
-msgstr ""
+msgstr ""
 
 msgid "disconnected"
-msgstr ""
+msgstr ""
 
 msgid "discussion/interview/debate"
-msgstr "//"
+msgstr "//"
 
 msgid "do nothing"
-msgstr "  "
+msgstr "  "
 
 msgid "documentary"
-msgstr " "
+msgstr ""
 
 msgid "don't descramble, record ecm"
-msgstr " ,   ECM (. )"
+msgstr " ,   ECM (. )"
 
 msgid "done!"
-msgstr "!"
+msgstr "!"
 
 msgid "east"
-msgstr ""
+msgstr ""
 
 msgid "economics/social advisory"
-msgstr "/ "
+msgstr "/. "
 
 msgid "education/science/factual topics (general)"
-msgstr "// ()"
+msgstr "// ()"
 
 msgid "embedded"
-msgstr ""
+msgstr ""
 
 msgid "empty"
-msgstr ""
+msgstr ""
 
 msgid "enable"
-msgstr ""
+msgstr ""
 
 msgid "enable intro screen"
-msgstr "  "
+msgstr "  "
 
 msgid "enabled"
-msgstr ""
+msgstr ""
 
 msgid "end cut here"
-msgstr "  "
+msgstr "  "
 
 msgid "entertainment (10-16 year old)"
-msgstr " (10-16 )"
+msgstr " (10-16 )"
 
 msgid "entertainment (6-14 year old)"
-msgstr " (6-14 )"
+msgstr " (6-14 )"
 
 msgid "epg cache backup"
-msgstr "  EPG"
+msgstr "   EPG"
 
 msgid "equestrian"
-msgstr " "
+msgstr " "
 
 msgid "error starting scanning"
-msgstr "   "
+msgstr "   "
 
 msgid "error while scanning"
-msgstr "  "
+msgstr "  "
 
 msgid "et4000"
 msgstr "et4000"
@@ -11117,70 +11100,70 @@
 msgstr "et9200/et9500/et6500"
 
 msgid "execute cuts (requires MovieCut plugin)"
-msgstr "  (  MovieCut)"
+msgstr "  (  MovieCut)"
 
 msgid "exit DVD player or return to file browser"
-msgstr "  DVD      "
+msgstr " DVD     "
 
 msgid "exit network adapter configuration"
-msgstr "    "
+msgstr "  "
 
 msgid "exit networkadapter setup menu"
-msgstr "     "
+msgstr "   "
 
 msgid "experimental film/video"
-msgstr " /"
+msgstr " /"
 
 msgid "extra wide"
-msgstr " "
+msgstr ""
 
 msgid "failed"
-msgstr ""
+msgstr ""
 
 msgid "false"
-msgstr ""
+msgstr ""
 
 msgid "fashion"
-msgstr ""
+msgstr ""
 
 msgid "fileformats (BMP, PNG, JPG, GIF)"
-msgstr "  (BMP, PNG, JPG, GIF)"
+msgstr "  (BMP, PNG, JPG, GIF)"
 
 msgid "filename"
-msgstr " "
+msgstr " "
 
 msgid "film/cinema"
-msgstr "/"
+msgstr "/"
 
 msgid "fine arts"
-msgstr " "
+msgstr " "
 
 msgid "fitness & health"
-msgstr " & "
+msgstr "  "
 
 msgid "flat alphabetic"
-msgstr "  "
+msgstr "  "
 
 msgid "flat alphabetic reverse"
-msgstr "  "
+msgstr "  "
 
 msgid "folk/traditional music"
-msgstr "/ "
+msgstr "/ "
 
 msgid "football/soccer"
-msgstr ""
+msgstr ""
 
 msgid "force disabled"
-msgstr " "
+msgstr " "
 
 msgid "force enabled"
-msgstr " "
+msgstr " "
 
 msgid "foreign countries/expeditions"
-msgstr " /"
+msgstr " /"
 
 msgid "forward to the next chapter"
-msgstr "   "
+msgstr "   "
 
 msgid "free"
 msgstr ""
@@ -11189,100 +11172,100 @@
 msgstr ""
 
 msgid "further education"
-msgstr " "
+msgstr " "
 
 msgid "game show/quiz/contest"
-msgstr " //"
+msgstr " //"
 
 msgid "gardening"
-msgstr ""
+msgstr ""
 
 msgid "go to deep standby"
-msgstr "    "
+msgstr "   "
 
 msgid "go to standby"
-msgstr "   "
+msgstr "   "
 
 msgid "grab this frame as bitmap"
-msgstr "     "
+msgstr "  ,   "
 
 msgid "green"
-msgstr ""
+msgstr ""
 
 msgid "handicraft"
-msgstr ""
+msgstr ""
 
 msgid "height"
-msgstr ""
+msgstr ""
 
 msgid "help..."
-msgstr "..."
+msgstr "."
 
 msgid "horizontal"
-msgstr ""
+msgstr ""
 
 msgid "in menu and plugins"
-msgstr "  "
+msgstr "  "
 
 msgid "in menu only"
-msgstr " "
+msgstr " "
 
 msgid "in plugins only"
-msgstr " "
+msgstr " "
 
 msgid "information/education/school program"
-msgstr "// "
+msgstr "// "
 
 msgid "init module"
-msgstr " "
+msgstr " "
 
 msgid "init modules"
-msgstr " "
+msgstr " "
 
 msgid "insert mark here"
-msgstr "  "
+msgstr "  "
 
 msgid "invalid type"
-msgstr " "
+msgstr " "
 
 msgid "jazz"
-msgstr ""
+msgstr ""
 
 msgid "jump back to the previous title"
-msgstr "   "
+msgstr "   "
 
 msgid "jump forward to the next title"
-msgstr "   "
+msgstr "   "
 
 msgid "jump to chapter by number"
-msgstr "    "
+msgstr "    "
 
 msgid "languages"
-msgstr ""
+msgstr ""
 
 msgid "leave movie player..."
-msgstr "  ..."
+msgstr "  "
 
 msgid "left"
-msgstr ""
+msgstr ""
 
 msgid "left, wrapped"
-msgstr ", "
+msgstr ", "
 
 msgid "leisure hobbies (general)"
-msgstr "/ ()"
+msgstr "/ ()"
 
 msgid "length"
-msgstr ""
+msgstr ""
 
 msgid "limit ..., aborting !"
-msgstr " ...,  !"
+msgstr ". !"
 
 msgid "list style compact"
-msgstr " "
+msgstr " "
 
 msgid "list style compact with description"
-msgstr "   "
+msgstr "   "
 
 msgid "list style default"
 msgstr "  "
@@ -11291,34 +11274,34 @@
 msgstr "   "
 
 msgid "listens to hotplug events"
-msgstr "   "
+msgstr "C  ' '"
 
 msgid "literature"
-msgstr ""
+msgstr ""
 
 msgid "live broadcast"
-msgstr " "
+msgstr " "
 
 msgid "locked"
-msgstr ""
+msgstr ""
 
 msgid "long"
-msgstr ""
+msgstr ""
 
 msgid "magazines/reports/documentary"
-msgstr "//"
+msgstr "//"
 
 msgid "manual"
-msgstr " "
+msgstr ""
 
 msgid "martial sports"
-msgstr ""
+msgstr ""
 
 msgid "medicine/physiology/psychology"
-msgstr "//"
+msgstr "//"
 
 msgid "menu"
-msgstr ""
+msgstr ""
 
 msgid "mins"
 msgstr ""
@@ -11330,353 +11313,353 @@
 msgstr ""
 
 msgid "motor sport"
-msgstr ""
+msgstr ""
 
 msgid "motoring"
-msgstr ""
+msgstr ""
 
 msgid "move down to last entry"
-msgstr "    "
+msgstr "    "
 
 msgid "move down to next entry"
-msgstr "    "
+msgstr "    "
 
 msgid "move up to first entry"
-msgstr "    "
+msgstr "    "
 
 msgid "move up to previous entry"
-msgstr "    "
+msgstr "    "
 
 msgid "movie/drama (general)"
-msgstr "/ ()"
+msgstr "/ ()"
 
 msgid "multi"
-msgstr ""
+msgstr ""
 
 msgid "multinorm"
-msgstr ""
+msgstr ""
 
 msgid "music/ballet/dance (general)"
-msgstr "// ()"
+msgstr "// ()"
 
 msgid "musical/opera"
-msgstr "/"
+msgstr "/"
 
 msgid "nature/animals/environment"
-msgstr "// "
+msgstr "// "
 
 msgid "never"
-msgstr ""
+msgstr ""
 
 msgid "new media"
-msgstr " media"
+msgstr " media"
 
 msgid "news magazine"
-msgstr " "
+msgstr " "
 
 msgid "news/current affairs (general)"
-msgstr "/  ()"
+msgstr "/  ()"
 
 msgid "news/weather report"
-msgstr "/ "
+msgstr "/ "
 
 msgid "no"
-msgstr ""
+msgstr ""
 
 msgid "no CAId selected"
-msgstr "  CAId"
+msgstr "  CAId"
 
 msgid "no CI slots found"
-msgstr "  CI "
+msgstr "  CI "
 
 msgid "no channel list"
-msgstr "  "
+msgstr "  "
 
 msgid "no module found"
-msgstr "  "
+msgstr "  "
 
 msgid "no resource manager"
-msgstr "  "
+msgstr "  "
 
 msgid "no storage devices found"
-msgstr "   "
+msgstr "   "
 
 msgid "none"
-msgstr ""
+msgstr ""
 
 msgid "normal"
-msgstr ""
+msgstr ""
 
 msgid "not configured"
-msgstr " "
+msgstr " "
 
 msgid "not locked"
-msgstr " "
+msgstr " "
 
 msgid "not running"
-msgstr " "
+msgstr " "
 
 msgid "not supported"
-msgstr " "
+msgstr " "
 
 msgid "not tested"
-msgstr " "
+msgstr " "
 
 msgid "not_tested"
-msgstr " "
+msgstr " "
 
 msgid "nothing connected"
-msgstr "  "
+msgstr "  "
 
 msgid "of a DUAL layer medium used."
-msgstr " DUAL layer ."
+msgstr "  ."
 
 msgid "of a SINGLE layer medium used."
-msgstr " SINGLE layer ."
+msgstr "  ."
 
 msgid "off"
-msgstr "."
+msgstr "."
 
 msgid "off or wpa2 on"
-msgstr ".  wpa2 ."
+msgstr ".  . wpa2"
 
 msgid "offset is"
-msgstr ""
+msgstr ""
 
 msgid "on"
-msgstr "."
+msgstr "."
 
 msgid "on READ ONLY medium."
-msgstr "    ."
+msgstr "  '  '."
 
 msgid "once"
-msgstr " "
+msgstr " "
 
 msgid "only from deep standby"
-msgstr "    "
+msgstr "   "
 
 msgid "only from standby"
-msgstr "   "
+msgstr "  "
 
 msgid "open nameserver configuration"
-msgstr "    (DNS)"
+msgstr "    (DNS)"
 
 msgid "original"
-msgstr ""
+msgstr ""
 
 msgid "original language"
-msgstr " "
+msgstr " "
 
 msgid "pass"
-msgstr ""
+msgstr ""
 
 msgid "pausing"
-msgstr ""
+msgstr "  "
 
 msgid "performing arts"
-msgstr "  "
+msgstr "  "
 
 msgid "please press OK when ready"
-msgstr ",  OK,   "
+msgstr ",  OK  "
 
 msgid "please wait, loading picture..."
-msgstr ",  ...  ..."
+msgstr ".  "
 
 msgid "popular culture/traditional arts"
-msgstr " / "
+msgstr " / "
 
 msgid "pre-school children's program"
-msgstr "  "
+msgstr "  "
 
 msgid "receiver software because updates are available."
-msgstr "    ."
+msgstr "    ."
 
 msgid "record"
-msgstr ""
+msgstr ""
 
 msgid "recording..."
-msgstr "..."
+msgstr "."
 
 msgid "red"
-msgstr ""
+msgstr ""
 
 msgid "religion"
-msgstr ""
+msgstr ""
 
 msgid "remarkable people"
-msgstr " "
+msgstr " "
 
 msgid "remove after this position"
-msgstr "   "
+msgstr "   "
 
 msgid "remove before this position"
-msgstr "   "
+msgstr "   "
 
 msgid "remove this mark"
-msgstr "  "
+msgstr "  "
 
 msgid "repeated"
-msgstr ""
+msgstr ""
 
 msgid "reserved for future use"
-msgstr ""
+msgstr "  "
 
 msgid "reverse by date"
-msgstr "  "
+msgstr "  "
 
 msgid "rewind to the previous chapter"
-msgstr "   "
+msgstr "   "
 
 msgid "rgb"
 msgstr "rgb"
 
 msgid "right"
-msgstr ""
+msgstr ""
 
 msgid "right, wrapped"
-msgstr ", "
+msgstr ", "
 
 msgid "rock/pop"
-msgstr "/"
+msgstr "/"
 
 msgid "romance"
-msgstr ""
+msgstr ""
 
 msgid "rotor"
-msgstr ""
+msgstr "DiSEqC-"
 
 msgid "running"
-msgstr ""
+msgstr ""
 
 msgid "scan state"
-msgstr " "
+msgstr "C "
 
 msgid "science fiction/fantasy/horror"
-msgstr " //"
+msgstr " //"
 
 msgid "seconds"
 msgstr ""
 
 msgid "select CAId's"
-msgstr " CAId's"
+msgstr " CAId's"
 
 msgid "select menu entry"
-msgstr "  "
+msgstr "  "
 
 msgid "serious music/classic music"
-msgstr "/ "
+msgstr "/ "
 
 msgid "serious/classical/religious/historical movie/drama"
-msgstr "/// /"
+msgstr "/// /"
 
 msgid "service off-air"
-msgstr " "
+msgstr " "
 
 msgid "show DVD main menu"
-msgstr " DVD   "
+msgstr " DVD   "
 
 msgid "show all tags"
-msgstr "  "
+msgstr "  "
 
 msgid "show event details"
-msgstr "  "
+msgstr "  "
 
 msgid "show softwaremanager in setup menu"
-msgstr "     "
+msgstr "     "
 
 msgid "show softwaremanager on blue button"
-msgstr "     "
+msgstr "     "
 
 msgid "show/game show (general)"
-msgstr "/  ()"
+msgstr "/  ()"
 
 msgid "shuffle"
-msgstr " "
+msgstr " "
 
 msgid "shut down"
-msgstr ""
+msgstr ""
 
 msgid "simple"
-msgstr ""
+msgstr ""
 
 msgid "skip backward"
-msgstr " "
+msgstr " "
 
 msgid "skip forward"
-msgstr " "
+msgstr " "
 
 #, python-format
 msgid "slot%s - %s"
-msgstr "%s - %s"
+msgstr "C%s - %s  1"
 
 #, python-format
 msgid "slot%s - %s (current image)"
-msgstr "%s - %s ( )"
+msgstr "C%s - %s  1 ( )"
 
 #, python-format
 msgid "slot%s - %s (current image) with, backup"
-msgstr "%s - %s ( ),  "
+msgstr "%s - %s ( ),  "
 
 #, python-format
 msgid "slot%s - %s (current image), without backup"
-msgstr "%s - %s ( ),  "
+msgstr "%s - %s ( ),  "
 
 #, python-format
 msgid "slot%s - %s mode 1"
-msgstr "%s - %s  1"
+msgstr "%s - %s  1"
 
 #, python-format
 msgid "slot%s - %s mode 1 (current image)"
-msgstr "%s - %s  1 ( )"
+msgstr "%s - %s  1 ( )"
 
 #, python-format
 msgid "slot%s - %s mode 12"
-msgstr "%s - %s  12"
+msgstr "%s - %s  12"
 
 #, python-format
 msgid "slot%s - %s mode 12 (current image)"
-msgstr "%s - %s  12 ( )"
+msgstr "%s - %s  12 ( )"
 
 #, python-format
 msgid "slot%s - %s, with backup"
-msgstr "%s - %s,  "
+msgstr "%s - %s,  "
 
 #, python-format
 msgid "slot%s - %s, without backup"
-msgstr "%s - %s,  "
+msgstr "%s - %s,  "
 
 msgid "soap/melodram/folkloric"
-msgstr " //"
+msgstr " //"
 
 msgid "social/political issues/economics (general)"
-msgstr "/ / ()"
+msgstr "/ / ()"
 
 msgid "social/spiritual science"
-msgstr "/ "
+msgstr "/ "
 
 msgid "special events"
-msgstr " "
+msgstr " "
 
 msgid "special format data DVD (HDTV compatible)"
-msgstr "   DVD (  HDTV)"
+msgstr "   DVD (  HDTV)"
 
 msgid "sports (general)"
-msgstr " ()"
+msgstr " ()"
 
 msgid "sports magazine"
-msgstr " "
+msgstr " "
 
 msgid "standard"
-msgstr ""
+msgstr ""
 
 msgid "start cut here"
-msgstr "  "
+msgstr "  "
 
 msgid "starts in a few seconds"
-msgstr "   "
+msgstr "  "
 
 msgid "stepsize"
-msgstr " "
+msgstr " "
 
 msgid "stereo"
 msgstr ""
@@ -11685,136 +11668,136 @@
 msgstr ""
 
 msgid "switch to the next angle"
-msgstr "   "
+msgstr "   "
 
 msgid "switch to the next audio track"
-msgstr "    "
+msgstr "    "
 
 msgid "switch to the next subtitle language"
-msgstr "    "
+msgstr "    "
 
 msgid "talk show"
-msgstr " "
+msgstr " "
 
 msgid "team sports"
-msgstr "  "
+msgstr "  "
 
 msgid "technology/natural science"
-msgstr "/"
+msgstr "/"
 
 msgid "template file"
-msgstr " "
+msgstr " "
 
 msgid "tennis/squash"
-msgstr "/"
+msgstr "/"
 
 msgid "testing"
-msgstr " "
+msgstr " "
 
 msgid "this bouquet is protected by a parental control pin"
-msgstr "   PIN-  "
+msgstr "   PIN-  "
 
 msgid "this recording"
-msgstr " "
+msgstr " "
 
 msgid "this service is protected by a parental control pin"
-msgstr "   PIN-  "
+msgstr "   PIN-  "
 
 msgid "toggle time, chapter, audio, subtitle info"
-msgstr " , , ,  "
+msgstr " , , ,  "
 
 msgid "top"
-msgstr ""
+msgstr ""
 
 msgid "tourism/travel"
-msgstr "/"
+msgstr "/"
 
 msgid "true"
-msgstr ""
+msgstr ""
 
 msgid "type"
-msgstr ""
+msgstr ""
 
 msgid "unavailable"
-msgstr ""
+msgstr " "
 
 msgid "unconfirmed"
-msgstr ""
+msgstr " "
 
 msgid "undefined"
-msgstr ""
+msgstr " "
 
 msgid "unknown"
-msgstr ""
+msgstr ""
 
 msgid "unknown error"
-msgstr " "
+msgstr " "
 
 msgid "unknown service"
-msgstr " "
+msgstr " "
 
 msgid "unpublished"
-msgstr ""
+msgstr ""
 
 msgid "untestable"
-msgstr ""
+msgstr ""
 
 msgid "until standby/restart"
-msgstr "  /"
+msgstr "  /"
 
 msgid "user defined"
-msgstr " "
+msgstr " "
 
 msgid "user defined hidden"
-msgstr "  "
+msgstr " "
 
 msgid "variety show"
-msgstr " "
+msgstr " "
 
 msgid "vertical"
-msgstr ""
+msgstr ""
 
 msgid "violet"
-msgstr ""
+msgstr ""
 
 msgid "wait for ci..."
-msgstr "  ci..."
+msgstr "  CI."
 
 msgid "wait for mmi..."
-msgstr "  mmi..."
+msgstr "  mmi."
 
 msgid "waiting"
-msgstr ""
+msgstr ""
 
 msgid "water sport"
-msgstr " "
+msgstr " "
 
 msgid "weekly"
-msgstr ""
+msgstr ""
 
 msgid "west"
-msgstr ""
+msgstr ""
 
 msgid "when PiPzap enabled zap channel down..."
-msgstr " PiPzap ,    ..."
+msgstr " PiPzap ,    ."
 
 msgid "when PiPzap enabled zap channel up..."
-msgstr " PiPzap ,    ..."
+msgstr " PiPzap ,    ."
 
 msgid "white"
-msgstr ""
+msgstr ""
 
 msgid "wide"
-msgstr ""
+msgstr ""
 
 msgid "width"
-msgstr ""
+msgstr ""
 
 msgid "winter sport"
-msgstr " "
+msgstr " "
 
 msgid "wireless network interface"
-msgstr "  "
+msgstr "  "
 
 #, python-format
 msgid "with %d error"
@@ -11824,40 +11807,319 @@
 msgstr[2] " %d "
 
 msgid "with errors"
-msgstr " "
+msgstr " "
 
 msgid "with text"
-msgstr " "
+msgstr " "
 
 msgid "with tuner name"
-msgstr "  "
+msgstr "  "
 
 msgid "with_errors"
-msgstr " "
+msgstr " "
 
 msgid "xp1000"
 msgstr "xp1000"
 
 msgid "yellow"
-msgstr ""
+msgstr ""
 
 msgid "yes"
-msgstr ""
+msgstr ""
 
 msgid "yes (keep feeds)"
-msgstr " ( feeds )"
+msgstr " ( feeds )"
 
 msgid "yes, but not in multi selections"
-msgstr ",    / ( . )"
+msgstr ",    "
 
 msgid "zap"
-msgstr ""
+msgstr ""
 
 msgid "zap and record"
-msgstr "  "
+msgstr "  "
 
 msgid "zapped"
-msgstr ""
+msgstr ""
 
 msgid ""
 msgstr ""
+
+# # Added for e2pc
+msgid "Select Xine refresh rate."
+msgstr "   ."
+
+msgid "Select Xine aspect ratio."
+msgstr "   ."
+
+msgid "Select 4:3 display zoom method."
+msgstr "      4:3."
+
+msgid "Select 16:9 display zoom method."
+msgstr "      16:9."
+
+msgid "Using Xine deinterlacing."
+msgstr "  Xine."
+
+msgid "Select Xine SD deinterlace method."
+msgstr "  SD- Xine."
+
+msgid "Select Xine HD deinterlace method."
+msgstr "  HD- Xine."
+
+msgid "Adjust Xine SD sharpness."
+msgstr " SD-  Xine."
+
+msgid "Adjust Xine SD noise reduction."
+msgstr " SD- Xine."
+
+msgid "Configure whether to turn on full screen mode on start Enigma2."
+msgstr "      Enigma2."
+
+msgid "Adjust the width resolution."
+msgstr "    ."
+
+msgid "Adjust the height resolution."
+msgstr "    ."
+
+msgid "Adjust Xine HEVC prebuffer metronome."
+msgstr "  HEVC-  Xine."
+
+msgid "Adjust Xine AVC prebuffer metronome."
+msgstr "  AVC-  Xine."
+
+msgid "Adjust Xine MPEG2 prebuffer metronome."
+msgstr "  MPEG2-  Xine."
+
+msgid "HEVC prebuffer metronome"
+msgstr "HEVC- "
+
+msgid "AVC prebuffer metronome"
+msgstr "AVC- "
+
+msgid "MPEG2 prebuffer metronome"
+msgstr "MPEG2- "
+
+msgid "Configure whether multi channel DTS sound tracks should be downmixed to stereo."
+msgstr ",      DTS-  ."
+
+msgid "Configure whether multi channel AC3 sound tracks should be downmixed to stereo."
+msgstr ",      AC3-  ."
+
+msgid "Configure whether multi channel AAC sound tracks should be downmixed to stereo."
+msgstr ",      AAC-  ."
+
+msgid "Select audio device as card and device number. To show your audio cards, type aplay -l in the terminal."
+msgstr " ,     .     ,    aplay -l."
+
+msgid "SD deinterlace method"
+msgstr " SD-"
+
+msgid "SD sharpness"
+msgstr "SD-"
+
+msgid "SD noise reduction"
+msgstr " SD"
+
+msgid "Sound card"
+msgstr " "
+
+msgid "Sound device"
+msgstr " "
+
+msgid "Sound mode"
+msgstr " "
+
+msgid "Sound output"
+msgstr "  "
+
+msgid "Stereo 2.0"
+msgstr " 2.0"
+
+msgid "TV System"
+msgstr " "
+
+msgid "TV resolution height"
+msgstr "  "
+
+msgid "TV resolution width"
+msgstr "  "
+
+msgid "custom"
+msgstr " "
+
+msgid "half temporal"
+msgstr ""
+
+msgid "half temporal spatial"
+msgstr "-"
+
+msgid "temporal"
+msgstr ""
+
+msgid "temporal spatial"
+msgstr "-"
+
+msgid "AC3/DTS downmix"
+msgstr "AC3/DTS "
+
+msgid "HD deinterlace method"
+msgstr " HD-"
+
+msgid "Fullscreen default"
+msgstr "   "
+
+msgid "Deinterlacing"
+msgstr ""
+
+msgid "A/V Settings"
+msgstr " /"
+
+msgid "Other A/V settings"
+msgstr " A/V "
+
+msgid "Xine A/V settings"
+msgstr "A/V  Xine"
+
+msgid "NIM"
+msgstr "NIM-"
+
+msgid "Zoom"
+msgstr ""
+
+msgid "Zoom 16:9 X"
+msgstr " 16:9 X"
+
+msgid "Zoom 16:9 Y"
+msgstr " 16:9 Y"
+
+msgid "Zoom 4:3 X"
+msgstr " 4:3 X"
+
+msgid "Zoom 4:3 Y"
+msgstr " 4:3 Y"
+
+msgid "Zoom aspect 16:9 of X (%)"
+msgstr "  16:9 of X (%)"
+
+msgid "Zoom aspect 16:9 of Y (%)"
+msgstr "  16:9 of Y (%)"
+
+msgid "Zoom aspect 4:3 of X (%)"
+msgstr "  4:3 of X (%)"
+
+msgid "Zoom aspect 4:3 of Y (%)"
+msgstr "  4:3 of Y (%)"
+
+msgid "Zoom enable"
+msgstr " "
+
+msgid "Pass Through"
+msgstr " "
+
+msgid "PC settings"
+msgstr " "
+
+msgid "Video:"
+msgstr ":"
+
+msgid "Audio:"
+msgstr ":"
+
+msgid "Card 0"
+msgstr " 0"
+
+msgid "Card 1"
+msgstr " 1"
+
+msgid "Card 2"
+msgstr " 2"
+
+msgid "Device 0"
+msgstr " 0"
+
+msgid "Device 1"
+msgstr " 1"
+
+msgid "Device 2"
+msgstr " 2"
+
+msgid "Device 3"
+msgstr " 3"
+
+msgid "Device 4"
+msgstr " 4"
+
+msgid "Device 5"
+msgstr " 5"
+
+msgid "Device 6"
+msgstr " 6"
+
+msgid "Device 7"
+msgstr " 7"
+
+msgid "Refresh Rate"
+msgstr " "
+
+msgid "bob"
+msgstr "  "
+
+msgid "Aspect Ratio"
+msgstr " "
+
+msgid "Change pin code"
+msgstr " PIN-"
+
+msgid "Change service PIN"
+msgstr " PIN- "
+
+msgid "Change service PINs"
+msgstr " PIN- "
+
+msgid "Change setup PIN"
+msgstr " PIN- "
+
+msgid " wireless networks found!"
+msgstr "    !"
+
+msgid "EPG Selection Multi"
+msgstr "  "
+
+msgid "Movie Selection"
+msgstr " "
+
+msgid "kHz"
+msgstr ""
+
+msgid "Select a bouquet to add a channel to"
+msgstr "   "
+
+msgid "Quit"
+msgstr ""
+
+# # Plugin Bitrate
+msgid "video"
+msgstr ":"
+
+msgid "audio"
+msgstr ":"
+
+msgid "min"
+msgstr ""
+
+msgid "max"
+msgstr ""
+
+msgid "average"
+msgstr ""
+
+msgid "current"
+msgstr ""
+
+msgid "Bitrate viewer"
+msgstr " "
+
+# # Plugin BouquetHotkeys
+msgid "Bouquet Hotkeys Setup"
+msgstr " ' '"
diff -ruN o/skin.py pc/skin.py
--- o/skin.py	2020-10-28 15:03:25.040998751 +0300
+++ pc/skin.py	2020-11-01 12:15:23.416282518 +0300
@@ -1,20 +1,21 @@
+from Tools.Profile import profile
+profile("LOAD:ElementTree")
 import errno
+import os
 import xml.etree.cElementTree
 
+profile("LOAD:enigma_skin")
 from enigma import addFont, eLabel, ePixmap, ePoint, eRect, eSize, eWindow, eWindowStyleManager, eWindowStyleSkinned, getDesktop, gFont, getFontFaces, gRGB
-from os.path import basename, dirname, isfile
-
 from Components.config import ConfigSubsection, ConfigText, config
 from Components.RcModel import rc_model
 from Components.Sources.Source import ObsoleteSource
 from Components.SystemInfo import SystemInfo
-from Tools.Directories import SCOPE_CONFIG, SCOPE_CURRENT_LCDSKIN, SCOPE_CURRENT_SKIN, SCOPE_FONTS, SCOPE_SKIN, SCOPE_SKIN_IMAGE, resolveFilename
+from Tools.Directories import SCOPE_CONFIG, SCOPE_CURRENT_LCDSKIN, SCOPE_CURRENT_SKIN, SCOPE_FONTS, SCOPE_SKIN, SCOPE_SKIN_IMAGE, fileExists, resolveFilename
 from Tools.Import import my_import
 from Tools.LoadPixmap import LoadPixmap
 
 DEFAULT_SKIN = SystemInfo["HasFullHDSkinSupport"] and "PLi-FullNightHD/skin.xml" or "PLi-HD/skin.xml"  # SD hardware is no longer supported by the default skin.
 EMERGENCY_SKIN = "skin_default/skin.xml"
-EMERGENCY_NAME = "Stone II"
 DEFAULT_DISPLAY_SKIN = "skin_default/skin_display.xml"
 USER_SKIN = "skin_user.xml"
 USER_SKIN_TEMPLATE = "skin_user_%s.xml"
@@ -23,8 +24,9 @@
 GUI_SKIN_ID = 0  # Main frame-buffer.
 DISPLAY_SKIN_ID = 1  # Front panel / display / LCD.
 
+domSkins = []  # List of skins to be processed into the domScreens dictionary.
 domScreens = {}  # Dictionary of skin based screens.
-colors = {  # Dictionary of skin color names.
+colorNames = {  # Dictionary of skin color names.
 	"key_back": gRGB(0x00313131),
 	"key_blue": gRGB(0x0018188b),
 	"key_green": gRGB(0x001f771f),
@@ -40,20 +42,6 @@
 parameters = {}  # Dictionary of skin parameters used to modify code behavior.
 setups = {}  # Dictionary of images associated with setup menus.
 switchPixmap = {}  # Dictionary of switch images.
-windowStyles = {}  # Dictionary of window styles for each screen ID.
-
-config.skin = ConfigSubsection()
-skin = resolveFilename(SCOPE_SKIN, DEFAULT_SKIN)
-if not isfile(skin):
-	print("[Skin] Error: Default skin '%s' is not readable or is not a file!  Using emergency skin." % skin)
-	DEFAULT_SKIN = EMERGENCY_SKIN
-config.skin.primary_skin = ConfigText(default=DEFAULT_SKIN)
-config.skin.display_skin = ConfigText(default=DEFAULT_DISPLAY_SKIN)
-
-currentPrimarySkin = None
-currentDisplaySkin = None
-callbacks = []
-runCallbacks = False
 
 # Skins are loaded in order of priority.  Skin with highest priority is
 # loaded last.  This is usually the user-specified skin.  In this way
@@ -67,89 +55,33 @@
 # SCOPE_CURRENT_LCDSKIN.  The full path is NOT saved.
 # E.g. "MySkin/skin_display.xml"
 #
-def InitSkins():
-	global currentPrimarySkin, currentDisplaySkin
-	runCallbacks = False
-	# Add the emergency skin.  This skin should provide enough functionality
-	# to enable basic GUI functions to work.
-	loadSkin(EMERGENCY_SKIN, scope=SCOPE_CURRENT_SKIN, desktop=getDesktop(GUI_SKIN_ID), screenID=GUI_SKIN_ID)
-	# Add the subtitle skin.
-	loadSkin(SUBTITLE_SKIN, scope=SCOPE_CURRENT_SKIN, desktop=getDesktop(GUI_SKIN_ID), screenID=GUI_SKIN_ID)
-	# Add the front panel / display / lcd skin.
-	result = []
-	for skin, name in [(config.skin.display_skin.value, "current"), (DEFAULT_DISPLAY_SKIN, "default")]:
-		if skin in result:  # Don't try to add a skin that has already failed.
-			continue
-		config.skin.display_skin.value = skin
-		if loadSkin(config.skin.display_skin.value, scope=SCOPE_CURRENT_LCDSKIN, desktop=getDesktop(DISPLAY_SKIN_ID), screenID=DISPLAY_SKIN_ID):
-			currentDisplaySkin = config.skin.display_skin.value
-			break
-		print("[Skin] Error: Adding %s display skin '%s' has failed!" % (name, config.skin.display_skin.value))
-		result.append(skin)
-	# Add the main GUI skin.
-	result = []
-	for skin, name in [(config.skin.primary_skin.value, "current"), (DEFAULT_SKIN, "default")]:
-		if skin in result:  # Don't try to add a skin that has already failed.
-			continue
-		config.skin.primary_skin.value = skin
-		if loadSkin(config.skin.primary_skin.value, scope=SCOPE_CURRENT_SKIN, desktop=getDesktop(GUI_SKIN_ID), screenID=GUI_SKIN_ID):
-			currentPrimarySkin = config.skin.primary_skin.value
-			break
-		print("[Skin] Error: Adding %s GUI skin '%s' has failed!" % (name, config.skin.primary_skin.value))
-		result.append(skin)
-	# Add an optional skin related user skin "user_skin_<SkinName>.xml".  If there is
-	# not a skin related user skin then try to add am optional generic user skin.
-	result = None
-	if isfile(resolveFilename(SCOPE_SKIN, config.skin.primary_skin.value)):
-		name = USER_SKIN_TEMPLATE % dirname(config.skin.primary_skin.value)
-		if isfile(resolveFilename(SCOPE_CURRENT_SKIN, name)):
-			result = loadSkin(name, scope=SCOPE_CURRENT_SKIN, desktop=getDesktop(GUI_SKIN_ID), screenID=GUI_SKIN_ID)
-	if result is None:
-		loadSkin(USER_SKIN, scope=SCOPE_CURRENT_SKIN, desktop=getDesktop(GUI_SKIN_ID), screenID=GUI_SKIN_ID)
-	runCallbacks = True
+config.skin = ConfigSubsection()
+skin = resolveFilename(SCOPE_SKIN, DEFAULT_SKIN)
+if not fileExists(skin) or not os.path.isfile(skin):
+	print "[Skin] Error: Default skin '%s' is not readable or is not a file!  Using emergency skin." % skin
+	DEFAULT_SKIN = EMERGENCY_SKIN
+config.skin.primary_skin = ConfigText(default=DEFAULT_SKIN)
+config.skin.display_skin = ConfigText(default=DEFAULT_DISPLAY_SKIN)
 
 # Temporary entry point for older versions of mytest.py.
 #
-def loadSkinData(desktop):
-	InitSkins()
+def findUserRelatedSkin():
+	if os.path.isfile(resolveFilename(SCOPE_SKIN, config.skin.primary_skin.value)):
+		name = USER_SKIN_TEMPLATE % os.path.dirname(config.skin.primary_skin.value)
+		if fileExists(resolveFilename(SCOPE_CURRENT_SKIN, name)):
+			return name
+	return None
 
 # Method to load a skin XML file into the skin data structures.
 #
-def loadSkin(filename, scope=SCOPE_SKIN, desktop=getDesktop(GUI_SKIN_ID), screenID=GUI_SKIN_ID):
-	global windowStyles
-	filename = resolveFilename(scope, filename)
-	print("[Skin] Loading skin file '%s'." % filename)
+def addSkin(name, scope=SCOPE_CURRENT_SKIN):
+	global domSkins
+	filename = resolveFilename(scope, name)
 	try:
 		with open(filename, "r") as fd:  # This open gets around a possible file handle leak in Python's XML parser.
 			try:
-				domSkin = xml.etree.cElementTree.parse(fd).getroot()
-				# print("[Skin] DEBUG: Extracting non screen blocks from '%s'.  (scope='%s')" % (filename, scope))
-				# For loadSingleSkinData colors, bordersets etc. are applied one after
-				# the other in order of ascending priority.
-				loadSingleSkinData(desktop, screenID, domSkin, filename, scope=scope)
-				for element in domSkin:
-					if element.tag == "screen":  # Process all screen elements.
-						name = element.attrib.get("name", None)
-						if name:  # Without a name, it's useless!
-							scrnID = element.attrib.get("id", None)
-							if scrnID is None or scrnID == screenID:  # If there is a screen ID is it for this display.
-								# print("[Skin] DEBUG: Extracting screen '%s' from '%s'.  (scope='%s')" % (name, filename, scope))
-								domScreens[name] = (element, "%s/" % dirname(filename))
-					elif element.tag == "windowstyle":  # Process the windowstyle element.
-						scrnID = element.attrib.get("id", None)
-						if scrnID is not None:  # Without an scrnID, it is useless!
-							scrnID = int(scrnID)
-							# print("[Skin] DEBUG: Processing a windowstyle ID='%s'." % scrnID)
-							domStyle = xml.etree.cElementTree.ElementTree(xml.etree.cElementTree.Element("skin"))
-							domStyle.getroot().append(element)
-							windowStyles[scrnID] = (desktop, screenID, domStyle, filename, scope)
-					# Element is not a screen or windowstyle element so no need for it any longer.
-				reloadWindowStyles()  # Reload the window style to ensure all skin changes are taken into account.
-				print("[Skin] Loading skin file '%s' complete." % filename)
-				if runCallbacks:
-					for method in self.callbacks:
-						if method:
-							method()
+				domSkins.append((scope, "%s/" % os.path.dirname(filename), xml.etree.cElementTree.parse(fd).getroot()))
+				print "[Skin] Loading skin file '%s' complete." % filename
 				return True
 			except xml.etree.cElementTree.ParseError as err:
 				fd.seek(0)
@@ -170,35 +102,64 @@
 		print("[Skin] Error: Unexpected error opening skin file '%s'! (%s)" % (filename, err))
 	return False
 
-def reloadSkins():
-	domScreens.clear()
-	colors.clear()
-	colors = {
-		"key_back": gRGB(0x00313131),
-		"key_blue": gRGB(0x0018188b),
-		"key_green": gRGB(0x001f771f),
-		"key_red": gRGB(0x009f1313),
-		"key_text": gRGB(0x00ffffff),
-		"key_yellow": gRGB(0x00a08500)
-	}
-	fonts.clear()
-	fonts = {
-		"Body": ("Regular", 18, 22, 16),
-		"ChoiceList": ("Regular", 20, 24, 18)
-	}
-	menus.clear()
-	parameters.clear()
-	setups.clear()
-	switchPixmap.clear()
-	InitSkins()
-
-def addCallback(callback):
-	if callback not in callbacks:
-		callbacks.append(callback)
-
-def removeCallback(callback):
-	if callback in self.callbacks:
-		callbacks.remove(callback)
+
+profile("LoadSkin")
+
+# Add an optional skin related user skin "user_skin_<SkinName>.xml".  If there is
+# not a skin related user skin then try to add am optional generic user skin.
+result = None
+name = findUserRelatedSkin()
+if name:
+	result = addSkin(name, scope=SCOPE_CURRENT_SKIN)
+if not name or not result:
+	addSkin(USER_SKIN, scope=SCOPE_CURRENT_SKIN)
+
+# Add the main GUI skin.
+currentPrimarySkin = None
+result = []
+for skin, name in [(config.skin.primary_skin.value, "current"), (DEFAULT_SKIN, "default"), (EMERGENCY_SKIN, "emergency")]:
+	if skin in result:  # Don't try to add a skin that has already failed.
+		continue
+	config.skin.primary_skin.value = skin
+	if addSkin(config.skin.primary_skin.value, scope=SCOPE_CURRENT_SKIN):
+		currentPrimarySkin = config.skin.primary_skin.value
+		break
+	print "[Skin] Error: Adding %s GUI skin '%s' has failed!" % (name, config.skin.primary_skin.value)
+	result.append(skin)
+
+# Add the front panel / display / lcd skin.
+currentDisplaySkin = None
+result = []
+for skin, name in [(config.skin.display_skin.value, "current"), (DEFAULT_DISPLAY_SKIN, "default")]:
+	if skin in result:  # Don't try to add a skin that has already failed.
+		continue
+	config.skin.display_skin.value = skin
+	if addSkin(config.skin.display_skin.value, scope=SCOPE_CURRENT_LCDSKIN):
+		currentDisplaySkin = config.skin.display_skin.value
+		break
+	print "[Skin] Error: Adding %s display skin '%s' has failed!" % (name, config.skin.display_skin.value)
+	result.append(skin)
+
+# Add an optional adjustment skin as some boxes lie about their dimensions.
+# addSkin(BOX_SKIN, scope=SCOPE_CURRENT_SKIN)
+
+# Add an optional discrete second infobar skin.
+# addSkin(SECOND_INFOBAR_SKIN, scope=SCOPE_CURRENT_SKIN)
+
+# Add the subtitle skin.
+addSkin(SUBTITLE_SKIN, scope=SCOPE_CURRENT_SKIN)
+
+# Add the emergency skin.  This skin should provide enough functionality
+# to enable basic GUI functions to work.
+if config.skin.primary_skin.value != EMERGENCY_SKIN:
+	addSkin(EMERGENCY_SKIN, scope=SCOPE_CURRENT_SKIN)
+
+# Remove global working variables.
+del skin
+del name
+del result
+
+profile("LoadSkinDefaultDone")
 
 
 class SkinError(Exception):
@@ -334,13 +295,13 @@
 def parseColor(s):
 	if s[0] != "#":
 		try:
-			return colors[s]
+			return colorNames[s]
 		except KeyError:
 			raise SkinError("Color '%s' must be #aarrggbb or valid named color" % s)
 	return gRGB(int(s[1:], 0x10))
 
 def parseParameter(s):
-	"""This function is responsible for parsing parameters in the skin, it can parse integers, floats, hex colors, hex integers, named colors, fonts and strings."""
+	"""This function is responsible for parsing parameters in the skin, it can parse integers, floats, hex colors, hex integers, named colors and strings."""
 	if s[0] == "*":  # String.
 		return s[1:]
 	elif s[0] == "#":  # HEX Color.
@@ -349,25 +310,11 @@
 		return int(s, 16)
 	elif "." in s:  # Float number.
 		return float(s)
-	elif s in colors:  # Named color.
-		return colors[s].argb()
-	elif s.find(";") != -1:  # Font.
-		font, size = [x.strip() for x in s.split(";", 1)]
-		return [font, int(size)]
+	elif s in colorNames:
+		return colorNames[s].argb()
 	else:  # Integer.
 		return int(s)
 
-def loadPixmap(path, desktop):
-	option = path.find("#")
-	if option != -1:
-		path = path[:option]
-	if rc_model.rcIsDefault() is False and basename(path) in ("rc.png", "rc0.png", "rc1.png", "rc2.png", "oldrc.png"):
-		path = rc_model.getRcImg()
-	pixmap = LoadPixmap(path, desktop)
-	if pixmap is None:
-		raise SkinError("Pixmap file '%s' not found" % path)
-	return pixmap
-
 def collectAttributes(skinAttributes, node, context, skinPath=None, ignore=(), filenames=frozenset(("pixmap", "pointer", "seek_pointer", "backgroundPixmap", "selectionPixmap", "sliderPixmap", "scrollbarSliderPicture", "scrollbarbackgroundPixmap", "scrollbarBackgroundPicture"))):
 	size = None
 	pos = None
@@ -398,6 +345,22 @@
 	if size is not None:
 		skinAttributes.append(("size", size))
 
+def morphRcImagePath(value):
+	if rc_model.rcIsDefault() is False:
+		if value in ("/usr/share/enigma2/skin_default/rc.png", "/usr/share/enigma2/skin_default/rcold.png"):  # OpenPLi version.
+			value = rc_model.getRcImg()
+		# if ("rc.png" or "oldrc.png") in value:  # OpenViX version.
+		# 	value = "%src.png" % rc_model.getRcLocation()
+	return value
+
+def loadPixmap(path, desktop):
+	option = path.find("#")
+	if option != -1:
+		path = path[:option]
+	ptr = LoadPixmap(morphRcImagePath(path), desktop)
+	if ptr is None:
+		raise SkinError("Pixmap file '%s' not found" % path)
+	return ptr
 
 class AttributeParser:
 	def __init__(self, guiObject, desktop, scale=((1, 1), (1, 1))):
@@ -426,10 +389,16 @@
 		pass
 
 	def position(self, value):
-		self.guiObject.move(ePoint(*value) if isinstance(value, tuple) else parsePosition(value, self.scaleTuple, self.guiObject, self.desktop, self.guiObject.csize()))
+		if isinstance(value, tuple):
+			self.guiObject.move(ePoint(*value))
+		else:
+			self.guiObject.move(parsePosition(value, self.scaleTuple, self.guiObject, self.desktop, self.guiObject.csize()))
 
 	def size(self, value):
-		self.guiObject.resize(eSize(*value) if isinstance(value, tuple) else parseSize(value, self.scaleTuple, self.guiObject, self.desktop))
+		if isinstance(value, tuple):
+			self.guiObject.resize(eSize(*value))
+		else:
+			self.guiObject.resize(parseSize(value, self.scaleTuple, self.guiObject, self.desktop))
 
 	def animationPaused(self, value):
 		pass
@@ -470,25 +439,32 @@
 		self.guiObject.setItemHeight(int(value))
 
 	def pixmap(self, value):
-		self.guiObject.setPixmap(loadPixmap(value, self.desktop))
+		ptr = loadPixmap(value, self.desktop)
+		self.guiObject.setPixmap(ptr)
 
 	def backgroundPixmap(self, value):
-		self.guiObject.setBackgroundPicture(loadPixmap(value, self.desktop))
+		ptr = loadPixmap(value, self.desktop)
+		self.guiObject.setBackgroundPicture(ptr)
 
 	def selectionPixmap(self, value):
-		self.guiObject.setSelectionPicture(loadPixmap(value, self.desktop))
+		ptr = loadPixmap(value, self.desktop)
+		self.guiObject.setSelectionPicture(ptr)
 
 	def sliderPixmap(self, value):
-		self.guiObject.setSliderPicture(loadPixmap(value, self.desktop))
+		ptr = loadPixmap(value, self.desktop)
+		self.guiObject.setSliderPicture(ptr)
 
 	def scrollbarbackgroundPixmap(self, value):
-		self.guiObject.setScrollbarBackgroundPicture(loadPixmap(value, self.desktop))
+		ptr = loadPixmap(value, self.desktop)
+		self.guiObject.setScrollbarBackgroundPicture(ptr)
 
 	def scrollbarSliderPicture(self, value):  # For compatibility same as sliderPixmap.
-		self.guiObject.setSliderPicture(loadPixmap(value, self.desktop))
+		ptr = loadPixmap(value, self.desktop)
+		self.guiObject.setSliderPicture(ptr)
 
 	def scrollbarBackgroundPicture(self, value):  # For compatibility same as scrollbarbackgroundPixmap.
-		self.guiObject.setScrollbarBackgroundPicture(loadPixmap(value, self.desktop))
+		ptr = loadPixmap(value, self.desktop)
+		self.guiObject.setScrollbarBackgroundPicture(ptr)
 
 	def alphatest(self, value):
 		try:
@@ -652,18 +628,17 @@
 def applyAllAttributes(guiObject, desktop, attributes, scale):
 	AttributeParser(guiObject, desktop, scale).applyAll(attributes)
 
-def reloadWindowStyles():
-	for screenID in windowStyles:
-		desktop, screenID, domSkin, pathSkin, scope = windowStyles[screenID]
-		loadSingleSkinData(desktop, screenID, domSkin, pathSkin, scope)
-
-def loadSingleSkinData(desktop, screenID, domSkin, pathSkin, scope=SCOPE_CURRENT_SKIN):
+def loadSingleSkinData(desktop, domSkin, pathSkin, scope=SCOPE_CURRENT_SKIN):
 	"""Loads skin data like colors, windowstyle etc."""
 	assert domSkin.tag == "skin", "root element in skin must be 'skin'!"
-	global colors, fonts, menus, parameters, setups, switchPixmap
+	global colorNames, fonts, menus, parameters, setups, switchPixmap
 	for tag in domSkin.findall("output"):
-		scrnID = int(tag.attrib.get("id", GUI_SKIN_ID))
-		if scrnID == GUI_SKIN_ID:
+		id = tag.attrib.get("id")
+		if id:
+			id = int(id)
+		else:
+			id = GUI_SKIN_ID
+		if id == GUI_SKIN_ID:
 			for res in tag.findall("resolution"):
 				xres = res.attrib.get("xres")
 				xres = int(xres) if xres else 720
@@ -739,8 +714,9 @@
 		filename = tag.attrib.get("filename")
 		if filename:
 			filename = resolveFilename(scope, filename, path_prefix=pathSkin)
-			if isfile(filename):
-				loadSkin(filename, scope=scope, desktop=desktop, screenID=screenID)
+			if fileExists(filename):
+				print("[Skin] Loading included file '%s'." % filename)
+				loadSkin(filename, desktop=desktop, scope=scope)
 			else:
 				raise SkinError("Included file '%s' not found" % filename)
 	for tag in domSkin.findall("switchpixmap"):
@@ -752,7 +728,7 @@
 			if not filename:
 				raise SkinError("Pixmap needs filename attribute")
 			resolved = resolveFilename(scope, filename, path_prefix=pathSkin)
-			if isfile(resolved):
+			if fileExists(resolved):
 				switchPixmap[name] = LoadPixmap(resolved, cached=True)
 			else:
 				raise SkinError("The switchpixmap pixmap filename='%s' (%s) not found" % (filename, resolved))
@@ -761,7 +737,7 @@
 			name = color.attrib.get("name")
 			color = color.attrib.get("value")
 			if name and color:
-				colors[name] = parseColor(color)
+				colorNames[name] = parseColor(color)
 				# print("[Skin] DEBUG: Color name='%s', color='%s'." % (name, color))
 			else:
 				raise SkinError("Tag 'color' needs a name and color, got name='%s' and color='%s'" % (name, color))
@@ -778,14 +754,11 @@
 			else:
 				render = 0
 			filename = resolveFilename(SCOPE_FONTS, filename, path_prefix=pathSkin)
-			if isfile(filename):
-				addFont(filename, name, scale, isReplacement, render)
+			addFont(filename, name, scale, isReplacement, render)
 				# Log provided by C++ addFont code.
 				# print("[Skin] Add font: Font path='%s', name='%s', scale=%d, isReplacement=%s, render=%d." % (filename, name, scale, isReplacement, render))
-			else:
-				raise SkinError("Font file '%s' not found" % filename)
 		fallbackFont = resolveFilename(SCOPE_FONTS, "fallback.font", path_prefix=pathSkin)
-		if isfile(fallbackFont):
+		if fileExists(fallbackFont):
 			addFont(fallbackFont, "Fallback", 100, -1, 0)
 		# else:  # As this is optional don't raise an error.
 		# 	raise SkinError("Fallback font '%s' not found" % fallbackFont)
@@ -805,7 +778,7 @@
 			try:
 				name = parameter.attrib.get("name")
 				value = parameter.attrib.get("value")
-				parameters[name] = map(parseParameter, [x.strip() for x in value.split(",")]) if "," in value else parseParameter(value)
+				parameters[name] = "," in value and map(parseParameter, value.split(",")) or parseParameter(value)
 			except Exception as err:
 				raise SkinError("Bad parameter: '%s'" % str(err))
 	for tag in domSkin.findall("menus"):
@@ -852,7 +825,11 @@
 			eSubtitleWidget.setFontStyle(face, font, haveColor, foregroundColor, borderColor, borderWidth)
 	for tag in domSkin.findall("windowstyle"):
 		style = eWindowStyleSkinned()
-		scrnID = int(tag.attrib.get("id", GUI_SKIN_ID))
+		styleId = tag.attrib.get("id")
+		if styleId:
+			styleId = int(styleId)
+		else:
+			styleId = GUI_SKIN_ID
 		font = gFont("Regular", 20)  # Default
 		offset = eSize(20, 5)  # Default
 		for title in tag.findall("title"):
@@ -868,10 +845,7 @@
 				filename = pixmap.attrib.get("filename")
 				if filename and bpName:
 					png = loadPixmap(resolveFilename(scope, filename, path_prefix=pathSkin), desktop)
-					try:
-						style.setPixmap(eWindowStyleSkinned.__dict__[bsName], eWindowStyleSkinned.__dict__[bpName], png)
-					except Exception:
-						pass
+					style.setPixmap(eWindowStyleSkinned.__dict__[bsName], eWindowStyleSkinned.__dict__[bpName], png)
 				# print("[Skin] DEBUG: WindowStyle borderset name, filename - '%s' '%s'." % (bpName, filename))
 		for color in tag.findall("color"):
 			colorType = color.attrib.get("name")
@@ -882,9 +856,13 @@
 				raise SkinError("Unknown color type '%s'" % colorType)
 			# print("[Skin] DEBUG: WindowStyle color type, color -" % (colorType, str(color)))
 		x = eWindowStyleManager.getInstance()
-		x.setStyle(scrnID, style)
+		x.setStyle(styleId, style)
 	for tag in domSkin.findall("margin"):
-		scrnID = int(tag.attrib.get("id", GUI_SKIN_ID))
+		styleId = tag.attrib.get("id")
+		if styleId:
+			styleId = int(styleId)
+		else:
+			styleId = GUI_SKIN_ID
 		r = eRect(0, 0, 0, 0)
 		v = tag.attrib.get("left")
 		if v:
@@ -900,8 +878,75 @@
 			r.setBottom(int(v))
 		# The "desktop" parameter is hard-coded to the GUI screen, so we must ask
 		# for the one that this actually applies to.
-		getDesktop(scrnID).setMargins(r)
+		getDesktop(styleId).setMargins(r)
+
+# Now a utility for plugins to add skin data to the screens.
+#
+def loadSkin(filename, desktop=None, scope=SCOPE_SKIN, override=False):
+	global domScreens
+	filename = resolveFilename(scope, filename)
+	try:
+		# This open gets around a possible file handle leak in Python's XML parser.
+		with open(filename, "r") as fd:
+			try:
+				domSkin = xml.etree.cElementTree.parse(fd).getroot()
+				if desktop is not None:
+					loadSingleSkinData(desktop, domSkin, filename, scope=scope)
+				for element in domSkin:
+					name = evaluateElement(element, DISPLAY_SKIN_ID)
+					if name is None:
+						element.clear()
+					elif name not in domScreens:
+						domScreens[name] = (element, "%s/" % os.path.dirname(filename))
+						print "[Skin] Load skin screen name '%s' added to the skin." % name
+					elif override:
+						domScreens[name] = (element, "%s/" % os.path.dirname(filename))
+						print "[Skin] Load skin screen name '%s' replacing existing screen in the skin." % name
+					else:
+						print "[Skin] Load skin screen name '%s' already exists in the skin and has been skipped." % name
+			except xml.etree.cElementTree.ParseError as err:
+				fd.seek(0)
+				content = fd.readlines()
+				line, column = err.position
+				print "[Skin] XML Parse Error: '%s' in '%s'!" % (err, filename)
+				data = content[line - 1].replace("\t", " ").rstrip()
+				print "[Skin] XML Parse Error: '%s'" % data
+				print "[Skin] XML Parse Error: '%s^%s'" % ("-" * column, " " * (len(data) - column - 1))
+			except Exception as err:
+				print "[Skin] Error: Unable to parse skin data in '%s' - '%s'!" % (filename, err)
+	except (IOError, OSError) as err:
+		if err.errno == errno.ENOENT:  #  No such file or directory
+			print "[Skin] Warning: Skin file '%s' does not exist!" % filename
+		else:
+			print "[Skin] Error %d: Opening skin file '%s'! (%s)" % (err.errno, filename, err.strerror)
+	except Exception as err:
+		print "[Skin] Error: Unexpected error opening skin file '%s'! (%s)" % (filename, err)
 
+# Kinda hackish, but this is called once by mytest.py.
+#
+def loadSkinData(desktop):
+	global domSkins
+	skins = domSkins[:]
+	skins.reverse()
+	for (scope, pathSkin, domSkin) in skins:
+		loadSingleSkinData(desktop, domSkin, pathSkin, scope=scope)
+		for element in domSkin:
+			name = evaluateElement(element, DISPLAY_SKIN_ID)
+			if name is None:
+				element.clear()
+			else:
+				domScreens[name] = (element, pathSkin)
+	# No longer needed, we know where the screens are now.
+	del domSkins
+
+def evaluateElement(element, screenID):
+	if element.tag == "screen":  # If non-screen element, no need for it any longer.
+		name = element.attrib.get("name", None)
+		if name:  # Without a name, it's useless!
+			screenID = element.attrib.get("id", None)
+			if not screenID or (screenID == screenID):  # If for this display.
+				return name
+	return None
 
 class additionalWidget:
 	def __init__(self):
@@ -1007,26 +1052,14 @@
 	for n in names:  # Try all skins, first existing one has priority.
 		myScreen, path = domScreens.get(n, (None, None))
 		if myScreen is not None:
-			if screen.mandatoryWidgets is None:
-				screen.mandatoryWidgets = []
-			else:
-				widgets = findWidgets(n)
-			if screen.mandatoryWidgets == [] or all(item in widgets for item in screen.mandatoryWidgets):
-				name = n  # Use this name for debug output.
-				break
-			else:
-				print("[Skin] Warning: Skin screen '%s' rejected as it does not offer all the mandatory widgets '%s'!" % (n, ", ".join(screen.mandatoryWidgets)))
-				myScreen = None
+			name = n  # Use this name for debug output.
+			break
 	else:
 		name = "<embedded-in-%s>" % screen.__class__.__name__
 	if myScreen is None:  # Otherwise try embedded skin.
 		myScreen = getattr(screen, "parsedSkin", None)
 	if myScreen is None and getattr(screen, "skin", None):  # Try uncompiled embedded skin.
-		if isinstance(screen.skin, list):
-			print("[Skin] Resizable embedded skin template found in '%s'." % name)
-			skin = screen.skin[0] % tuple([int(x * getSkinFactor()) for x in screen.skin[1:]])
-		else:
-			skin = screen.skin
+		skin = screen.skin
 		print("[Skin] Parsing embedded skin '%s'." % name)
 		if isinstance(skin, tuple):
 			for s in skin:
@@ -1096,8 +1129,8 @@
 				source = scr.get(path[0])  # Resolve the source.
 				if isinstance(source, ObsoleteSource):
 					# If we found an "obsolete source", issue warning, and resolve the real source.
-					print("[Skin] WARNING: SKIN '%s' USES OBSOLETE SOURCE '%s', USE '%s' INSTEAD!" % (name, wsource, source.newSource))
-					print("[Skin] OBSOLETE SOURCE WILL BE REMOVED %s, PLEASE UPDATE!" % source.removalDate)
+					print("[Skin] WARNING: SKIN '%s' USES OBSOLETE SOURCE '%s', USE '%s' INSTEAD!" % (name, wsource, source.new_source))
+					print("[Skin] OBSOLETE SOURCE WILL BE REMOVED %s, PLEASE UPDATE!" % source.removal_date)
 					if source.description:
 						print("[Skin] Source description: '%s'." % source.description)
 					wsource = source.new_source
@@ -1117,10 +1150,7 @@
 				except Exception:
 					parms = ""
 				# print("[Skin] DEBUG: Params='%s'." % parms)
-				try:
-					converterClass = my_import(".".join(("Components", "Converter", ctype))).__dict__.get(ctype)
-				except ImportError:
-					raise SkinError("Converter '%s' not found" % ctype)
+				converterClass = my_import(".".join(("Components", "Converter", ctype))).__dict__.get(ctype)
 				c = None
 				for i in source.downstream_elements:
 					if isinstance(i, converterClass) and i.converter_arguments == parms:
@@ -1129,10 +1159,7 @@
 					c = converterClass(parms)
 					c.connect(source)
 				source = c
-			try:
-				rendererClass = my_import(".".join(("Components", "Renderer", wrender))).__dict__.get(wrender)
-			except ImportError:
-				raise SkinError("Renderer '%s' not found" % wrender)
+			rendererClass = my_import(".".join(("Components", "Renderer", wrender))).__dict__.get(wrender)
 			renderer = rendererClass()  # Instantiate renderer.
 			renderer.connect(source)  # Connect to source.
 			attributes = renderer.skinAttributes = []
@@ -1230,41 +1257,11 @@
 	screen = None
 	usedComponents = None
 
-# Return a set of all the widgets found in a screen. Panels will be expanded
-# recursively until all referenced widgets are captured. This code only performs
-# a simple scan of the XML and no skin processing is performed.
-#
-def findWidgets(name):
-	widgetSet = set()
-	element, path = domScreens.get(name, (None, None))
-	if element is not None:
-		widgets = element.findall("widget")
-		if widgets is not None:
-			for widget in widgets:
-				name = widget.get("name", None)
-				if name is not None:
-					widgetSet.add(name)
-				source = widget.get("source", None)
-				if source is not None:
-					widgetSet.add(source)
-		panels = element.findall("panel")
-		if panels is not None:
-			for panel in panels:
-				name = panel.get("name", None)
-				if name:
-					widgetSet.update(findWidgets(name))
-	return widgetSet
-
 # Return a scaling factor (float) that can be used to rescale screen displays
 # to suit the current resolution of the screen.  The scales are based on a
 # default screen resolution of HD (720p).  That is the scale factor for a HD
 # screen will be 1.
 #
-def getSkinFactor():
-	skinfactor = getDesktop(GUI_SKIN_ID).size().height() / 720.0
-	# if skinfactor not in [0.8, 1, 1.5, 3, 6]:
-	# 	print("[Skin] Warning: Unexpected result for getSkinFactor '%0.4f'!" % skinfactor)
-	return skinfactor
 
 # Search the domScreens dictionary to see if any of the screen names provided
 # have a skin based screen.  This will allow coders to know if the named
diff -ruN o/tools/enigma2.sh.in pc/tools/enigma2.sh.in
--- o/tools/enigma2.sh.in	2020-08-01 17:47:17.267606014 +0300
+++ pc/tools/enigma2.sh.in	2020-11-01 12:15:23.418282555 +0300
@@ -1,144 +1,37 @@
 #!/bin/sh
 
-prefix=@prefix@
-exec_prefix=@exec_prefix@
-datarootdir=@datarootdir@
-
-if [ -d /home/root ]; then
-	export HOME=/home/root
-	cd
-fi
-
-# any debuglevel passed?
-if [ -z $ENIGMA_DEBUG_LVL ]; then
-	DEBUG_LVL=3
-else
-	DEBUG_LVL=$ENIGMA_DEBUG_LVL
-fi
+HDD="/media/hdd"
+PREFIX="/usr/local/e2/bin"
 
-LIBS=@libdir@/libopen.so.0.0.0
+nice -n -10 $PREFIX/enigma2 > /tmp/BootLogEnigma2 2>&1
 
 # enigma main loop
-while : ; do
-	# show bootlogo on enigma2 start
-	if [ -x @bindir@/showiframe ]; then
-		if [ -f @sysconfdir@/enigma2/backdrop.mvi ]; then
-			@bindir@/showiframe @sysconfdir@/enigma2/backdrop.mvi
-		elif [ -f @sysconfdir@/enigma2/bootlogo.mvi ]; then
-			@bindir@/showiframe @sysconfdir@/enigma2/bootlogo.mvi
-		elif [ -f @datadir@/bootlogo.mvi ]; then
-			@bindir@/showiframe @datadir@/bootlogo.mvi
-		fi
-	fi
-
-	# hook to execute scripts always before enigma2 start
-	if [ -x @bindir@/enigma2_pre_start.sh ]; then
-		@bindir@/enigma2_pre_start.sh
-	fi
-
-	# start enigma
-	sync
-	if [ $DEBUG_LVL -lt 4 ]; then
-		LD_PRELOAD=$LIBS ENIGMA_DEBUG_LVL=$DEBUG_LVL @bindir@/enigma2
-	else
-		# remove old logfiles
-		keep=5;
-		for file in `ls -t /home/root/enigma.*.debuglog`; do let "keep--"; if [ "$keep" -lt "0" ]; then rm $file; fi; done
-		# todays log file
-		file="/home/root/enigma.$(date +%Y%m%d).debuglog"
-		LD_PRELOAD=$LIBS ENIGMA_DEBUG_LVL=$DEBUG_LVL @bindir@/enigma2 >> $file 2>&1
-	fi
-
 
-	# enigma2 exit codes:
+	# e2pc exit codes:
 	#
-	#  1 - halt
+	#  1 - poweroff
 	#  2 - reboot
-	#  3 - restart enigma in normal mode
-	#  4 - front processor upgrade
-	#  5 - install new settings
-	#  6 - restart enigma in debug mode
-	#  7 - manufacturer reset
-	# 42 - offline update
-	# 43 - restart for autoinstall
+	#  3 - quit e2pc
 	#
 	# >128 signal
 
 	ret=$?
 	case $ret in
 		1)
-			/sbin/halt
+			/sbin/poweroff
 			;;
 		2)
 			/sbin/reboot
 			;;
 		3)
-			DEBUG_LVL=3
-			;;
-		4)
-			/sbin/rmmod lcd
-			/usr/sbin/fpupgrade --upgrade 2>&1 | tee /home/root/fpupgrade.log
-			sleep 1;
-			/sbin/rmmod fp
-			/sbin/modprobe fp
-			/sbin/reboot
-			;;
-		5)
-			if ! grep -q config.misc.RestartUI /etc/enigma2/settings; then
-				echo "config.misc.RestartUI=true" >>/etc/enigma2/settings
-			fi
-			;;
-		6)
-			DEBUG_LVL=4
-			;;
-		7)
-			rm -R /etc/enigma2
-			;;
-		42)
-			df -P | grep -v "tmpfs " | awk '{print $6}' | tail -n +3 > /tmp/upgrade_mountpoints.txt
-			while read line; do
-				if [  -f $line/var/lib/opkg/status ]; then
-				DESTS=$DESTS" --add-dest "$line":"$line
-			fi
-			done < /tmp/upgrade_mountpoints.txt
-			# bind the console (when available)
-			[ -f /sys/class/vtconsole/vtcon1/bind ] && echo 1 > /sys/class/vtconsole/vtcon1/bind
-			prevupd=0
-			currupd=999
-			opkg update 2>&1 | tee /home/root/opkgupgrade.log
-			while [ $currupd -gt 0 -a $currupd -ne $prevupd ]; do
-				opkg upgrade $DESTS 2>&1 | tee -a /home/root/opkgupgrade.log
-				prevupd=$currupd
-				currupd=`opkg list-upgradable | wc -l`
-				echo "===> $currupd PACKAGE(S) REMAINING" >> /home/root/ipkupgrade.log
-			done
-			/sbin/reboot
-			;;
-		43)
-			#auto install and autobackup
-			[ -f /sys/class/vtconsole/vtcon1/bind ] && echo 1 > /sys/class/vtconsole/vtcon1/bind
-			/etc/init.d/settings-restore.sh
-			/etc/init.d/avahi-daemon stop
-			ifdown eth1
-			ip addr flush dev eth1 scope global
-			ifdown eth0
-			ip addr flush dev eth0 scope global
-			/etc/init.d/networking stop
-			killall -9 udhcpc
-			rm /var/run/udhcpc*
-			/etc/init.d/dbus-1 reload
-			/etc/init.d/networking start
-			/etc/init.d/avahi-daemon start
-			if [ ! -f /etc/.doNotAutoinstall ]; then
-				touch /etc/.doAutoinstall
-			else
-				rm -f /etc/.doNotAutoInstall
-			fi
-			break
 			;;
 		*)
-			break
 			;;
 	esac
 
-done
+# Case crash - restart once.
+if [ -f "$(find $HDD/ -name "enigma2_crash_*.log")" ]; then
+	mv -f $HDD/enigma2_crash_*.log /tmp # Part of restart mechanism. See log in /tmp.
+	sleep 5
+	$PREFIX/enigma2 # Loopback.
+fi
